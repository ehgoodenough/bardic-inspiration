!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=46)}([function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return Cc})),n.d(e,"b",(function(){return bl})),n.d(e,"c",(function(){return al})),n.d(e,"d",(function(){return Lu})),n.d(e,"e",(function(){return Sc})),n.d(e,"f",(function(){return Il})),n.d(e,"g",(function(){return C})),n.d(e,"h",(function(){return vl})),n.d(e,"i",(function(){return Uc})),n.d(e,"j",(function(){return Tc})),n.d(e,"k",(function(){return B})),n.d(e,"l",(function(){return Wc})),n.d(e,"m",(function(){return gt})),n.d(e,"n",(function(){return P})),n.d(e,"o",(function(){return K})),n.d(e,"p",(function(){return qu})),n.d(e,"q",(function(){return w})),n.d(e,"r",(function(){return vt})),n.d(e,"s",(function(){return f})),n.d(e,"t",(function(){return bu})),n.d(e,"u",(function(){return Gc})),n.d(e,"v",(function(){return eh})),n.d(e,"w",(function(){return th})),n.d(e,"x",(function(){return ml})),n.d(e,"y",(function(){return Ou})),n.d(e,"z",(function(){return Nu})),n.d(e,"A",(function(){return ju})),n.d(e,"B",(function(){return Mc})),n.d(e,"C",(function(){return Xc})),n.d(e,"D",(function(){return gl})),n.d(e,"E",(function(){return Ru})),n.d(e,"F",(function(){return hl})),n.d(e,"G",(function(){return Al})),n.d(e,"H",(function(){return fl})),n.d(e,"I",(function(){return gc})),n.d(e,"J",(function(){return fc})),n.d(e,"K",(function(){return ll})),n.d(e,"L",(function(){return Jc})),n.d(e,"M",(function(){return _c})),n.d(e,"N",(function(){return Oc})),n.d(e,"O",(function(){return Nc})),n.d(e,"P",(function(){return Rc})),n.d(e,"Q",(function(){return kc})),n.d(e,"R",(function(){return Bc})),n.d(e,"S",(function(){return nh})),n.d(e,"T",(function(){return cc})),n.d(e,"U",(function(){return hc})),n.d(e,"V",(function(){return yl})),n.d(e,"W",(function(){return El})),n.d(e,"X",(function(){return Kc})),n.d(e,"Y",(function(){return Pc})),n.d(e,"Z",(function(){return uc})),n.d(e,"ab",(function(){return ic})),n.d(e,"bb",(function(){return Bu})),n.d(e,"cb",(function(){return ku})),n.d(e,"db",(function(){return Zc})),n.d(e,"eb",(function(){return $c})),n.d(e,"fb",(function(){return Fc})),n.d(e,"gb",(function(){return d})),n.d(e,"hb",(function(){return Lc})),n.d(e,"ib",(function(){return mc})),n.d(e,"jb",(function(){return dc})),n.d(e,"kb",(function(){return Qc})),n.d(e,"lb",(function(){return pl})),n.d(e,"mb",(function(){return sc}));var i=n(2),r=n(3),s=n(5),o=n(1),a=n(4);const u="@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}l.UNAUTHENTICATED=new l(null),l.GOOGLE_CREDENTIALS=new l("google-credentials-uid"),l.FIRST_PARTY=new l("first-party-uid"),l.MOCK_USER=new l("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let c="9.15.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h=new s.b("@firebase/firestore");function A(){return h.logLevel}function d(t){h.setLogLevel(t)}function m(t,...e){if(h.logLevel<=s.a.DEBUG){const n=e.map(g);h.debug(`Firestore (${c}): ${t}`,...n)}}function p(t,...e){if(h.logLevel<=s.a.ERROR){const n=e.map(g);h.error(`Firestore (${c}): ${t}`,...n)}}function f(t,...e){if(h.logLevel<=s.a.WARN){const n=e.map(g);h.warn(`Firestore (${c}): ${t}`,...n)}}function g(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y(t="Unexpected state"){const e=`FIRESTORE (${c}) INTERNAL ASSERTION FAILED: `+t;throw p(e),new Error(e)}function E(t,e){t||y()}function w(t,e){t||y()}function b(t,e){return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends o.c{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer "+t)}}class D{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(l.UNAUTHENTICATED))}shutdown(){}}class S{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class U{constructor(t){this.t=t,this.currentUser=l.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const i=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let r=new v;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new v,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const e=r;t.enqueueRetryable(async()=>{await e.promise,await i(this.currentUser)})},o=t=>{m("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(t=>o(t)),setTimeout(()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(m("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new v)}},0),s()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(e=>this.i!==t?(m("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(E("string"==typeof e.accessToken),new q(e.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return E(null===t||"string"==typeof t),new l(t)}}class T{constructor(t,e,n,i){this.h=t,this.l=e,this.m=n,this.g=i,this.type="FirstParty",this.user=l.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(E(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class j{constructor(t,e,n,i){this.h=t,this.l=e,this.m=n,this.g=i}getToken(){return Promise.resolve(new T(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(l.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class L{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const n=t=>{null!=t.error&&m("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: "+t.error.message);const n=t.token!==this.A;return this.A=t.token,m("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable(()=>n(e))};const i=t=>{m("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.T.onInit(t=>i(t)),setTimeout(()=>{if(!this.appCheck){const t=this.T.getImmediate({optional:!0});t?i(t):m("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(t=>t?(E("string"==typeof t.token),this.A=t.token,new L(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function x(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let e=0;e<t;e++)n[e]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const i=x(40);for(let r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%t.length))}return n}}function N(t,e){return t<e?-1:t>e?1:0}function R(t,e,n){return t.length===e.length&&t.every((t,i)=>n(t,e[i]))}function k(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new C(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new C(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new C(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new C(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return B.fromMillis(Date.now())}static fromDate(t){return B.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new B(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?N(this.nanoseconds,t.nanoseconds):N(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(t){this.timestamp=t}static fromTimestamp(t){return new F(t)}static min(){return new F(new B(0,0))}static max(){return new F(new B(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t,e,n){void 0===e?e=0:e>t.length&&y(),void 0===n?n=t.length-e:n>t.length-e&&y(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===Q.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Q?t.forEach(t=>{e.push(t)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const n=t.get(i),r=e.get(i);if(n<r)return-1;if(n>r)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class M extends Q{construct(t,e,n){return new M(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new C(I.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(t=>t.length>0))}return new M(e)}static emptyPath(){return new M([])}}const G=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class K extends Q{construct(t,e,n){return new K(t,e,n)}static isValidIdentifier(t){return G.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),K.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new K(["__name__"])}static fromServerFormat(t){const e=[];let n="",i=0;const r=()=>{if(0===n.length)throw new C(I.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let s=!1;for(;i<t.length;){const e=t[i];if("\\"===e){if(i+1===t.length)throw new C(I.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[i+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new C(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,i+=2}else"`"===e?(s=!s,i++):"."!==e||s?(n+=e,i++):(r(),i++)}if(r(),s)throw new C(I.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new K(e)}static emptyPath(){return new K([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(t){this.path=t}static fromPath(t){return new P(M.fromString(t))}static fromName(t){return new P(M.fromString(t).popFirst(5))}static empty(){return new P(M.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===M.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return M.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new P(new M(t.slice()))}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t,e,n,i){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=i}}function V(t){return t.fields.find(t=>2===t.kind)}function H(t){return t.fields.filter(t=>2!==t.kind)}J.UNKNOWN_ID=-1;class W{constructor(t,e){this.fieldPath=t,this.kind=e}}class Y{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Y(0,X.min())}}function z(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=F.fromTimestamp(1e9===i?new B(n+1,0):new B(n,i));return new X(r,P.empty(),e)}function Z(t){return new X(t.readTime,t.key,-1)}class X{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new X(F.min(),P.empty(),-1)}static max(){return new X(F.max(),P.empty(),-1)}}function $(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=P.comparator(t.documentKey,e.documentKey),0!==n?n:N(t.largestBatchId,e.largestBatchId))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class et{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nt(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==tt)throw t;m("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new it((n,i)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,i)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,i)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof it?e:it.resolve(e)}catch(t){return it.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):it.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):it.reject(e)}static resolve(t){return new it((e,n)=>{e(t)})}static reject(t){return new it((e,n)=>{n(t)})}static waitFor(t){return new it((e,n)=>{let i=0,r=0,s=!1;t.forEach(t=>{++i,t.next(()=>{++r,s&&r===i&&e()},t=>n(t))}),s=!0,r===i&&e()})}static or(t){let e=it.resolve(!1);for(const n of t)e=e.next(t=>t?it.resolve(t):n());return e}static forEach(t,e){const n=[];return t.forEach((t,i)=>{n.push(e.call(this,t,i))}),this.waitFor(n)}static mapArray(t,e){return new it((n,i)=>{const r=t.length,s=new Array(r);let o=0;for(let a=0;a<r;a++){const u=a;e(t[u]).next(t=>{s[u]=t,++o,o===r&&n(s)},t=>i(t))}})}static doWhile(t,e){return new it((n,i)=>{const r=()=>{!0===t()?e().next(()=>{r()},i):n()};r()})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new v,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new at(t,e.error)):this.P.resolve()},this.transaction.onerror=e=>{const n=At(e.target.error);this.P.reject(new at(t,n))}}static open(t,e,n,i){try{return new rt(e,t.transaction(i,n))}catch(t){throw new at(e,t)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||(m("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new lt(e)}}class st{constructor(t,e,n){this.name=t,this.version=e,this.S=n,12.2===st.D(Object(o.m)())&&p("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return m("SimpleDb","Removing database:",t),ct(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!Object(o.o)())return!1;if(st.N())return!0;const t=Object(o.m)(),e=st.D(t),n=0<e&&e<10,i=st.k(t),r=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||n||r)}static N(){var e;return void 0!==t&&"YES"===(null===(e=t.env)||void 0===e?void 0:e.O)}static M(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static k(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async F(t){return this.db||(m("SimpleDb","Opening database:",this.name),this.db=await new Promise((e,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=t=>{const n=t.target.result;e(n)},i.onblocked=()=>{n(new at(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=e=>{const i=e.target.error;"VersionError"===i.name?n(new C(I.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===i.name?n(new C(I.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+i)):n(new at(t,i))},i.onupgradeneeded=t=>{m("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',t.oldVersion);const e=t.target.result;this.S.$(e,i.transaction,t.oldVersion,this.version).next(()=>{m("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=t=>this.B(t)),this.db}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,n,i){const r="readonly"===e;let s=0;for(;;){++s;try{this.db=await this.F(t);const e=rt.open(this.db,t,r?"readonly":"readwrite",n),s=i(e).next(t=>(e.V(),t)).catch(t=>(e.abort(t),it.reject(t))).toPromise();return s.catch(()=>{}),await e.v,s}catch(t){const e=t,n="FirebaseError"!==e.name&&s<3;if(m("SimpleDb","Transaction failed with error:",e.message,"Retrying:",n),this.close(),!n)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class ot{constructor(t){this.q=t,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(t){this.q=t}done(){this.U=!0}j(t){this.K=t}delete(){return ct(this.q.delete())}}class at extends C{constructor(t,e){super(I.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function ut(t){return"IndexedDbTransactionError"===t.name}class lt{constructor(t){this.store=t}put(t,e){let n;return void 0!==e?(m("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(m("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ct(n)}add(t){return m("SimpleDb","ADD",this.store.name,t,t),ct(this.store.add(t))}get(t){return ct(this.store.get(t)).next(e=>(void 0===e&&(e=null),m("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return m("SimpleDb","DELETE",this.store.name,t),ct(this.store.delete(t))}count(){return m("SimpleDb","COUNT",this.store.name),ct(this.store.count())}W(t,e){const n=this.options(t,e);if(n.index||"function"!=typeof this.store.getAll){const t=this.cursor(n),e=[];return this.H(t,(t,n)=>{e.push(n)}).next(()=>e)}{const t=this.store.getAll(n.range);return new it((e,n)=>{t.onerror=t=>{n(t.target.error)},t.onsuccess=t=>{e(t.target.result)}})}}J(t,e){const n=this.store.getAll(t,null===e?void 0:e);return new it((t,e)=>{n.onerror=t=>{e(t.target.error)},n.onsuccess=e=>{t(e.target.result)}})}Y(t,e){m("SimpleDb","DELETE ALL",this.store.name);const n=this.options(t,e);n.X=!1;const i=this.cursor(n);return this.H(i,(t,e,n)=>n.delete())}Z(t,e){let n;e?n=t:(n={},e=t);const i=this.cursor(n);return this.H(i,e)}tt(t){const e=this.cursor({});return new it((n,i)=>{e.onerror=t=>{const e=At(t.target.error);i(e)},e.onsuccess=e=>{const i=e.target.result;i?t(i.primaryKey,i.value).next(t=>{t?i.continue():n()}):n()}})}H(t,e){const n=[];return new it((i,r)=>{t.onerror=t=>{r(t.target.error)},t.onsuccess=t=>{const r=t.target.result;if(!r)return void i();const s=new ot(r),o=e(r.primaryKey,r.value,s);if(o instanceof it){const t=o.catch(t=>(s.done(),it.reject(t)));n.push(t)}s.isDone?i():null===s.G?r.continue():r.continue(s.G)}}).next(()=>it.waitFor(n))}options(t,e){let n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const n=this.store.index(t.index);return t.X?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function ct(t){return new it((e,n)=>{t.onsuccess=t=>{const n=t.target.result;e(n)},t.onerror=t=>{const e=At(t.target.error);n(e)}})}let ht=!1;function At(t){const e=st.D(Object(o.m)());if(e>=12.2&&e<13){const e="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(e)>=0){const t=new C("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ht||(ht=!0,setTimeout(()=>{throw t},0)),t}}return t}class dt{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){m("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,async()=>{this.task=null;try{m("IndexBackiller","Documents written: "+await this.et.st())}catch(t){ut(t)?m("IndexBackiller","Ignoring IndexedDB error during index backfill: ",t):await nt(t)}await this.nt(6e4)})}}class mt{constructor(t,e){this.localStore=t,this.persistence=e}async st(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",e=>this.it(e,t))}it(t,e){const n=new Set;let i=e,r=!0;return it.doWhile(()=>!0===r&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(e=>{if(null!==e&&!n.has(e))return m("IndexBackiller","Processing collection: "+e),this.rt(t,e,i).next(t=>{i-=t,n.add(e)});r=!1})).next(()=>e-i)}rt(t,e,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(i=>this.localStore.localDocuments.getNextDocuments(t,e,i,n).next(n=>{const r=n.changes;return this.localStore.indexManager.updateIndexEntries(t,r).next(()=>this.ot(i,n)).next(n=>(m("IndexBackiller","Updating offset: "+n),this.localStore.indexManager.updateCollectionGroup(t,e,n))).next(()=>r.size)}))}ot(t,e){let n=t;return e.changes.forEach((t,e)=>{const i=Z(e);$(i,n)>0&&(n=i)}),new X(n.readTime,n.documentKey,Math.max(e.batchId,t.largestBatchId))}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ut(t),this.ct=t=>e.writeSequenceNumber(t))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}pt.at=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ft{constructor(t,e,n,i,r,s,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class gt{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new gt("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof gt&&t.projectId===this.projectId&&t.database===this.database}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Et(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wt(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(t){return null==t}function It(t){return 0===t&&1/t==-1/0}function Ct(t){return"number"==typeof t&&Number.isInteger(t)&&!It(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(){return"undefined"!=typeof atob}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new qt(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new qt(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return N(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const Dt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function St(t){if(E(!!t),"string"==typeof t){let e=0;const n=Dt.exec(t);if(E(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ut(t.seconds),nanos:Ut(t.nanos)}}function Ut(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Tt(t){return"string"==typeof t?qt.fromBase64String(t):qt.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Lt(t){const e=St(t.mapValue.fields.__local_write_time__.timestampValue);return new B(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _t={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},xt={nullValue:"NULL_VALUE"};function Ot(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jt(t)?4:Ht(t)?9007199254740991:10:y()}function Nt(t,e){if(t===e)return!0;const n=Ot(t);if(n!==Ot(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Lt(t).isEqual(Lt(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=St(t.timestampValue),i=St(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Tt(t.bytesValue).isEqual(Tt(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ut(t.geoPointValue.latitude)===Ut(e.geoPointValue.latitude)&&Ut(t.geoPointValue.longitude)===Ut(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ut(t.integerValue)===Ut(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=Ut(t.doubleValue),i=Ut(e.doubleValue);return n===i?It(n)===It(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return R(t.arrayValue.values||[],e.arrayValue.values||[],Nt);case 10:return function(t,e){const n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(yt(n)!==yt(i))return!1;for(const t in n)if(n.hasOwnProperty(t)&&(void 0===i[t]||!Nt(n[t],i[t])))return!1;return!0}(t,e);default:return y()}}function Rt(t,e){return void 0!==(t.values||[]).find(t=>Nt(t,e))}function kt(t,e){if(t===e)return 0;const n=Ot(t),i=Ot(e);if(n!==i)return N(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return N(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=Ut(t.integerValue||t.doubleValue),i=Ut(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return Bt(t.timestampValue,e.timestampValue);case 4:return Bt(Lt(t),Lt(e));case 5:return N(t.stringValue,e.stringValue);case 6:return function(t,e){const n=Tt(t),i=Tt(e);return n.compareTo(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),i=e.split("/");for(let t=0;t<n.length&&t<i.length;t++){const e=N(n[t],i[t]);if(0!==e)return e}return N(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=N(Ut(t.latitude),Ut(e.latitude));return 0!==n?n:N(Ut(t.longitude),Ut(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],i=e.values||[];for(let t=0;t<n.length&&t<i.length;++t){const e=kt(n[t],i[t]);if(e)return e}return N(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){if(t===_t.mapValue&&e===_t.mapValue)return 0;if(t===_t.mapValue)return 1;if(e===_t.mapValue)return-1;const n=t.fields||{},i=Object.keys(n),r=e.fields||{},s=Object.keys(r);i.sort(),s.sort();for(let t=0;t<i.length&&t<s.length;++t){const e=N(i[t],s[t]);if(0!==e)return e;const o=kt(n[i[t]],r[s[t]]);if(0!==o)return o}return N(i.length,s.length)}(t.mapValue,e.mapValue);default:throw y()}}function Bt(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return N(t,e);const n=St(t),i=St(e),r=N(n.seconds,i.seconds);return 0!==r?r:N(n.nanos,i.nanos)}function Ft(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){const e=St(t);return`time(${e.seconds},${e.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Tt(e.bytesValue).toBase64():"referenceValue"in e?(i=e.referenceValue,P.fromName(i).toString()):"geoPointValue"in e?`geo(${(n=e.geoPointValue).latitude},${n.longitude})`:"arrayValue"in e?function(e){let n="[",i=!0;for(const r of e.values||[])i?i=!1:n+=",",n+=t(r);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){const n=Object.keys(e.fields||{}).sort();let i="{",r=!0;for(const s of n)r?r=!1:i+=",",i+=`${s}:${t(e.fields[s])}`;return i+"}"}(e.mapValue):y();var n,i}(t)}function Qt(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Mt(t){return!!t&&"integerValue"in t}function Gt(t){return!!t&&"arrayValue"in t}function Kt(t){return!!t&&"nullValue"in t}function Pt(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jt(t){return!!t&&"mapValue"in t}function Vt(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Et(t.mapValue.fields,(t,n)=>e.mapValue.fields[t]=Vt(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vt(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ht(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function Wt(t){return"nullValue"in t?xt:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Qt(gt.empty(),P.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:y()}function Yt(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Qt(gt.empty(),P.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?_t:y()}function zt(t,e){const n=kt(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Zt(t,e){const n=kt(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(t,e){this.position=t,this.inclusive=e}}function $t(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(i=s.field.isKeyField()?P.comparator(P.fromName(o.referenceValue),n.key):kt(o,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function te(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Nt(t.position[n],e.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{}class ne extends ee{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new he(t,e,n):"array-contains"===e?new pe(t,n):"in"===e?new fe(t,n):"not-in"===e?new ge(t,n):"array-contains-any"===e?new ye(t,n):new ne(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new Ae(t,n):new de(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(kt(e,this.value)):null!==e&&Ot(this.value)===Ot(e)&&this.matchesComparison(kt(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ie extends ee{constructor(t,e){super(),this.filters=t,this.op=e,this.ht=null}static create(t,e){return new ie(t,e)}matches(t){return re(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(t=>t.isInequality());return null!==t?t.field:null}lt(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function re(t){return"and"===t.op}function se(t){return"or"===t.op}function oe(t){return ae(t)&&re(t)}function ae(t){for(const e of t.filters)if(e instanceof ie)return!1;return!0}function ue(t,e){return t instanceof ne?function(t,e){return e instanceof ne&&t.op===e.op&&t.field.isEqual(e.field)&&Nt(t.value,e.value)}(t,e):t instanceof ie?function(t,e){return e instanceof ie&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce((t,n,i)=>t&&ue(n,e.filters[i]),!0)}(t,e):void y()}function le(t,e){const n=t.filters.concat(e);return ie.create(n,t.op)}function ce(t){return t instanceof ne?function(t){return`${t.field.canonicalString()} ${t.op} ${Ft(t.value)}`}(t):t instanceof ie?function(t){return t.op.toString()+" {"+t.getFilters().map(ce).join(" ,")+"}"}(t):"Filter"}class he extends ne{constructor(t,e,n){super(t,e,n),this.key=P.fromName(n.referenceValue)}matches(t){const e=P.comparator(t.key,this.key);return this.matchesComparison(e)}}class Ae extends ne{constructor(t,e){super(t,"in",e),this.keys=me("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class de extends ne{constructor(t,e){super(t,"not-in",e),this.keys=me("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function me(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(t=>P.fromName(t.referenceValue))}class pe extends ne{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Gt(e)&&Rt(e.arrayValue,this.value)}}class fe extends ne{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Rt(this.value.arrayValue,e)}}class ge extends ne{constructor(t,e){super(t,"not-in",e)}matches(t){if(Rt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Rt(this.value.arrayValue,e)}}class ye extends ne{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Gt(e)||!e.arrayValue.values)&&e.arrayValue.values.some(t=>Rt(this.value.arrayValue,t))}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(t,e="asc"){this.field=t,this.dir=e}}function we(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t,e){this.comparator=t,this.root=e||Ce.EMPTY}insert(t,e){return new be(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ce.BLACK,null,null))}remove(t){return new be(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ce.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){const t=[];return this.inorderTraversal((e,n)=>(t.push(`${e}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ie(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ie(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ie(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ie(this.root,t,this.comparator,!0)}}class Ie{constructor(t,e,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=e?n(t.key,e):1,e&&i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ce{constructor(t,e,n,i,r){this.key=t,this.value=e,this.color=null!=n?n:Ce.RED,this.left=null!=i?i:Ce.EMPTY,this.right=null!=r?r:Ce.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,i,r){return new Ce(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const r=n(t,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ce.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return Ce.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ce.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ce.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw y();if(this.right.isRed())throw y();const t=this.left.check();if(t!==this.right.check())throw y();return t+(this.isRed()?0:1)}}Ce.EMPTY=null,Ce.RED=!0,Ce.BLACK=!1,Ce.EMPTY=new class{constructor(){this.size=0}get key(){throw y()}get value(){throw y()}get color(){throw y()}get left(){throw y()}get right(){throw y()}copy(t,e,n,i,r){return this}insert(t,e,n){return new Ce(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ve{constructor(t){this.comparator=t,this.data=new be(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new qe(this.data.getIterator())}getIteratorFrom(t){return new qe(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(t=>{e=e.add(t)}),e}isEqual(t){if(!(t instanceof ve))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(0!==this.comparator(t,i))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new ve(this.comparator);return e.data=t,e}}class qe{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function De(t){return t.hasNext()?t.getNext():void 0}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(t){this.fields=t,t.sort(K.comparator)}static empty(){return new Se([])}unionWith(t){let e=new ve(K.comparator);for(const t of this.fields)e=e.add(t);for(const n of t)e=e.add(n);return new Se(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return R(this.fields,t.fields,(t,e)=>t.isEqual(e))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(t){this.value=t}static empty(){return new Ue({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!Jt(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Vt(e)}setAll(t){let e=K.emptyPath(),n={},i=[];t.forEach((t,r)=>{if(!e.isImmediateParentOf(r)){const t=this.getFieldsMap(e);this.applyChanges(t,n,i),n={},i=[],e=r.popLast()}t?n[r.lastSegment()]=Vt(t):i.push(r.lastSegment())});const r=this.getFieldsMap(e);this.applyChanges(r,n,i)}delete(t){const e=this.field(t.popLast());Jt(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Nt(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=e.mapValue.fields[t.get(n)];Jt(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,n){Et(e,(e,n)=>t[e]=n);for(const e of n)delete t[e]}clone(){return new Ue(Vt(this.value))}}function Te(t){const e=[];return Et(t.fields,(t,n)=>{const i=new K([t]);if(Jt(n)){const t=Te(n.mapValue).fields;if(0===t.length)e.push(i);else for(const n of t)e.push(i.child(n))}else e.push(i)}),new Se(e)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class je{constructor(t,e,n,i,r,s,o){this.key=t,this.documentType=e,this.version=n,this.readTime=i,this.createTime=r,this.data=s,this.documentState=o}static newInvalidDocument(t){return new je(t,0,F.min(),F.min(),F.min(),Ue.empty(),0)}static newFoundDocument(t,e,n,i){return new je(t,1,e,F.min(),n,i,0)}static newNoDocument(t,e){return new je(t,2,e,F.min(),F.min(),Ue.empty(),0)}static newUnknownDocument(t,e){return new je(t,3,e,F.min(),F.min(),Ue.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(F.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ue.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=F.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(t,e=null,n=[],i=[],r=null,s=null,o=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=o,this.ft=null}}function _e(t,e=null,n=[],i=[],r=null,s=null,o=null){return new Le(t,e,n,i,r,s,o)}function xe(t){const e=b(t);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(t=>function t(e){if(e instanceof ne)return e.field.canonicalString()+e.op.toString()+Ft(e.value);{const n=e.filters.map(e=>t(e)).join(",");return`${e.op}(${n})`}}(t)).join(","),t+="|ob:",t+=e.orderBy.map(t=>function(t){return t.field.canonicalString()+t.dir}(t)).join(","),bt(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(t=>Ft(t)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(t=>Ft(t)).join(",")),e.ft=t}return e.ft}function Oe(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!we(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ue(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!te(t.startAt,e.startAt)&&te(t.endAt,e.endAt)}function Ne(t){return P.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function Re(t,e){return t.filters.filter(t=>t instanceof ne&&t.field.isEqual(e))}function ke(t,e,n){let i=xt,r=!0;for(const n of Re(t,e)){let t=xt,e=!0;switch(n.op){case"<":case"<=":t=Wt(n.value);break;case"==":case"in":case">=":t=n.value;break;case">":t=n.value,e=!1;break;case"!=":case"not-in":t=xt}zt({value:i,inclusive:r},{value:t,inclusive:e})<0&&(i=t,r=e)}if(null!==n)for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const t=n.position[s];zt({value:i,inclusive:r},{value:t,inclusive:n.inclusive})<0&&(i=t,r=n.inclusive);break}return{value:i,inclusive:r}}function Be(t,e,n){let i=_t,r=!0;for(const n of Re(t,e)){let t=_t,e=!0;switch(n.op){case">=":case">":t=Yt(n.value),e=!1;break;case"==":case"in":case"<=":t=n.value;break;case"<":t=n.value,e=!1;break;case"!=":case"not-in":t=_t}Zt({value:i,inclusive:r},{value:t,inclusive:e})>0&&(i=t,r=e)}if(null!==n)for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const t=n.position[s];Zt({value:i,inclusive:r},{value:t,inclusive:n.inclusive})>0&&(i=t,r=n.inclusive);break}return{value:i,inclusive:r}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t,e=null,n=[],i=[],r=null,s="F",o=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=a,this.dt=null,this._t=null,this.startAt,this.endAt}}function Qe(t,e,n,i,r,s,o,a){return new Fe(t,e,n,i,r,s,o,a)}function Me(t){return new Fe(t)}function Ge(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Ke(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Pe(t){for(const e of t.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Je(t){return null!==t.collectionGroup}function Ve(t){const e=b(t);if(null===e.dt){e.dt=[];const t=Pe(e),n=Ke(e);if(null!==t&&null===n)t.isKeyField()||e.dt.push(new Ee(t)),e.dt.push(new Ee(K.keyField(),"asc"));else{let t=!1;for(const n of e.explicitOrderBy)e.dt.push(n),n.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Ee(K.keyField(),t))}}}return e.dt}function He(t){const e=b(t);if(!e._t)if("F"===e.limitType)e._t=_e(e.path,e.collectionGroup,Ve(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const n of Ve(e)){const e="desc"===n.dir?"asc":"desc";t.push(new Ee(n.field,e))}const n=e.endAt?new Xt(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Xt(e.startAt.position,e.startAt.inclusive):null;e._t=_e(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}return e._t}function We(t,e){e.getFirstInequalityField(),Pe(t);const n=t.filters.concat([e]);return new Fe(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ye(t,e,n){return new Fe(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ze(t,e){return Oe(He(t),He(e))&&t.limitType===e.limitType}function Ze(t){return`${xe(He(t))}|lt:${t.limitType}`}function Xe(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(t=>ce(t)).join(", ")}]`),bt(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(t=>Ft(t)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(t=>Ft(t)).join(",")),`Target(${e})`}(He(t))}; limitType=${t.limitType})`}function $e(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):P.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of Ve(t))if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const i=$t(t,e,n);return t.inclusive?i<=0:i<0}(t.startAt,Ve(t),e))&&!(t.endAt&&!function(t,e,n){const i=$t(t,e,n);return t.inclusive?i>=0:i>0}(t.endAt,Ve(t),e))}(t,e)}function tn(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function en(t){return(e,n)=>{let i=!1;for(const r of Ve(t)){const t=nn(r,e,n);if(0!==t)return t;i=i||r.field.isKeyField()}return 0}}function nn(t,e,n){const i=t.field.isKeyField()?P.comparator(e.key,n.key):function(t,e,n){const i=e.data.field(t),r=n.data.field(t);return null!==i&&null!==r?kt(i,r):y()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return y()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:It(e)?"-0":e}}function sn(t){return{integerValue:""+t}}function on(t,e){return Ct(e)?sn(e):rn(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(){this._=void 0}}function un(t,e,n){return t instanceof hn?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof An?dn(t,e):t instanceof mn?pn(t,e):function(t,e){const n=cn(t,e),i=gn(n)+gn(t.gt);return Mt(n)&&Mt(t.gt)?sn(i):rn(t.yt,i)}(t,e)}function ln(t,e,n){return t instanceof An?dn(t,e):t instanceof mn?pn(t,e):n}function cn(t,e){return t instanceof fn?Mt(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}class hn extends an{}class An extends an{constructor(t){super(),this.elements=t}}function dn(t,e){const n=yn(e);for(const e of t.elements)n.some(t=>Nt(t,e))||n.push(e);return{arrayValue:{values:n}}}class mn extends an{constructor(t){super(),this.elements=t}}function pn(t,e){let n=yn(e);for(const e of t.elements)n=n.filter(t=>!Nt(t,e));return{arrayValue:{values:n}}}class fn extends an{constructor(t,e){super(),this.yt=t,this.gt=e}}function gn(t){return Ut(t.integerValue||t.doubleValue)}function yn(t){return Gt(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t,e){this.field=t,this.transform=e}}class wn{constructor(t,e){this.version=t,this.transformResults=e}}class bn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new bn}static exists(t){return new bn(void 0,t)}static updateTime(t){return new bn(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function In(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Cn{}function vn(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new On(t.key,bn.none()):new Tn(t.key,t.data,bn.none());{const n=t.data,i=Ue.empty();let r=new ve(K.comparator);for(let t of e.fields)if(!r.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?i.delete(t):i.set(t,e),r=r.add(t)}return new jn(t.key,i,new Se(r.toArray()),bn.none())}}function qn(t,e,n){t instanceof Tn?function(t,e,n){const i=t.value.clone(),r=_n(t.fieldTransforms,e,n.transformResults);i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):t instanceof jn?function(t,e,n){if(!In(t.precondition,e))return void e.convertToUnknownDocument(n.version);const i=_n(t.fieldTransforms,e,n.transformResults),r=e.data;r.setAll(Ln(t)),r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Dn(t,e,n,i){return t instanceof Tn?function(t,e,n,i){if(!In(t.precondition,e))return n;const r=t.value.clone(),s=xn(t.fieldTransforms,i,e);return r.setAll(s),e.convertToFoundDocument(e.version,r).setHasLocalMutations(),null}(t,e,n,i):t instanceof jn?function(t,e,n,i){if(!In(t.precondition,e))return n;const r=xn(t.fieldTransforms,i,e),s=e.data;return s.setAll(Ln(t)),s.setAll(r),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map(t=>t.field))}(t,e,n,i):function(t,e,n){return In(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function Sn(t,e){let n=null;for(const i of t.fieldTransforms){const t=e.data.field(i.field),r=cn(i.transform,t||null);null!=r&&(null===n&&(n=Ue.empty()),n.set(i.field,r))}return n||null}function Un(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&R(t,e,(t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof An&&e instanceof An||t instanceof mn&&e instanceof mn?R(t.elements,e.elements,Nt):t instanceof fn&&e instanceof fn?Nt(t.gt,e.gt):t instanceof hn&&e instanceof hn}(t.transform,e.transform)}(t,e))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Tn extends Cn{constructor(t,e,n,i=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class jn extends Cn{constructor(t,e,n,i,r=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function Ln(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function _n(t,e,n){const i=new Map;E(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,ln(o,a,n[r]))}return i}function xn(t,e,n){const i=new Map;for(const r of t){const t=r.transform,s=n.data.field(r.field);i.set(r.field,un(t,s,e))}return i}class On extends Cn{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nn extends Cn{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this.count=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kn,Bn;function Fn(t){switch(t){default:return y();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}function Qn(t){if(void 0===t)return p("GRPC error has no .code"),I.UNKNOWN;switch(t){case kn.OK:return I.OK;case kn.CANCELLED:return I.CANCELLED;case kn.UNKNOWN:return I.UNKNOWN;case kn.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case kn.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case kn.INTERNAL:return I.INTERNAL;case kn.UNAVAILABLE:return I.UNAVAILABLE;case kn.UNAUTHENTICATED:return I.UNAUTHENTICATED;case kn.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case kn.NOT_FOUND:return I.NOT_FOUND;case kn.ALREADY_EXISTS:return I.ALREADY_EXISTS;case kn.PERMISSION_DENIED:return I.PERMISSION_DENIED;case kn.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case kn.ABORTED:return I.ABORTED;case kn.OUT_OF_RANGE:return I.OUT_OF_RANGE;case kn.UNIMPLEMENTED:return I.UNIMPLEMENTED;case kn.DATA_LOSS:return I.DATA_LOSS;default:return y()}}(Bn=kn||(kn={}))[Bn.OK=0]="OK",Bn[Bn.CANCELLED=1]="CANCELLED",Bn[Bn.UNKNOWN=2]="UNKNOWN",Bn[Bn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bn[Bn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bn[Bn.NOT_FOUND=5]="NOT_FOUND",Bn[Bn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bn[Bn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bn[Bn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bn[Bn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bn[Bn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bn[Bn.ABORTED=10]="ABORTED",Bn[Bn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bn[Bn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bn[Bn.INTERNAL=13]="INTERNAL",Bn[Bn.UNAVAILABLE=14]="UNAVAILABLE",Bn[Bn.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Mn{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[e,i]of n)if(this.equalsFn(e,t))return i}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),i=this.inner[n];if(void 0===i)return this.inner[n]=[[t,e]],void this.innerSize++;for(let n=0;n<i.length;n++)if(this.equalsFn(i[n][0],t))return void(i[n]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return 1===n.length?delete this.inner[e]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Et(this.inner,(e,n)=>{for(const[e,i]of n)t(e,i)})}isEmpty(){return wt(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn=new be(P.comparator);function Kn(){return Gn}const Pn=new be(P.comparator);function Jn(...t){let e=Pn;for(const n of t)e=e.insert(n.key,n);return e}function Vn(t){let e=Pn;return t.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function Hn(){return Yn()}function Wn(){return Yn()}function Yn(){return new Mn(t=>t.toString(),(t,e)=>t.isEqual(e))}const zn=new be(P.comparator),Zn=new ve(P.comparator);function Xn(...t){let e=Zn;for(const n of t)e=e.add(n);return e}const $n=new ve(N);function ti(){return $n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(t,e,n,i,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const i=new Map;return i.set(t,ni.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new ei(F.min(),i,ti(),Kn(),Xn())}}class ni{constructor(t,e,n,i,r){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new ni(n,e,Xn(),Xn(),Xn())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(t,e,n,i){this.It=t,this.removedTargetIds=e,this.key=n,this.Tt=i}}class ri{constructor(t,e){this.targetId=t,this.Et=e}}class si{constructor(t,e,n=qt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i}}class oi{constructor(){this.At=0,this.Rt=li(),this.bt=qt.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(t){t.approximateByteSize()>0&&(this.vt=!0,this.bt=t)}Ct(){let t=Xn(),e=Xn(),n=Xn();return this.Rt.forEach((i,r)=>{switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:y()}}),new ni(this.bt,this.Pt,t,e,n)}xt(){this.vt=!1,this.Rt=li()}Nt(t,e){this.vt=!0,this.Rt=this.Rt.insert(t,e)}kt(t){this.vt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class ai{constructor(t){this.$t=t,this.Bt=new Map,this.Lt=Kn(),this.qt=ui(),this.Ut=new ve(N)}Kt(t){for(const e of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(e,t.Tt):this.Qt(e,t.key,t.Tt);for(const e of t.removedTargetIds)this.Qt(e,t.key,t.Tt)}jt(t){this.forEachTarget(t,e=>{const n=this.Wt(e);switch(t.state){case 0:this.zt(e)&&n.Dt(t.resumeToken);break;case 1:n.Mt(),n.Vt||n.xt(),n.Dt(t.resumeToken);break;case 2:n.Mt(),n.Vt||this.removeTarget(e);break;case 3:this.zt(e)&&(n.Ft(),n.Dt(t.resumeToken));break;case 4:this.zt(e)&&(this.Ht(e),n.Dt(t.resumeToken));break;default:y()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Bt.forEach((t,n)=>{this.zt(n)&&e(n)})}Jt(t){const e=t.targetId,n=t.Et.count,i=this.Yt(e);if(i){const t=i.target;if(Ne(t))if(0===n){const n=new P(t.path);this.Qt(e,n,je.newNoDocument(n,F.min()))}else E(1===n);else this.Xt(e)!==n&&(this.Ht(e),this.Ut=this.Ut.add(e))}}Zt(t){const e=new Map;this.Bt.forEach((n,i)=>{const r=this.Yt(i);if(r){if(n.current&&Ne(r.target)){const e=new P(r.target.path);null!==this.Lt.get(e)||this.te(i,e)||this.Qt(i,e,je.newNoDocument(e,t))}n.St&&(e.set(i,n.Ct()),n.xt())}});let n=Xn();this.qt.forEach((t,e)=>{let i=!0;e.forEachWhile(t=>{const e=this.Yt(t);return!e||2===e.purpose||(i=!1,!1)}),i&&(n=n.add(t))}),this.Lt.forEach((e,n)=>n.setReadTime(t));const i=new ei(t,e,this.Ut,this.Lt,n);return this.Lt=Kn(),this.qt=ui(),this.Ut=new ve(N),i}Gt(t,e){if(!this.zt(t))return;const n=this.te(t,e.key)?2:0;this.Wt(t).Nt(e.key,n),this.Lt=this.Lt.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ee(e.key).add(t))}Qt(t,e,n){if(!this.zt(t))return;const i=this.Wt(t);this.te(t,e)?i.Nt(e,1):i.kt(e),this.qt=this.qt.insert(e,this.ee(e).delete(t)),n&&(this.Lt=this.Lt.insert(e,n))}removeTarget(t){this.Bt.delete(t)}Xt(t){const e=this.Wt(t).Ct();return this.$t.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.Wt(t).Ot()}Wt(t){let e=this.Bt.get(t);return e||(e=new oi,this.Bt.set(t,e)),e}ee(t){let e=this.qt.get(t);return e||(e=new ve(N),this.qt=this.qt.insert(t,e)),e}zt(t){const e=null!==this.Yt(t);return e||m("WatchChangeAggregator","Detected inactive target",t),e}Yt(t){const e=this.Bt.get(t);return e&&e.Vt?null:this.$t.ne(t)}Ht(t){this.Bt.set(t,new oi),this.$t.getRemoteKeysForTarget(t).forEach(e=>{this.Qt(t,e,null)})}te(t,e){return this.$t.getRemoteKeysForTarget(t).has(e)}}function ui(){return new be(P.comparator)}function li(){return new be(P.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci={asc:"ASCENDING",desc:"DESCENDING"},hi={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ai={and:"AND",or:"OR"};class di{constructor(t,e){this.databaseId=t,this.wt=e}}function mi(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pi(t,e){return t.wt?e.toBase64():e.toUint8Array()}function fi(t,e){return mi(t,e.toTimestamp())}function gi(t){return E(!!t),F.fromTimestamp(function(t){const e=St(t);return new B(e.seconds,e.nanos)}(t))}function yi(t,e){return function(t){return new M(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Ei(t){const e=M.fromString(t);return E(Fi(e)),e}function wi(t,e){return yi(t.databaseId,e.path)}function bi(t,e){const n=Ei(e);if(n.get(1)!==t.databaseId.projectId)throw new C(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new C(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new P(qi(n))}function Ii(t,e){return yi(t.databaseId,e)}function Ci(t){const e=Ei(t);return 4===e.length?M.emptyPath():qi(e)}function vi(t){return new M(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qi(t){return E(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Di(t,e,n){return{name:wi(t,e),fields:n.value.mapValue.fields}}function Si(t,e,n){const i=bi(t,e.name),r=gi(e.updateTime),s=e.createTime?gi(e.createTime):F.min(),o=new Ue({mapValue:{fields:e.fields}}),a=je.newFoundDocument(i,r,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Ui(t,e){let n;if(e instanceof Tn)n={update:Di(t,e.key,e.value)};else if(e instanceof On)n={delete:wi(t,e.key)};else if(e instanceof jn)n={update:Di(t,e.key,e.data),updateMask:Bi(e.fieldMask)};else{if(!(e instanceof Nn))return y();n={verify:wi(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(t=>function(t,e){const n=e.transform;if(n instanceof hn)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof An)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof mn)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof fn)return{fieldPath:e.field.canonicalString(),increment:n.gt};throw y()}(0,t))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:fi(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:y()}(t,e.precondition)),n}function Ti(t,e){const n=e.currentDocument?function(t){return void 0!==t.updateTime?bn.updateTime(gi(t.updateTime)):void 0!==t.exists?bn.exists(t.exists):bn.none()}(e.currentDocument):bn.none(),i=e.updateTransforms?e.updateTransforms.map(e=>function(t,e){let n=null;if("setToServerValue"in e)E("REQUEST_TIME"===e.setToServerValue),n=new hn;else if("appendMissingElements"in e){const t=e.appendMissingElements.values||[];n=new An(t)}else if("removeAllFromArray"in e){const t=e.removeAllFromArray.values||[];n=new mn(t)}else"increment"in e?n=new fn(t,e.increment):y();const i=K.fromServerFormat(e.fieldPath);return new En(i,n)}(t,e)):[];if(e.update){e.update.name;const r=bi(t,e.update.name),s=new Ue({mapValue:{fields:e.update.fields}});if(e.updateMask){const t=function(t){const e=t.fieldPaths||[];return new Se(e.map(t=>K.fromServerFormat(t)))}(e.updateMask);return new jn(r,s,t,n,i)}return new Tn(r,s,n,i)}if(e.delete){const i=bi(t,e.delete);return new On(i,n)}if(e.verify){const i=bi(t,e.verify);return new Nn(i,n)}return y()}function ji(t,e){return{documents:[Ii(t,e.path)]}}function Li(t,e){const n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=Ii(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ii(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(t){if(0!==t.length)return function t(e){return e instanceof ne?function(t){if("=="===t.op){if(Pt(t.value))return{unaryFilter:{field:Ri(t.field),op:"IS_NAN"}};if(Kt(t.value))return{unaryFilter:{field:Ri(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Pt(t.value))return{unaryFilter:{field:Ri(t.field),op:"IS_NOT_NAN"}};if(Kt(t.value))return{unaryFilter:{field:Ri(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ri(t.field),op:Oi(t.op),value:t.value}}}(e):e instanceof ie?function(e){const n=e.getFilters().map(e=>t(e));return 1===n.length?n[0]:{compositeFilter:{op:Ni(e.op),filters:n}}}(e):y()}(ie.create(t,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const s=function(t){if(0!==t.length)return t.map(t=>function(t){return{field:Ri(t.field),direction:xi(t.dir)}}(t))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(t,e){return t.wt||bt(e)?e:{value:e}}(t,e.limit);var a;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),n}function _i(t){let e=Ci(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){E(1===i);const t=n.from[0];t.allDescendants?r=t.collectionId:e=e.child(t.collectionId)}let s=[];n.where&&(s=function(t){const e=function t(e){return void 0!==e.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=ki(t.unaryFilter.field);return ne.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=ki(t.unaryFilter.field);return ne.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ki(t.unaryFilter.field);return ne.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=ki(t.unaryFilter.field);return ne.create(r,"!=",{nullValue:"NULL_VALUE"});default:return y()}}(e):void 0!==e.fieldFilter?function(t){return ne.create(ki(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return y()}}(t.fieldFilter.op),t.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ie.create(e.compositeFilter.filters.map(e=>t(e)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return y()}}(e.compositeFilter.op))}(e):y()}(t);return e instanceof ie&&oe(e)?e.getFilters():[e]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(t=>function(t){return new Ee(ki(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,bt(e)?null:e}(n.limit));let u=null;n.startAt&&(u=function(t){const e=!!t.before,n=t.values||[];return new Xt(n,e)}(n.startAt));let l=null;return n.endAt&&(l=function(t){const e=!t.before,n=t.values||[];return new Xt(n,e)}(n.endAt)),Qe(e,r,o,s,a,"F",u,l)}function xi(t){return ci[t]}function Oi(t){return hi[t]}function Ni(t){return Ai[t]}function Ri(t){return{fieldPath:t.canonicalString()}}function ki(t){return K.fromServerFormat(t.fieldPath)}function Bi(t){const e=[];return t.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Fi(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Gi(e)),e=Mi(t.get(n),e);return Gi(e)}function Mi(t,e){let n=e;const i=t.length;for(let e=0;e<i;e++){const i=t.charAt(e);switch(i){case"\0":n+="";break;case"":n+="";break;default:n+=i}}return n}function Gi(t){return t+""}function Ki(t){const e=t.length;if(E(e>=2),2===e)return E(""===t.charAt(0)&&""===t.charAt(1)),M.emptyPath();const n=e-2,i=[];let r="";for(let s=0;s<e;){const e=t.indexOf("",s);switch((e<0||e>n)&&y(),t.charAt(e+1)){case"":const n=t.substring(s,e);let o;0===r.length?o=n:(r+=n,o=r,r=""),i.push(o);break;case"":r+=t.substring(s,e),r+="\0";break;case"":r+=t.substring(s,e+1);break;default:y()}s=e+2}return new M(i)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=["userId","batchId"];
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t,e){return[t,Qi(e)]}function Vi(t,e,n){return[t,Qi(e),n]}const Hi={},Wi=["prefixPath","collectionGroup","readTime","documentId"],Yi=["prefixPath","collectionGroup","documentId"],zi=["collectionGroup","readTime","prefixPath","documentId"],Zi=["canonicalId","targetId"],Xi=["targetId","path"],$i=["path","targetId"],tr=["collectionId","parent"],er=["indexId","uid"],nr=["uid","sequenceNumber"],ir=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],rr=["indexId","uid","orderedDocumentKey"],sr=["userId","collectionPath","documentId"],or=["userId","collectionPath","largestBatchId"],ar=["userId","collectionGroup","largestBatchId"],ur=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],lr=[...ur,"documentOverlays"],cr=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],hr=cr,Ar=[...hr,"indexConfiguration","indexState","indexEntries"];
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends et{constructor(t,e){super(),this.se=t,this.currentSequenceNumber=e}}function mr(t,e){const n=b(t);return st.M(n.se,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let e=0;e<this.mutations.length;e++){const i=this.mutations[e];i.key.isEqual(t.key)&&qn(i,t,n[e])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=Dn(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=Dn(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=Wn();return this.mutations.forEach(i=>{const r=t.get(i.key),s=r.overlayedDocument;let o=this.applyToLocalView(s,r.mutatedFields);o=e.has(i.key)?null:o;const a=vn(s,o);null!==a&&n.set(i.key,a),s.isValidDocument()||s.convertToNoDocument(F.min())}),n}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Xn())}isEqual(t){return this.batchId===t.batchId&&R(this.mutations,t.mutations,(t,e)=>Un(t,e))&&R(this.baseMutations,t.baseMutations,(t,e)=>Un(t,e))}}class fr{constructor(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}static from(t,e,n){E(t.mutations.length===n.length);let i=zn;const r=t.mutations;for(let t=0;t<r.length;t++)i=i.insert(r[t].key,n[t].version);return new fr(t,e,n,i)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(t,e,n,i,r=F.min(),s=F.min(),o=qt.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(t){return new yr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(t){this.ie=t}}function wr(t,e){const n=e.key,i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:br(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=function(t,e){return{name:wi(t,e.key),fields:e.data.value.mapValue.fields,updateTime:mi(t,e.version.toTimestamp()),createTime:mi(t,e.createTime.toTimestamp())}}(t.ie,e);else if(e.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:Ir(e.version)};else{if(!e.isUnknownDocument())return y();i.unknownDocument={path:n.path.toArray(),version:Ir(e.version)}}return i}function br(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ir(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Cr(t){const e=new B(t.seconds,t.nanoseconds);return F.fromTimestamp(e)}function vr(t,e){const n=(e.baseMutations||[]).map(e=>Ti(t.ie,e));for(let t=0;t<e.mutations.length-1;++t){const n=e.mutations[t];if(t+1<e.mutations.length&&void 0!==e.mutations[t+1].transform){const i=e.mutations[t+1];n.updateTransforms=i.transform.fieldTransforms,e.mutations.splice(t+1,1),++t}}const i=e.mutations.map(e=>Ti(t.ie,e)),r=B.fromMillis(e.localWriteTimeMs);return new pr(e.batchId,r,n,i)}function qr(t){const e=Cr(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?Cr(t.lastLimboFreeSnapshotVersion):F.min();let i;var r;return void 0!==t.query.documents?(E(1===(r=t.query).documents.length),i=He(Me(Ci(r.documents[0])))):i=function(t){return He(_i(t))}(t.query),new yr(i,t.targetId,0,t.lastListenSequenceNumber,e,n,qt.fromBase64String(t.resumeToken))}function Dr(t,e){const n=Ir(e.snapshotVersion),i=Ir(e.lastLimboFreeSnapshotVersion);let r;r=Ne(e.target)?ji(t.ie,e.target):Li(t.ie,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:xe(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Sr(t){const e=_i({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ye(e,e.limit,"L"):e}function Ur(t,e){return new gr(e.largestBatchId,Ti(t.ie,e.overlayMutation))}function Tr(t,e){const n=e.path.lastSegment();return[t,Qi(e.path.popLast()),n]}function jr(t,e,n,i){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Ir(i.readTime),documentKey:Qi(i.documentKey.path),largestBatchId:i.largestBatchId}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{getBundleMetadata(t,e){return _r(t).get(e).next(t=>{if(t)return{id:(e=t).bundleId,createTime:Cr(e.createTime),version:e.version};var e})}saveBundleMetadata(t,e){return _r(t).put({bundleId:(n=e).id,createTime:Ir(gi(n.createTime)),version:n.version});var n}getNamedQuery(t,e){return xr(t).get(e).next(t=>{if(t)return{name:(e=t).name,query:Sr(e.bundledQuery),readTime:Cr(e.readTime)};var e})}saveNamedQuery(t,e){return xr(t).put(function(t){return{name:t.name,readTime:Ir(gi(t.readTime)),bundledQuery:t.bundledQuery}}(e))}}function _r(t){return mr(t,"bundles")}function xr(t){return mr(t,"namedQueries")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t,e){this.yt=t,this.userId=e}static re(t,e){const n=e.uid||"";return new Or(t,n)}getOverlay(t,e){return Nr(t).get(Tr(this.userId,e)).next(t=>t?Ur(this.yt,t):null)}getOverlays(t,e){const n=Hn();return it.forEach(e,e=>this.getOverlay(t,e).next(t=>{null!==t&&n.set(e,t)})).next(()=>n)}saveOverlays(t,e,n){const i=[];return n.forEach((n,r)=>{const s=new gr(e,r);i.push(this.oe(t,s))}),it.waitFor(i)}removeOverlaysForBatchId(t,e,n){const i=new Set;e.forEach(t=>i.add(Qi(t.getCollectionPath())));const r=[];return i.forEach(e=>{const i=IDBKeyRange.bound([this.userId,e,n],[this.userId,e,n+1],!1,!0);r.push(Nr(t).Y("collectionPathOverlayIndex",i))}),it.waitFor(r)}getOverlaysForCollection(t,e,n){const i=Hn(),r=Qi(e),s=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Nr(t).W("collectionPathOverlayIndex",s).next(t=>{for(const e of t){const t=Ur(this.yt,e);i.set(t.getKey(),t)}return i})}getOverlaysForCollectionGroup(t,e,n,i){const r=Hn();let s;const o=IDBKeyRange.bound([this.userId,e,n],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Nr(t).Z({index:"collectionGroupOverlayIndex",range:o},(t,e,n)=>{const o=Ur(this.yt,e);r.size()<i||o.largestBatchId===s?(r.set(o.getKey(),o),s=o.largestBatchId):n.done()}).next(()=>r)}oe(t,e){return Nr(t).put(function(t,e,n){const[i,r,s]=Tr(e,n.mutation.key);return{userId:e,collectionPath:r,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Ui(t.ie,n.mutation)}}(this.yt,this.userId,e))}}function Nr(t){return mr(t,"documentOverlays")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(){}ue(t,e){this.ce(t,e),e.ae()}ce(t,e){if("nullValue"in t)this.he(e,5);else if("booleanValue"in t)this.he(e,10),e.le(t.booleanValue?1:0);else if("integerValue"in t)this.he(e,15),e.le(Ut(t.integerValue));else if("doubleValue"in t){const n=Ut(t.doubleValue);isNaN(n)?this.he(e,13):(this.he(e,15),It(n)?e.le(0):e.le(n))}else if("timestampValue"in t){const n=t.timestampValue;this.he(e,20),"string"==typeof n?e.fe(n):(e.fe(""+(n.seconds||"")),e.le(n.nanos||0))}else if("stringValue"in t)this.de(t.stringValue,e),this._e(e);else if("bytesValue"in t)this.he(e,30),e.we(Tt(t.bytesValue)),this._e(e);else if("referenceValue"in t)this.me(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.he(e,45),e.le(n.latitude||0),e.le(n.longitude||0)}else"mapValue"in t?Ht(t)?this.he(e,Number.MAX_SAFE_INTEGER):(this.ge(t.mapValue,e),this._e(e)):"arrayValue"in t?(this.ye(t.arrayValue,e),this._e(e)):y()}de(t,e){this.he(e,25),this.pe(t,e)}pe(t,e){e.fe(t)}ge(t,e){const n=t.fields||{};this.he(e,55);for(const t of Object.keys(n))this.de(t,e),this.ce(n[t],e)}ye(t,e){const n=t.values||[];this.he(e,50);for(const t of n)this.ce(t,e)}me(t,e){this.he(e,37),P.fromName(t).path.forEach(t=>{this.he(e,60),this.pe(t,e)})}he(t,e){t.le(e)}_e(t){t.le(2)}}function kr(t){if(0===t)return 8;let e=0;return t>>4==0&&(e+=4,t<<=4),t>>6==0&&(e+=2,t<<=2),t>>7==0&&(e+=1),e}function Br(t){const e=64-function(t){let e=0;for(let n=0;n<8;++n){const i=kr(255&t[n]);if(e+=i,8!==i)break}return e}(t);return Math.ceil(e/8)}Rr.Ie=new Rr;class Fr{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(t){const e=t[Symbol.iterator]();let n=e.next();for(;!n.done;)this.Ee(n.value),n=e.next();this.Ae()}Re(t){const e=t[Symbol.iterator]();let n=e.next();for(;!n.done;)this.be(n.value),n=e.next();this.Pe()}ve(t){for(const e of t){const t=e.charCodeAt(0);if(t<128)this.Ee(t);else if(t<2048)this.Ee(960|t>>>6),this.Ee(128|63&t);else if(e<"\ud800"||"\udbff"<e)this.Ee(480|t>>>12),this.Ee(128|63&t>>>6),this.Ee(128|63&t);else{const t=e.codePointAt(0);this.Ee(240|t>>>18),this.Ee(128|63&t>>>12),this.Ee(128|63&t>>>6),this.Ee(128|63&t)}}this.Ae()}Ve(t){for(const e of t){const t=e.charCodeAt(0);if(t<128)this.be(t);else if(t<2048)this.be(960|t>>>6),this.be(128|63&t);else if(e<"\ud800"||"\udbff"<e)this.be(480|t>>>12),this.be(128|63&t>>>6),this.be(128|63&t);else{const t=e.codePointAt(0);this.be(240|t>>>18),this.be(128|63&t>>>12),this.be(128|63&t>>>6),this.be(128|63&t)}}this.Pe()}Se(t){const e=this.De(t),n=Br(e);this.Ce(1+n),this.buffer[this.position++]=255&n;for(let t=e.length-n;t<e.length;++t)this.buffer[this.position++]=255&e[t]}xe(t){const e=this.De(t),n=Br(e);this.Ce(1+n),this.buffer[this.position++]=~(255&n);for(let t=e.length-n;t<e.length;++t)this.buffer[this.position++]=~(255&e[t])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(t){this.Ce(t.length),this.buffer.set(t,this.position),this.position+=t.length}Fe(){return this.buffer.slice(0,this.position)}De(t){const e=function(t){const e=new DataView(new ArrayBuffer(8));return e.setFloat64(0,t,!1),new Uint8Array(e.buffer)}(t),n=0!=(128&e[0]);e[0]^=n?255:128;for(let t=1;t<e.length;++t)e[t]^=n?255:0;return e}Ee(t){const e=255&t;0===e?(this.ke(0),this.ke(255)):255===e?(this.ke(255),this.ke(0)):this.ke(e)}be(t){const e=255&t;0===e?(this.Me(0),this.Me(255)):255===e?(this.Me(255),this.Me(0)):this.Me(t)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(t){this.Ce(1),this.buffer[this.position++]=t}Me(t){this.Ce(1),this.buffer[this.position++]=~t}Ce(t){const e=t+this.position;if(e<=this.buffer.length)return;let n=2*this.buffer.length;n<e&&(n=e);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class Qr{constructor(t){this.$e=t}we(t){this.$e.Te(t)}fe(t){this.$e.ve(t)}le(t){this.$e.Se(t)}ae(){this.$e.Ne()}}class Mr{constructor(t){this.$e=t}we(t){this.$e.Re(t)}fe(t){this.$e.Ve(t)}le(t){this.$e.xe(t)}ae(){this.$e.Oe()}}class Gr{constructor(){this.$e=new Fr,this.Be=new Qr(this.$e),this.Le=new Mr(this.$e)}seed(t){this.$e.seed(t)}qe(t){return 0===t?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(t,e,n,i){this.indexId=t,this.documentKey=e,this.arrayValue=n,this.directionalValue=i}Ue(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,n=new Uint8Array(e);return n.set(this.directionalValue,0),e!==t?n.set([0],this.directionalValue.length):++n[n.length-1],new Kr(this.indexId,this.documentKey,this.arrayValue,n)}}function Pr(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=Jr(t.arrayValue,e.arrayValue),0!==n?n:(n=Jr(t.directionalValue,e.directionalValue),0!==n?n:P.comparator(t.documentKey,e.documentKey)))}function Jr(t,e){for(let n=0;n<t.length&&n<e.length;++n){const i=t[n]-e[n];if(0!==i)return i}return t.length-e.length}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];for(const e of t.filters){const t=e;t.isInequality()?this.Qe=t:this.Ge.push(t)}}je(t){E(t.collectionGroup===this.collectionId);const e=V(t);if(void 0!==e&&!this.We(e))return!1;const n=H(t);let i=0,r=0;for(;i<n.length&&this.We(n[i]);++i);if(i===n.length)return!0;if(void 0!==this.Qe){const t=n[i];if(!this.ze(this.Qe,t)||!this.He(this.Ke[r++],t))return!1;++i}for(;i<n.length;++i){const t=n[i];if(r>=this.Ke.length||!this.He(this.Ke[r++],t))return!1}return!0}We(t){for(const e of this.Ge)if(this.ze(e,t))return!0;return!1}ze(t,e){if(void 0===t||!t.field.isEqual(e.fieldPath))return!1;const n="array-contains"===t.op||"array-contains-any"===t.op;return 2===e.kind===n}He(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(t){if(0===t.getFilters().length)return[];const e=function t(e){if(E(e instanceof ne||e instanceof ie),e instanceof ne)return e;if(1===e.filters.length)return t(e.filters[0]);const n=e.filters.map(e=>t(e));let i=ie.create(n,e.op);return i=$r(i),zr(i)?i:(E(i instanceof ie),E(re(i)),E(i.filters.length>1),i.filters.reduce((t,e)=>Zr(t,e)))}(function t(e){var n,i;if(E(e instanceof ne||e instanceof ie),e instanceof ne){if(e instanceof fe){const t=(null===(i=null===(n=e.value.arrayValue)||void 0===n?void 0:n.values)||void 0===i?void 0:i.map(t=>ne.create(e.field,"==",t)))||[];return ie.create(t,"or")}return e}const r=e.filters.map(e=>t(e));return ie.create(r,e.op)}(t));return E(zr(e)),Wr(e)||Yr(e)?[e]:e.getFilters()}function Wr(t){return t instanceof ne}function Yr(t){return t instanceof ie&&oe(t)}function zr(t){return Wr(t)||Yr(t)||function(t){if(t instanceof ie&&se(t)){for(const e of t.getFilters())if(!Wr(e)&&!Yr(e))return!1;return!0}return!1}(t)}function Zr(t,e){let n;return E(t instanceof ne||t instanceof ie),E(e instanceof ne||e instanceof ie),n=t instanceof ne?e instanceof ne?function(t,e){return ie.create([t,e],"and")}(t,e):Xr(t,e):e instanceof ne?Xr(e,t):function(t,e){if(E(t.filters.length>0&&e.filters.length>0),re(t)&&re(e))return le(t,e.getFilters());const n=se(t)?t:e,i=se(t)?e:t,r=n.filters.map(t=>Zr(t,i));return ie.create(r,"or")}(t,e),$r(n)}function Xr(t,e){if(re(e))return le(e,t.getFilters());{const n=e.filters.map(e=>Zr(t,e));return ie.create(n,"or")}}function $r(t){if(E(t instanceof ne||t instanceof ie),t instanceof ne)return t;const e=t.getFilters();if(1===e.length)return $r(e[0]);if(ae(t))return t;const n=e.map(t=>$r(t)),i=[];return n.forEach(e=>{e instanceof ne?i.push(e):e instanceof ie&&(e.op===t.op?i.push(...e.filters):i.push(e))}),1===i.length?i[0]:ie.create(i,t.op)
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class ts{constructor(){this.Je=new es}addToCollectionParentIndex(t,e){return this.Je.add(e),it.resolve()}getCollectionParents(t,e){return it.resolve(this.Je.getEntries(e))}addFieldIndex(t,e){return it.resolve()}deleteFieldIndex(t,e){return it.resolve()}getDocumentsMatchingTarget(t,e){return it.resolve(null)}getIndexType(t,e){return it.resolve(0)}getFieldIndexes(t,e){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,e){return it.resolve(X.min())}getMinOffsetFromCollectionGroup(t,e){return it.resolve(X.min())}updateCollectionGroup(t,e,n){return it.resolve()}updateIndexEntries(t,e){return it.resolve()}}class es{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new ve(M.comparator),r=!i.has(n);return this.index[e]=i.add(n),r}has(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)}getEntries(t){return(this.index[t]||new ve(M.comparator)).toArray()}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new Uint8Array(0);class is{constructor(t,e){this.user=t,this.databaseId=e,this.Ye=new es,this.Xe=new Mn(t=>xe(t),(t,e)=>Oe(t,e)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Ye.has(e)){const n=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(()=>{this.Ye.add(e)});const r={collectionId:n,parent:Qi(i)};return rs(t).put(r)}return it.resolve()}getCollectionParents(t,e){const n=[],i=IDBKeyRange.bound([e,""],[k(e),""],!1,!0);return rs(t).W(i).next(t=>{for(const i of t){if(i.collectionId!==e)break;n.push(Ki(i.parent))}return n})}addFieldIndex(t,e){const n=os(t),i=function(t){return{indexId:t.indexId,collectionGroup:t.collectionGroup,fields:t.fields.map(t=>[t.fieldPath.canonicalString(),t.kind])}}(e);delete i.indexId;const r=n.add(i);if(e.indexState){const n=as(t);return r.next(t=>{n.put(jr(t,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return r.next()}deleteFieldIndex(t,e){const n=os(t),i=as(t),r=ss(t);return n.delete(e.indexId).next(()=>i.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const n=ss(t);let i=!0;const r=new Map;return it.forEach(this.Ze(e),e=>this.tn(t,e).next(t=>{i&&(i=!!t),r.set(e,t)})).next(()=>{if(i){let t=Xn();const i=[];return it.forEach(r,(r,s)=>{var o;m("IndexedDbIndexManager",`Using index ${o=r,`id=${o.indexId}|cg=${o.collectionGroup}|f=${o.fields.map(t=>`${t.fieldPath}:${t.kind}`).join(",")}`} to execute ${xe(e)}`);const a=function(t,e){const n=V(e);if(void 0===n)return null;for(const e of Re(t,n.fieldPath))switch(e.op){case"array-contains-any":return e.value.arrayValue.values||[];case"array-contains":return[e.value]}return null}(s,r),u=function(t,e){const n=new Map;for(const i of H(e))for(const e of Re(t,i.fieldPath))switch(e.op){case"==":case"in":n.set(i.fieldPath.canonicalString(),e.value);break;case"not-in":case"!=":return n.set(i.fieldPath.canonicalString(),e.value),Array.from(n.values())}return null}(s,r),l=function(t,e){const n=[];let i=!0;for(const r of H(e)){const e=0===r.kind?ke(t,r.fieldPath,t.startAt):Be(t,r.fieldPath,t.startAt);n.push(e.value),i&&(i=e.inclusive)}return new Xt(n,i)}(s,r),c=function(t,e){const n=[];let i=!0;for(const r of H(e)){const e=0===r.kind?Be(t,r.fieldPath,t.endAt):ke(t,r.fieldPath,t.endAt);n.push(e.value),i&&(i=e.inclusive)}return new Xt(n,i)}(s,r),h=this.en(r,s,l),A=this.en(r,s,c),d=this.nn(r,s,u),p=this.sn(r.indexId,a,h,l.inclusive,A,c.inclusive,d);return it.forEach(p,r=>n.J(r,e.limit).next(e=>{e.forEach(e=>{const n=P.fromSegments(e.documentKey);t.has(n)||(t=t.add(n),i.push(n))})}))}).next(()=>i)}return it.resolve(null)})}Ze(t){let e=this.Xe.get(t);return e||(e=0===t.filters.length?[t]:Hr(ie.create(t.filters,"and")).map(e=>_e(t.path,t.collectionGroup,t.orderBy,e.getFilters(),t.limit,t.startAt,t.endAt)),this.Xe.set(t,e),e)}sn(t,e,n,i,r,s,o){const a=(null!=e?e.length:1)*Math.max(n.length,r.length),u=a/(null!=e?e.length:1),l=[];for(let c=0;c<a;++c){const a=e?this.rn(e[c/u]):ns,h=this.on(t,a,n[c%u],i),A=this.un(t,a,r[c%u],s),d=o.map(e=>this.on(t,a,e,!0));l.push(...this.createRange(h,A,d))}return l}on(t,e,n,i){const r=new Kr(t,P.empty(),e,n);return i?r:r.Ue()}un(t,e,n,i){const r=new Kr(t,P.empty(),e,n);return i?r.Ue():r}tn(t,e){const n=new Vr(e),i=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,i).next(t=>{let e=null;for(const i of t)n.je(i)&&(!e||i.fields.length>e.fields.length)&&(e=i);return e})}getIndexType(t,e){let n=2;const i=this.Ze(e);return it.forEach(i,e=>this.tn(t,e).next(t=>{t?0!==n&&t.fields.length<function(t){let e=new ve(K.comparator),n=!1;for(const i of t.filters)for(const t of i.getFlattenedFilters())t.field.isKeyField()||("array-contains"===t.op||"array-contains-any"===t.op?n=!0:e=e.add(t.field));for(const n of t.orderBy)n.field.isKeyField()||(e=e.add(n.field));return e.size+(n?1:0)}(e)&&(n=1):n=0})).next(()=>function(t){return null!==t.limit}(e)&&i.length>1&&2===n?1:n)}cn(t,e){const n=new Gr;for(const i of H(t)){const t=e.data.field(i.fieldPath);if(null==t)return null;const r=n.qe(i.kind);Rr.Ie.ue(t,r)}return n.Fe()}rn(t){const e=new Gr;return Rr.Ie.ue(t,e.qe(0)),e.Fe()}an(t,e){const n=new Gr;return Rr.Ie.ue(Qt(this.databaseId,e),n.qe(function(t){const e=H(t);return 0===e.length?0:e[e.length-1].kind}(t))),n.Fe()}nn(t,e,n){if(null===n)return[];let i=[];i.push(new Gr);let r=0;for(const s of H(t)){const t=n[r++];for(const n of i)if(this.hn(e,s.fieldPath)&&Gt(t))i=this.ln(i,s,t);else{const e=n.qe(s.kind);Rr.Ie.ue(t,e)}}return this.fn(i)}en(t,e,n){return this.nn(t,e,n.position)}fn(t){const e=[];for(let n=0;n<t.length;++n)e[n]=t[n].Fe();return e}ln(t,e,n){const i=[...t],r=[];for(const t of n.arrayValue.values||[])for(const n of i){const i=new Gr;i.seed(n.Fe()),Rr.Ie.ue(t,i.qe(e.kind)),r.push(i)}return r}hn(t,e){return!!t.filters.find(t=>t instanceof ne&&t.field.isEqual(e)&&("in"===t.op||"not-in"===t.op))}getFieldIndexes(t,e){const n=os(t),i=as(t);return(e?n.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):n.W()).next(t=>{const e=[];return it.forEach(t,t=>i.get([t.indexId,this.uid]).next(n=>{e.push(function(t,e){const n=e?new Y(e.sequenceNumber,new X(Cr(e.readTime),new P(Ki(e.documentKey)),e.largestBatchId)):Y.empty(),i=t.fields.map(([t,e])=>new W(K.fromServerFormat(t),e));return new J(t.indexId,t.collectionGroup,i,n)}(t,n))})).next(()=>e)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(t=>0===t.length?null:(t.sort((t,e)=>{const n=t.indexState.sequenceNumber-e.indexState.sequenceNumber;return 0!==n?n:N(t.collectionGroup,e.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(t,e,n){const i=os(t),r=as(t);return this.dn(t).next(t=>i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(e=>it.forEach(e,e=>r.put(jr(e.indexId,this.user,t,n)))))}updateIndexEntries(t,e){const n=new Map;return it.forEach(e,(e,i)=>{const r=n.get(e.collectionGroup);return(r?it.resolve(r):this.getFieldIndexes(t,e.collectionGroup)).next(r=>(n.set(e.collectionGroup,r),it.forEach(r,n=>this._n(t,e,n).next(e=>{const r=this.wn(i,n);return e.isEqual(r)?it.resolve():this.mn(t,i,n,e,r)}))))})}gn(t,e,n,i){return ss(t).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(n,e.key),documentKey:e.key.path.toArray()})}yn(t,e,n,i){return ss(t).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(n,e.key),e.key.path.toArray()])}_n(t,e,n){const i=ss(t);let r=new ve(Pr);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.an(n,e)])},(t,i)=>{r=r.add(new Kr(n.indexId,e,i.arrayValue,i.directionalValue))}).next(()=>r)}wn(t,e){let n=new ve(Pr);const i=this.cn(e,t);if(null==i)return n;const r=V(e);if(null!=r){const s=t.data.field(r.fieldPath);if(Gt(s))for(const r of s.arrayValue.values||[])n=n.add(new Kr(e.indexId,t.key,this.rn(r),i))}else n=n.add(new Kr(e.indexId,t.key,ns,i));return n}mn(t,e,n,i,r){m("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const s=[];return function(t,e,n,i,r){const s=t.getIterator(),o=e.getIterator();let a=De(s),u=De(o);for(;a||u;){let t=!1,e=!1;if(a&&u){const i=n(a,u);i<0?e=!0:i>0&&(t=!0)}else null!=a?e=!0:t=!0;t?(i(u),u=De(o)):e?(r(a),a=De(s)):(a=De(s),u=De(o))}}(i,r,Pr,i=>{s.push(this.gn(t,e,n,i))},i=>{s.push(this.yn(t,e,n,i))}),it.waitFor(s)}dn(t){let e=1;return as(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(t,n,i)=>{i.done(),e=n.sequenceNumber+1}).next(()=>e)}createRange(t,e,n){n=n.sort((t,e)=>Pr(t,e)).filter((t,e,n)=>!e||0!==Pr(t,n[e-1]));const i=[];i.push(t);for(const r of n){const n=Pr(r,t),s=Pr(r,e);if(0===n)i[0]=t.Ue();else if(n>0&&s<0)i.push(r),i.push(r.Ue());else if(s>0)break}i.push(e);const r=[];for(let t=0;t<i.length;t+=2){if(this.pn(i[t],i[t+1]))return[];const e=[i[t].indexId,this.uid,i[t].arrayValue,i[t].directionalValue,ns,[]],n=[i[t+1].indexId,this.uid,i[t+1].arrayValue,i[t+1].directionalValue,ns,[]];r.push(IDBKeyRange.bound(e,n))}return r}pn(t,e){return Pr(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(us)}getMinOffset(t,e){return it.mapArray(this.Ze(e),e=>this.tn(t,e).next(t=>t||y())).next(us)}}function rs(t){return mr(t,"collectionParents")}function ss(t){return mr(t,"indexEntries")}function os(t){return mr(t,"indexConfiguration")}function as(t){return mr(t,"indexState")}function us(t){E(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let i=1;i<t.length;i++){const r=t[i].indexState.offset;$(r,e)<0&&(e=r),n<r.largestBatchId&&(n=r.largestBatchId)}return new X(e.readTime,e.documentKey,n)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class cs{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new cs(t,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t,e,n){const i=t.store("mutations"),r=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const u=i.Z({range:o},(t,e,n)=>(a++,n.delete()));s.push(u.next(()=>{E(1===a)}));const l=[];for(const t of n.mutations){const i=Vi(e,t.key.path,n.batchId);s.push(r.delete(i)),l.push(t.key)}return it.waitFor(s).next(()=>l)}function As(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw y();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cs.DEFAULT_COLLECTION_PERCENTILE=10,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cs.DEFAULT=new cs(41943040,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cs.DISABLED=new cs(-1,0,0);class ds{constructor(t,e,n,i){this.userId=t,this.yt=e,this.indexManager=n,this.referenceDelegate=i,this.In={}}static re(t,e,n,i){E(""!==t.uid);const r=t.isAuthenticated()?t.uid:"";return new ds(r,e,n,i)}checkEmpty(t){let e=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ps(t).Z({index:"userMutationsIndex",range:n},(t,n,i)=>{e=!1,i.done()}).next(()=>e)}addMutationBatch(t,e,n,i){const r=fs(t),s=ps(t);return s.add({}).next(o=>{E("number"==typeof o);const a=new pr(o,e,n,i),u=function(t,e,n){const i=n.baseMutations.map(e=>Ui(t.ie,e)),r=n.mutations.map(e=>Ui(t.ie,e));return{userId:e,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:i,mutations:r}}(this.yt,this.userId,a),l=[];let c=new ve((t,e)=>N(t.canonicalString(),e.canonicalString()));for(const t of i){const e=Vi(this.userId,t.key.path,o);c=c.add(t.key.path.popLast()),l.push(s.put(u)),l.push(r.put(e,Hi))}return c.forEach(e=>{l.push(this.indexManager.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(()=>{this.In[o]=a.keys()}),it.waitFor(l).next(()=>a)})}lookupMutationBatch(t,e){return ps(t).get(e).next(t=>t?(E(t.userId===this.userId),vr(this.yt,t)):null)}Tn(t,e){return this.In[e]?it.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(t=>{if(t){const n=t.keys();return this.In[e]=n,n}return null})}getNextMutationBatchAfterBatchId(t,e){const n=e+1,i=IDBKeyRange.lowerBound([this.userId,n]);let r=null;return ps(t).Z({index:"userMutationsIndex",range:i},(t,e,i)=>{e.userId===this.userId&&(E(e.batchId>=n),r=vr(this.yt,e)),i.done()}).next(()=>r)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return ps(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(t,e,i)=>{n=e.batchId,i.done()}).next(()=>n)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ps(t).W("userMutationsIndex",e).next(t=>t.map(t=>vr(this.yt,t)))}getAllMutationBatchesAffectingDocumentKey(t,e){const n=Ji(this.userId,e.path),i=IDBKeyRange.lowerBound(n),r=[];return fs(t).Z({range:i},(n,i,s)=>{const[o,a,u]=n,l=Ki(a);if(o===this.userId&&e.path.isEqual(l))return ps(t).get(u).next(t=>{if(!t)throw y();E(t.userId===this.userId),r.push(vr(this.yt,t))});s.done()}).next(()=>r)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new ve(N);const i=[];return e.forEach(e=>{const r=Ji(this.userId,e.path),s=IDBKeyRange.lowerBound(r),o=fs(t).Z({range:s},(t,i,r)=>{const[s,o,a]=t,u=Ki(o);s===this.userId&&e.path.isEqual(u)?n=n.add(a):r.done()});i.push(o)}),it.waitFor(i).next(()=>this.En(t,n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,i=n.length+1,r=Ji(this.userId,n),s=IDBKeyRange.lowerBound(r);let o=new ve(N);return fs(t).Z({range:s},(t,e,r)=>{const[s,a,u]=t,l=Ki(a);s===this.userId&&n.isPrefixOf(l)?l.length===i&&(o=o.add(u)):r.done()}).next(()=>this.En(t,o))}En(t,e){const n=[],i=[];return e.forEach(e=>{i.push(ps(t).get(e).next(t=>{if(null===t)throw y();E(t.userId===this.userId),n.push(vr(this.yt,t))}))}),it.waitFor(i).next(()=>n)}removeMutationBatch(t,e){return hs(t.se,this.userId,e).next(n=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),it.forEach(n,e=>this.referenceDelegate.markPotentiallyOrphaned(t,e))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return it.resolve();const n=IDBKeyRange.lowerBound([this.userId]),i=[];return fs(t).Z({range:n},(t,e,n)=>{if(t[0]===this.userId){const e=Ki(t[1]);i.push(e)}else n.done()}).next(()=>{E(0===i.length)})})}containsKey(t,e){return ms(t,this.userId,e)}Rn(t){return gs(t).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ms(t,e,n){const i=Ji(e,n.path),r=i[1],s=IDBKeyRange.lowerBound(i);let o=!1;return fs(t).Z({range:s,X:!0},(t,n,i)=>{const[s,a,u]=t;s===e&&a===r&&(o=!0),i.done()}).next(()=>o)}function ps(t){return mr(t,"mutations")}function fs(t){return mr(t,"documentMutations")}function gs(t){return mr(t,"mutationQueues")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new ys(0)}static vn(){return new ys(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(t,e){this.referenceDelegate=t,this.yt=e}allocateTargetId(t){return this.Vn(t).next(e=>{const n=new ys(e.highestTargetId);return e.highestTargetId=n.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(t=>F.fromTimestamp(new B(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(t,e,n){return this.Vn(t).next(i=>(i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),this.Sn(t,i)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(n=>(n.targetCount+=1,this.Cn(e,n),this.Sn(t,n))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>ws(t).delete(e.targetId)).next(()=>this.Vn(t)).next(e=>(E(e.targetCount>0),e.targetCount-=1,this.Sn(t,e)))}removeTargets(t,e,n){let i=0;const r=[];return ws(t).Z((s,o)=>{const a=qr(o);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,r.push(this.removeTargetData(t,a)))}).next(()=>it.waitFor(r)).next(()=>i)}forEachTarget(t,e){return ws(t).Z((t,n)=>{const i=qr(n);e(i)})}Vn(t){return bs(t).get("targetGlobalKey").next(t=>(E(null!==t),t))}Sn(t,e){return bs(t).put("targetGlobalKey",e)}Dn(t,e){return ws(t).put(Dr(this.yt,e))}Cn(t,e){let n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n}getTargetCount(t){return this.Vn(t).next(t=>t.targetCount)}getTargetData(t,e){const n=xe(e),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let r=null;return ws(t).Z({range:i,index:"queryTargetsIndex"},(t,n,i)=>{const s=qr(n);Oe(e,s.target)&&(r=s,i.done())}).next(()=>r)}addMatchingKeys(t,e,n){const i=[],r=Is(t);return e.forEach(e=>{const s=Qi(e.path);i.push(r.put({targetId:n,path:s})),i.push(this.referenceDelegate.addReference(t,n,e))}),it.waitFor(i)}removeMatchingKeys(t,e,n){const i=Is(t);return it.forEach(e,e=>{const r=Qi(e.path);return it.waitFor([i.delete([n,r]),this.referenceDelegate.removeReference(t,n,e)])})}removeMatchingKeysForTargetId(t,e){const n=Is(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(t,e){const n=IDBKeyRange.bound([e],[e+1],!1,!0),i=Is(t);let r=Xn();return i.Z({range:n,X:!0},(t,e,n)=>{const i=Ki(t[1]),s=new P(i);r=r.add(s)}).next(()=>r)}containsKey(t,e){const n=Qi(e.path),i=IDBKeyRange.bound([n],[k(n)],!1,!0);let r=0;return Is(t).Z({index:"documentTargetsIndex",X:!0,range:i},([t,e],n,i)=>{0!==t&&(r++,i.done())}).next(()=>r>0)}ne(t,e){return ws(t).get(e).next(t=>t?qr(t):null)}}function ws(t){return mr(t,"targets")}function bs(t){return mr(t,"targetGlobal")}function Is(t){return mr(t,"targetDocuments")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs([t,e],[n,i]){const r=N(t,n);return 0===r?N(e,i):r}class vs{constructor(t){this.xn=t,this.buffer=new ve(Cs),this.Nn=0}kn(){return++this.Nn}On(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const t=this.buffer.last();Cs(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}get maxValue(){return this.buffer.last()[0]}}class qs{constructor(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(t){m("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Mn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ut(t)?m("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await nt(t)}await this.Fn(3e5)})}}class Ds{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(t=>Math.floor(e/100*t))}nthSequenceNumber(t,e){if(0===e)return it.resolve(pt.at);const n=new vs(e);return this.$n.forEachTarget(t,t=>n.On(t.sequenceNumber)).next(()=>this.$n.Ln(t,t=>n.On(t))).next(()=>n.maxValue)}removeTargets(t,e,n){return this.$n.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(m("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(ls)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(m("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ls):this.qn(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}qn(t,e){let n,i,r,o,a,u,l;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(e=>(e>this.params.maximumSequenceNumbersToCollect?(m("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${e}`),i=this.params.maximumSequenceNumbersToCollect):i=e,o=Date.now(),this.nthSequenceNumber(t,i))).next(i=>(n=i,a=Date.now(),this.removeTargets(t,n,e))).next(e=>(r=e,u=Date.now(),this.removeOrphanedDocuments(t,n))).next(t=>(l=Date.now(),A()<=s.a.DEBUG&&m("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-c}ms\n\tDetermined least recently used ${i} in `+(a-o)+"ms\n"+`\tRemoved ${r} targets in `+(u-a)+"ms\n"+`\tRemoved ${t} documents in `+(l-u)+"ms\n"+`Total Duration: ${l-c}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:t})))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(t,e){this.db=t,this.garbageCollector=function(t,e){return new Ds(t,e)}(this,e)}Bn(t){const e=this.Un(t);return this.db.getTargetCache().getTargetCount(t).next(t=>e.next(e=>t+e))}Un(t){let e=0;return this.Ln(t,t=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(t,n)=>e(n))}addReference(t,e,n){return Us(t,n)}removeReference(t,e,n){return Us(t,n)}removeTargets(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)}markPotentiallyOrphaned(t,e){return Us(t,e)}Gn(t,e){return function(t,e){let n=!1;return gs(t).tt(i=>ms(t,i,e).next(t=>(t&&(n=!0),it.resolve(!t)))).next(()=>n)}(t,e)}removeOrphanedDocuments(t,e){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let r=0;return this.Kn(t,(s,o)=>{if(o<=e){const e=this.Gn(t,s).next(e=>{if(!e)return r++,n.getEntry(t,s).next(()=>(n.removeEntry(s,F.min()),Is(t).delete([0,Qi(s.path)])))});i.push(e)}}).next(()=>it.waitFor(i)).next(()=>n.apply(t)).next(()=>r)}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)}updateLimboDocument(t,e){return Us(t,e)}Kn(t,e){const n=Is(t);let i,r=pt.at;return n.Z({index:"documentTargetsIndex"},([t,n],{path:s,sequenceNumber:o})=>{0===t?(r!==pt.at&&e(new P(Ki(i)),r),r=o,i=s):r=pt.at}).next(()=>{r!==pt.at&&e(new P(Ki(i)),r)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Us(t,e){return Is(t).put(function(t,e){return{targetId:0,path:Qi(t.path),sequenceNumber:e}}(e,t.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(){this.changes=new Mn(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,je.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?it.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t){this.yt=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,n){return Os(t).put(n)}removeEntry(t,e,n){return Os(t).delete(function(t,e){const n=t.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],br(e),n[n.length-1]]}(e,n))}updateMetadata(t,e){return this.getMetadata(t).next(n=>(n.byteSize+=e,this.Qn(t,n)))}getEntry(t,e){let n=je.newInvalidDocument(e);return Os(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ns(e))},(t,i)=>{n=this.jn(e,i)}).next(()=>n)}Wn(t,e){let n={size:0,document:je.newInvalidDocument(e)};return Os(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ns(e))},(t,i)=>{n={document:this.jn(e,i),size:As(i)}}).next(()=>n)}getEntries(t,e){let n=Kn();return this.zn(t,e,(t,e)=>{const i=this.jn(t,e);n=n.insert(t,i)}).next(()=>n)}Hn(t,e){let n=Kn(),i=new be(P.comparator);return this.zn(t,e,(t,e)=>{const r=this.jn(t,e);n=n.insert(t,r),i=i.insert(t,As(e))}).next(()=>({documents:n,Jn:i}))}zn(t,e,n){if(e.isEmpty())return it.resolve();let i=new ve(ks);e.forEach(t=>i=i.add(t));const r=IDBKeyRange.bound(Ns(i.first()),Ns(i.last())),s=i.getIterator();let o=s.getNext();return Os(t).Z({index:"documentKeyIndex",range:r},(t,e,i)=>{const r=P.fromSegments([...e.prefixPath,e.collectionGroup,e.documentId]);for(;o&&ks(o,r)<0;)n(o,null),o=s.getNext();o&&o.isEqual(r)&&(n(o,e),o=s.hasNext()?s.getNext():null),o?i.j(Ns(o)):i.done()}).next(()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null})}getAllFromCollection(t,e,n){const i=[e.popLast().toArray(),e.lastSegment(),br(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],r=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Os(t).W(IDBKeyRange.bound(i,r,!0)).next(t=>{let e=Kn();for(const n of t){const t=this.jn(P.fromSegments(n.prefixPath.concat(n.collectionGroup,n.documentId)),n);e=e.insert(t.key,t)}return e})}getAllFromCollectionGroup(t,e,n,i){let r=Kn();const s=Rs(e,n),o=Rs(e,X.max());return Os(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},(t,e,n)=>{const s=this.jn(P.fromSegments(e.prefixPath.concat(e.collectionGroup,e.documentId)),e);r=r.insert(s.key,s),r.size===i&&n.done()}).next(()=>r)}newChangeBuffer(t){return new _s(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(t=>t.byteSize)}getMetadata(t){return xs(t).get("remoteDocumentGlobalKey").next(t=>(E(!!t),t))}Qn(t,e){return xs(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const t=function(t,e){let n;if(e.document)n=Si(t.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const t=P.fromSegments(e.noDocument.path),i=Cr(e.noDocument.readTime);n=je.newNoDocument(t,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return y();{const t=P.fromSegments(e.unknownDocument.path),i=Cr(e.unknownDocument.version);n=je.newUnknownDocument(t,i)}}return e.readTime&&n.setReadTime(function(t){const e=new B(t[0],t[1]);return F.fromTimestamp(e)}(e.readTime)),n}(this.yt,e);if(!t.isNoDocument()||!t.version.isEqual(F.min()))return t}return je.newInvalidDocument(t)}}function Ls(t){return new js(t)}class _s extends Ts{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new Mn(t=>t.toString(),(t,e)=>t.isEqual(e))}applyChanges(t){const e=[];let n=0,i=new ve((t,e)=>N(t.canonicalString(),e.canonicalString()));return this.changes.forEach((r,s)=>{const o=this.Xn.get(r);if(e.push(this.Yn.removeEntry(t,r,o.readTime)),s.isValidDocument()){const a=wr(this.Yn.yt,s);i=i.add(r.path.popLast());const u=As(a);n+=u-o.size,e.push(this.Yn.addEntry(t,r,a))}else if(n-=o.size,this.trackRemovals){const n=wr(this.Yn.yt,s.convertToNoDocument(F.min()));e.push(this.Yn.addEntry(t,r,n))}}),i.forEach(n=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,n))}),e.push(this.Yn.updateMetadata(t,n)),it.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(t=>(this.Xn.set(e,{size:t.size,readTime:t.document.readTime}),t.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:t,Jn:e})=>(e.forEach((e,n)=>{this.Xn.set(e,{size:n,readTime:t.get(e).readTime})}),t))}}function xs(t){return mr(t,"remoteDocumentGlobal")}function Os(t){return mr(t,"remoteDocumentsV14")}function Ns(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Rs(t,e){const n=e.documentKey.path.toArray();return[t,br(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function ks(t,e){const n=t.path.toArray(),i=e.path.toArray();let r=0;for(let t=0;t<n.length-2&&t<i.length-2;++t)if(r=N(n[t],i[t]),r)return r;return r=N(n.length,i.length),r||(r=N(n[n.length-2],i[i.length-2]),r||N(n[n.length-1],i[i.length-1]))
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Bs{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(t,e,n,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next(i=>(n=i,this.remoteDocumentCache.getEntry(t,e))).next(t=>(null!==n&&Dn(n.mutation,t,Se.empty(),B.now()),t))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(e=>this.getLocalViewOfDocuments(t,e,Xn()).next(()=>e))}getLocalViewOfDocuments(t,e,n=Xn()){const i=Hn();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,n).next(t=>{let e=Jn();return t.forEach((t,n)=>{e=e.insert(t,n.overlayedDocument)}),e}))}getOverlayedDocuments(t,e){const n=Hn();return this.populateOverlays(t,n,e).next(()=>this.computeViews(t,e,n,Xn()))}populateOverlays(t,e,n){const i=[];return n.forEach(t=>{e.has(t)||i.push(t)}),this.documentOverlayCache.getOverlays(t,i).next(t=>{t.forEach((t,n)=>{e.set(t,n)})})}computeViews(t,e,n,i){let r=Kn();const s=Yn(),o=Yn();return e.forEach((t,e)=>{const o=n.get(e.key);i.has(e.key)&&(void 0===o||o.mutation instanceof jn)?r=r.insert(e.key,e):void 0!==o&&(s.set(e.key,o.mutation.getFieldMask()),Dn(o.mutation,e,o.mutation.getFieldMask(),B.now()))}),this.recalculateAndSaveOverlays(t,r).next(t=>(t.forEach((t,e)=>s.set(t,e)),e.forEach((t,e)=>{var n;return o.set(t,new Bs(e,null!==(n=s.get(t))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(t,e){const n=Yn();let i=new be((t,e)=>t-e),r=Xn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(t=>{for(const r of t)r.keys().forEach(t=>{const s=e.get(t);if(null===s)return;let o=n.get(t)||Se.empty();o=r.applyToLocalView(s,o),n.set(t,o);const a=(i.get(r.batchId)||Xn()).add(t);i=i.insert(r.batchId,a)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const i=o.getNext(),a=i.key,u=i.value,l=Wn();u.forEach(t=>{if(!r.has(t)){const i=vn(e.get(t),n.get(t));null!==i&&l.set(t,i),r=r.add(t)}}),s.push(this.documentOverlayCache.saveOverlays(t,a,l))}return it.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(e=>this.recalculateAndSaveOverlays(t,e))}getDocumentsMatchingQuery(t,e,n){return function(t){return P.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Je(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n):this.getDocumentsMatchingCollectionQuery(t,e,n)}getNextDocuments(t,e,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,i).next(r=>{const s=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,i-r.size):it.resolve(Hn());let o=-1,a=r;return s.next(e=>it.forEach(e,(e,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),r.get(e)?it.resolve():this.remoteDocumentCache.getEntry(t,e).next(t=>{a=a.insert(e,t)}))).next(()=>this.populateOverlays(t,e,r)).next(()=>this.computeViews(t,a,e,Xn())).next(t=>({batchId:o,changes:Vn(t)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new P(e)).next(t=>{let e=Jn();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})}getDocumentsMatchingCollectionGroupQuery(t,e,n){const i=e.collectionGroup;let r=Jn();return this.indexManager.getCollectionParents(t,i).next(s=>it.forEach(s,s=>{const o=function(t,e){return new Fe(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return this.getDocumentsMatchingCollectionQuery(t,o,n).next(t=>{t.forEach((t,e)=>{r=r.insert(t,e)})})}).next(()=>r))}getDocumentsMatchingCollectionQuery(t,e,n){let i;return this.remoteDocumentCache.getAllFromCollection(t,e.path,n).next(r=>(i=r,this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId))).next(t=>{t.forEach((t,e)=>{const n=e.getKey();null===i.get(n)&&(i=i.insert(n,je.newInvalidDocument(n)))});let n=Jn();return i.forEach((i,r)=>{const s=t.get(i);void 0!==s&&Dn(s.mutation,r,Se.empty(),B.now()),$e(e,r)&&(n=n.insert(i,r))}),n})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t){this.yt=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return it.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var n;return this.Zn.set(e.id,{id:(n=e).id,version:n.version,createTime:gi(n.createTime)}),it.resolve()}getNamedQuery(t,e){return it.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,function(t){return{name:t.name,query:Sr(t.bundledQuery),readTime:gi(t.readTime)}}(e)),it.resolve()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(){this.overlays=new be(P.comparator),this.es=new Map}getOverlay(t,e){return it.resolve(this.overlays.get(e))}getOverlays(t,e){const n=Hn();return it.forEach(e,e=>this.getOverlay(t,e).next(t=>{null!==t&&n.set(e,t)})).next(()=>n)}saveOverlays(t,e,n){return n.forEach((n,i)=>{this.oe(t,e,i)}),it.resolve()}removeOverlaysForBatchId(t,e,n){const i=this.es.get(n);return void 0!==i&&(i.forEach(t=>this.overlays=this.overlays.remove(t)),this.es.delete(n)),it.resolve()}getOverlaysForCollection(t,e,n){const i=Hn(),r=e.length+1,s=new P(e.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const t=o.getNext().value,s=t.getKey();if(!e.isPrefixOf(s.path))break;s.path.length===r&&t.largestBatchId>n&&i.set(t.getKey(),t)}return it.resolve(i)}getOverlaysForCollectionGroup(t,e,n,i){let r=new be((t,e)=>t-e);const s=this.overlays.getIterator();for(;s.hasNext();){const t=s.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=r.get(t.largestBatchId);null===e&&(e=Hn(),r=r.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const o=Hn(),a=r.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((t,e)=>o.set(t,e)),!(o.size()>=i)););return it.resolve(o)}oe(t,e,n){const i=this.overlays.get(n.key);if(null!==i){const t=this.es.get(i.largestBatchId).delete(n.key);this.es.set(i.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new gr(e,n));let r=this.es.get(e);void 0===r&&(r=Xn(),this.es.set(e,r)),this.es.set(e,r.add(n.key))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(){this.ns=new ve(Ks.ss),this.rs=new ve(Ks.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const n=new Ks(t,e);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}us(t,e){t.forEach(t=>this.addReference(t,e))}removeReference(t,e){this.cs(new Ks(t,e))}hs(t,e){t.forEach(t=>this.removeReference(t,e))}ls(t){const e=new P(new M([])),n=new Ks(e,t),i=new Ks(e,t+1),r=[];return this.rs.forEachInRange([n,i],t=>{this.cs(t),r.push(t.key)}),r}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new P(new M([])),n=new Ks(e,t),i=new Ks(e,t+1);let r=Xn();return this.rs.forEachInRange([n,i],t=>{r=r.add(t.key)}),r}containsKey(t){const e=new Ks(t,0),n=this.ns.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class Ks{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return P.comparator(t.key,e.key)||N(t._s,e._s)}static os(t,e){return N(t._s,e._s)||P.comparator(t.key,e.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new ve(Ks.ss)}checkEmpty(t){return it.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,i){const r=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new pr(r,e,n,i);this.mutationQueue.push(s);for(const e of i)this.gs=this.gs.add(new Ks(e.key,r)),this.indexManager.addToCollectionParentIndex(t,e.key.path.popLast());return it.resolve(s)}lookupMutationBatch(t,e){return it.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,i=this.ps(n),r=i<0?0:i;return it.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Ks(e,0),i=new Ks(e,Number.POSITIVE_INFINITY),r=[];return this.gs.forEachInRange([n,i],t=>{const e=this.ys(t._s);r.push(e)}),it.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new ve(N);return e.forEach(t=>{const e=new Ks(t,0),i=new Ks(t,Number.POSITIVE_INFINITY);this.gs.forEachInRange([e,i],t=>{n=n.add(t._s)})}),it.resolve(this.Is(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,i=n.length+1;let r=n;P.isDocumentKey(r)||(r=r.child(""));const s=new Ks(new P(r),0);let o=new ve(N);return this.gs.forEachWhile(t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(o=o.add(t._s)),!0)},s),it.resolve(this.Is(o))}Is(t){const e=[];return t.forEach(t=>{const n=this.ys(t);null!==n&&e.push(n)}),e}removeMutationBatch(t,e){E(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let n=this.gs;return it.forEach(e.mutations,i=>{const r=new Ks(i.key,e.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.gs=n})}An(t){}containsKey(t,e){const n=new Ks(e,0),i=this.gs.firstAfterOrEqual(n);return it.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t){this.Es=t,this.docs=new be(P.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,i=this.docs.get(n),r=i?i.size:0,s=this.Es(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return it.resolve(n?n.document.mutableCopy():je.newInvalidDocument(e))}getEntries(t,e){let n=Kn();return e.forEach(t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():je.newInvalidDocument(t))}),it.resolve(n)}getAllFromCollection(t,e,n){let i=Kn();const r=new P(e.child("")),s=this.docs.getIteratorFrom(r);for(;s.hasNext();){const{key:t,value:{document:r}}=s.getNext();if(!e.isPrefixOf(t.path))break;t.path.length>e.length+1||$(Z(r),n)<=0||(i=i.insert(r.key,r.mutableCopy()))}return it.resolve(i)}getAllFromCollectionGroup(t,e,n,i){y()}As(t,e){return it.forEach(this.docs,t=>e(t))}newChangeBuffer(t){return new Vs(this)}getSize(t){return it.resolve(this.size)}}class Vs extends Ts{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?e.push(this.Yn.addEntry(t,i)):this.Yn.removeEntry(n)}),it.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(t){this.persistence=t,this.Rs=new Mn(t=>xe(t),Oe),this.lastRemoteSnapshotVersion=F.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Gs,this.targetCount=0,this.vs=ys.Pn()}forEachTarget(t,e){return this.Rs.forEach((t,n)=>e(n)),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.bs&&(this.bs=e),it.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new ys(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,it.resolve()}updateTargetData(t,e){return this.Dn(e),it.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,e,n){let i=0;const r=[];return this.Rs.forEach((s,o)=>{o.sequenceNumber<=e&&null===n.get(o.targetId)&&(this.Rs.delete(s),r.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)}),it.waitFor(r).next(()=>i)}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,e){const n=this.Rs.get(e)||null;return it.resolve(n)}addMatchingKeys(t,e,n){return this.Ps.us(e,n),it.resolve()}removeMatchingKeys(t,e,n){this.Ps.hs(e,n);const i=this.persistence.referenceDelegate,r=[];return i&&e.forEach(e=>{r.push(i.markPotentiallyOrphaned(t,e))}),it.waitFor(r)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),it.resolve()}getMatchingKeysForTargetId(t,e){const n=this.Ps.ds(e);return it.resolve(n)}containsKey(t,e){return it.resolve(this.Ps.containsKey(e))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new pt(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Hs(this),this.indexManager=new ts,this.remoteDocumentCache=function(t){return new Js(t)}(t=>this.referenceDelegate.xs(t)),this.yt=new Er(e),this.Ns=new Qs(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Ms,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.Vs[t.toKey()];return n||(n=new Ps(e,this.referenceDelegate),this.Vs[t.toKey()]=n),n}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,n){m("MemoryPersistence","Starting transaction:",t);const i=new Ys(this.Ss.next());return this.referenceDelegate.ks(),n(i).next(t=>this.referenceDelegate.Os(i).next(()=>t)).toPromise().then(t=>(i.raiseOnCommittedEvent(),t))}Ms(t,e){return it.or(Object.values(this.Vs).map(n=>()=>n.containsKey(t,e)))}}class Ys extends et{constructor(t){super(),this.currentSequenceNumber=t}}class zs{constructor(t){this.persistence=t,this.Fs=new Gs,this.$s=null}static Bs(t){return new zs(t)}get Ls(){if(this.$s)return this.$s;throw y()}addReference(t,e,n){return this.Fs.addReference(n,e),this.Ls.delete(n.toString()),it.resolve()}removeReference(t,e,n){return this.Fs.removeReference(n,e),this.Ls.add(n.toString()),it.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),it.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(t=>this.Ls.add(t.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(t=>{t.forEach(t=>this.Ls.add(t.toString()))}).next(()=>n.removeTargetData(t,e))}ks(){this.$s=new Set}Os(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.Ls,n=>{const i=P.fromPath(n);return this.qs(t,i).next(t=>{t||e.removeEntry(i,F.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.qs(t,e).next(t=>{t?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}qs(t,e){return it.or([()=>it.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ms(t,e)])}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(t){this.yt=t}$(t,e,n,i){const r=new rt("createOrUpgrade",e);n<1&&i>=1&&(function(t){t.createObjectStore("owner")}(t),function(t){t.createObjectStore("mutationQueues",{keyPath:"userId"}),t.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Pi,{unique:!0}),t.createObjectStore("documentMutations")}(t),Xs(t),function(t){t.createObjectStore("remoteDocuments")}(t));let s=it.resolve();return n<3&&i>=3&&(0!==n&&(function(t){t.deleteObjectStore("targetDocuments"),t.deleteObjectStore("targets"),t.deleteObjectStore("targetGlobal")}(t),Xs(t)),s=s.next(()=>function(t){const e=t.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:F.min().toTimestamp(),targetCount:0};return e.put("targetGlobalKey",n)}(r))),n<4&&i>=4&&(0!==n&&(s=s.next(()=>function(t,e){return e.store("mutations").W().next(n=>{t.deleteObjectStore("mutations"),t.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Pi,{unique:!0});const i=e.store("mutations"),r=n.map(t=>i.put(t));return it.waitFor(r)})}(t,r))),s=s.next(()=>{!function(t){t.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),n<5&&i>=5&&(s=s.next(()=>this.Us(r))),n<6&&i>=6&&(s=s.next(()=>(function(t){t.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(r)))),n<7&&i>=7&&(s=s.next(()=>this.Gs(r))),n<8&&i>=8&&(s=s.next(()=>this.Qs(t,r))),n<9&&i>=9&&(s=s.next(()=>{!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t)})),n<10&&i>=10&&(s=s.next(()=>this.js(r))),n<11&&i>=11&&(s=s.next(()=>{!function(t){t.createObjectStore("bundles",{keyPath:"bundleId"})}(t),function(t){t.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),n<12&&i>=12&&(s=s.next(()=>{!function(t){const e=t.createObjectStore("documentOverlays",{keyPath:sr});e.createIndex("collectionPathOverlayIndex",or,{unique:!1}),e.createIndex("collectionGroupOverlayIndex",ar,{unique:!1})}(t)})),n<13&&i>=13&&(s=s.next(()=>function(t){const e=t.createObjectStore("remoteDocumentsV14",{keyPath:Wi});e.createIndex("documentKeyIndex",Yi),e.createIndex("collectionGroupIndex",zi)}(t)).next(()=>this.Ws(t,r)).next(()=>t.deleteObjectStore("remoteDocuments"))),n<14&&i>=14&&(s=s.next(()=>this.zs(t,r))),n<15&&i>=15&&(s=s.next(()=>function(t){t.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),t.createObjectStore("indexState",{keyPath:er}).createIndex("sequenceNumberIndex",nr,{unique:!1}),t.createObjectStore("indexEntries",{keyPath:ir}).createIndex("documentKeyIndex",rr,{unique:!1})}(t))),s}Ks(t){let e=0;return t.store("remoteDocuments").Z((t,n)=>{e+=As(n)}).next(()=>{const n={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}Us(t){const e=t.store("mutationQueues"),n=t.store("mutations");return e.W().next(e=>it.forEach(e,e=>{const i=IDBKeyRange.bound([e.userId,-1],[e.userId,e.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",i).next(n=>it.forEach(n,n=>{E(n.userId===e.userId);const i=vr(this.yt,n);return hs(t,e.userId,i).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),n=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(t=>{const i=[];return n.Z((n,r)=>{const s=new M(n),o=function(t){return[0,Qi(t)]}(s);i.push(e.get(o).next(n=>n?it.resolve():(n=>e.put({targetId:0,path:Qi(n),sequenceNumber:t.highestListenSequenceNumber}))(s)))}).next(()=>it.waitFor(i))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:tr});const n=e.store("collectionParents"),i=new es,r=t=>{if(i.add(t)){const e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Qi(i)})}};return e.store("remoteDocuments").Z({X:!0},(t,e)=>{const n=new M(t);return r(n.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([t,e,n],i)=>{const s=Ki(e);return r(s.popLast())}))}js(t){const e=t.store("targets");return e.Z((t,n)=>{const i=qr(n),r=Dr(this.yt,i);return e.put(r)})}Ws(t,e){const n=e.store("remoteDocuments"),i=[];return n.Z((t,n)=>{const r=e.store("remoteDocumentsV14"),s=(o=n,o.document?new P(M.fromString(o.document.name).popFirst(5)):o.noDocument?P.fromSegments(o.noDocument.path):o.unknownDocument?P.fromSegments(o.unknownDocument.path):y()).path.toArray();var o;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};i.push(r.put(a))}).next(()=>it.waitFor(i))}zs(t,e){const n=e.store("mutations"),i=Ls(this.yt),r=new Ws(zs.Bs,this.yt.ie);return n.W().next(t=>{const n=new Map;return t.forEach(t=>{var e;let i=null!==(e=n.get(t.userId))&&void 0!==e?e:Xn();vr(this.yt,t).keys().forEach(t=>i=i.add(t)),n.set(t.userId,i)}),it.forEach(n,(t,n)=>{const s=new l(n),o=Or.re(this.yt,s),a=r.getIndexManager(s),u=ds.re(s,this.yt,a,r.referenceDelegate);return new Fs(i,u,o,a).recalculateAndSaveOverlaysForDocumentKeys(new dr(e,pt.at),t).next()})})}}function Xs(t){t.createObjectStore("targetDocuments",{keyPath:Xi}).createIndex("documentTargetsIndex",$i,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Zi,{unique:!0}),t.createObjectStore("targetGlobal")}const $s="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class to{constructor(t,e,n,i,r,s,o,a,u,l,c=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.Hs=r,this.window=s,this.document=o,this.Js=u,this.Ys=l,this.Xs=c,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=t=>Promise.resolve(),!to.C())throw new C(I.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ss(this,i),this.ii=e+"main",this.yt=new Er(a),this.ri=new st(this.ii,this.Xs,new Zs(this.yt)),this.Cs=new Es(this.referenceDelegate,this.yt),this.remoteDocumentCache=Ls(this.yt),this.Ns=new Lr,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&p("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new C(I.FAILED_PRECONDITION,$s);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new pt(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){return this.si=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(async e=>{null===e.newVersion&&await t()})}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget(async()=>{this.started&&await this.ui()}))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>no(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(ut(t))return m("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return m("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return eo(t).get("owner").next(t=>it.resolve(this.mi(t)))}gi(t){return no(t).delete(this.clientId)}async yi(){if(this.isPrimary&&!this.pi(this.ni,18e5)){this.ni=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const e=mr(t,"clientMetadata");return e.W().next(t=>{const n=this.Ii(t,18e5),i=t.filter(t=>-1===n.indexOf(t));return it.forEach(i,t=>e.delete(t.clientId)).next(()=>i)})}).catch(()=>[]);if(this.oi)for(const e of t)this.oi.removeItem(this.Ti(e.clientId))}}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?it.resolve(!0):eo(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new C(I.FAILED_PRECONDITION,$s);return!1}}return!(!this.networkEnabled||!this.inForeground)||no(t).W().next(t=>void 0===this.Ii(t,5e3).find(t=>{if(this.clientId!==t.clientId){const e=!this.networkEnabled&&t.networkEnabled,n=!this.inForeground&&t.inForeground,i=this.networkEnabled===t.networkEnabled;if(e||n&&i)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&m("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),await this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const e=new dr(t,pt.at);return this._i(e).next(()=>this.gi(e))}),this.ri.close(),this.Pi()}Ii(t,e){return t.filter(t=>this.pi(t.updateTimeMs,e)&&!this.Ei(t.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>no(t).W().next(t=>this.Ii(t,18e5).map(t=>t.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return ds.re(t,this.yt,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new is(t,this.yt.ie.databaseId)}getDocumentOverlayCache(t){return Or.re(this.yt,t)}getBundleCache(){return this.Ns}runTransaction(t,e,n){m("IndexedDbPersistence","Starting transaction:",t);const i="readonly"===e?"readonly":"readwrite",r=15===(s=this.Xs)?Ar:14===s?hr:13===s?cr:12===s?lr:11===s?ur:void y();var s;let o;return this.ri.runTransaction(t,i,r,i=>(o=new dr(i,this.Ss?this.Ss.next():pt.at),"readwrite-primary"===e?this.fi(o).next(t=>!!t||this.di(o)).next(e=>{if(!e)throw p(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new C(I.FAILED_PRECONDITION,tt);return n(o)}).next(t=>this.wi(o).next(()=>t)):this.Vi(o).next(()=>n(o)))).then(t=>(o.raiseOnCommittedEvent(),t))}Vi(t){return eo(t).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new C(I.FAILED_PRECONDITION,$s)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return eo(t).put("owner",e)}static C(){return st.C()}_i(t){const e=eo(t);return e.get("owner").next(t=>this.mi(t)?(m("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):it.resolve())}pi(t,e){const n=Date.now();return!(t<n-e||t>n&&(p(`Detected an update time that is in the future: ${t} > ${n}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),Object(o.q)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const n=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return m("IndexedDbPersistence",`Client '${t}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(t){return p("IndexedDbPersistence","Failed to get zombied client id.",t),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){p("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(t){}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function eo(t){return mr(t,"owner")}function no(t){return mr(t,"clientMetadata")}function io(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class ro{constructor(t,e,n,i){this.targetId=t,this.fromCache=e,this.Si=n,this.Di=i}static Ci(t,e){let n=Xn(),i=Xn();for(const t of e.docChanges)switch(t.type){case 0:n=n.add(t.doc.key);break;case 1:i=i.add(t.doc.key)}return new ro(t,e.fromCache,n,i)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,n,i){return this.ki(t,e).next(r=>r||this.Oi(t,e,i,n)).next(n=>n||this.Mi(t,e))}ki(t,e){if(Ge(e))return it.resolve(null);let n=He(e);return this.indexManager.getIndexType(t,n).next(i=>0===i?null:(null!==e.limit&&1===i&&(e=Ye(e,null,"F"),n=He(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next(i=>{const r=Xn(...i);return this.Ni.getDocuments(t,r).next(i=>this.indexManager.getMinOffset(t,n).next(n=>{const s=this.Fi(e,i);return this.$i(e,s,r,n.readTime)?this.ki(t,Ye(e,null,"F")):this.Bi(t,s,e,n)}))})))}Oi(t,e,n,i){return Ge(e)||i.isEqual(F.min())?this.Mi(t,e):this.Ni.getDocuments(t,n).next(r=>{const o=this.Fi(e,r);return this.$i(e,o,n,i)?this.Mi(t,e):(A()<=s.a.DEBUG&&m("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xe(e)),this.Bi(t,o,e,z(i,-1)))})}Fi(t,e){let n=new ve(en(t));return e.forEach((e,i)=>{$e(t,i)&&(n=n.add(i))}),n}$i(t,e,n,i){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const r="F"===t.limitType?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Mi(t,e){return A()<=s.a.DEBUG&&m("QueryEngine","Using full collection scan to execute query:",Xe(e)),this.Ni.getDocumentsMatchingQuery(t,e,X.min())}Bi(t,e,n,i){return this.Ni.getDocumentsMatchingQuery(t,n,i).next(t=>(e.forEach(e=>{t=t.insert(e.key,e)}),t))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t,e,n,i){this.persistence=t,this.Li=e,this.yt=i,this.qi=new be(N),this.Ui=new Mn(t=>xe(t),Oe),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(n)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Fs(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.qi))}}function ao(t,e,n,i){return new oo(t,e,n,i)}async function uo(t,e){const n=b(t);return await n.persistence.runTransaction("Handle user change","readonly",t=>{let i;return n.mutationQueue.getAllMutationBatches(t).next(r=>(i=r,n.Qi(e),n.mutationQueue.getAllMutationBatches(t))).next(e=>{const r=[],s=[];let o=Xn();for(const t of i){r.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){s.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return n.localDocuments.getDocuments(t,o).next(t=>({ji:t,removedBatchIds:r,addedBatchIds:s}))})})}function lo(t){const e=b(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function co(t,e,n){let i=Xn(),r=Xn();return n.forEach(t=>i=i.add(t)),e.getEntries(t,i).next(t=>{let i=Kn();return n.forEach((n,s)=>{const o=t.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(r=r.add(n)),s.isNoDocument()&&s.version.isEqual(F.min())?(e.removeEntry(n,s.readTime),i=i.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(e.addEntry(s),i=i.insert(n,s)):m("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)}),{Wi:i,zi:r}})}function ho(t,e){const n=b(t);return n.persistence.runTransaction("Get next mutation batch","readonly",t=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e)))}function Ao(t,e){const n=b(t);return n.persistence.runTransaction("Allocate target","readwrite",t=>{let i;return n.Cs.getTargetData(t,e).next(r=>r?(i=r,it.resolve(i)):n.Cs.allocateTargetId(t).next(r=>(i=new yr(e,r,0,t.currentSequenceNumber),n.Cs.addTargetData(t,i).next(()=>i))))}).then(t=>{const i=n.qi.get(t.targetId);return(null===i||t.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qi=n.qi.insert(t.targetId,t),n.Ui.set(e,t.targetId)),t})}async function mo(t,e,n){const i=b(t),r=i.qi.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,t=>i.persistence.referenceDelegate.removeTarget(t,r))}catch(t){if(!ut(t))throw t;m("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}i.qi=i.qi.remove(e),i.Ui.delete(r.target)}function po(t,e,n){const i=b(t);let r=F.min(),s=Xn();return i.persistence.runTransaction("Execute query","readonly",t=>function(t,e,n){const i=b(t),r=i.Ui.get(n);return void 0!==r?it.resolve(i.qi.get(r)):i.Cs.getTargetData(e,n)}(i,t,He(e)).next(e=>{if(e)return r=e.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(t,e.targetId).next(t=>{s=t})}).next(()=>i.Li.getDocumentsMatchingQuery(t,e,n?r:F.min(),n?s:Xn())).next(t=>(yo(i,tn(e),t),{documents:t,Hi:s})))}function fo(t,e){const n=b(t),i=b(n.Cs),r=n.qi.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",t=>i.ne(t,e).next(t=>t?t.target:null))}function go(t,e){const n=b(t),i=n.Ki.get(e)||F.min();return n.persistence.runTransaction("Get new document changes","readonly",t=>n.Gi.getAllFromCollectionGroup(t,e,z(i,-1),Number.MAX_SAFE_INTEGER)).then(t=>(yo(n,e,t),t))}function yo(t,e,n){let i=t.Ki.get(e)||F.min();n.forEach((t,e)=>{e.readTime.compareTo(i)>0&&(i=e.readTime)}),t.Ki.set(e,i)}async function Eo(t,e,n=Xn()){const i=await Ao(t,He(Sr(e.bundledQuery))),r=b(t);return r.persistence.runTransaction("Save named query","readwrite",t=>{const s=gi(e.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.Ns.saveNamedQuery(t,e);const o=i.withResumeToken(qt.EMPTY_BYTE_STRING,s);return r.qi=r.qi.insert(o.targetId,o),r.Cs.updateTargetData(t,o).next(()=>r.Cs.removeMatchingKeysForTargetId(t,i.targetId)).next(()=>r.Cs.addMatchingKeys(t,n,i.targetId)).next(()=>r.Ns.saveNamedQuery(t,e))})}function wo(t,e){return`firestore_clients_${t}_${e}`}function bo(t,e,n){let i=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(i+="_"+e.uid),i}function Io(t,e){return`firestore_targets_${t}_${e}`}class Co{constructor(t,e,n,i){this.user=t,this.batchId=e,this.state=n,this.error=i}static Zi(t,e,n){const i=JSON.parse(n);let r,s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new C(i.error.code,i.error.message))),s?new Co(t,e,i.state,r):(p("SharedClientState",`Failed to parse mutation state for ID '${e}': ${n}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class vo{constructor(t,e,n){this.targetId=t,this.state=e,this.error=n}static Zi(t,e){const n=JSON.parse(e);let i,r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code,r&&(i=new C(n.error.code,n.error.message))),r?new vo(t,n.state,i):(p("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class qo{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const n=JSON.parse(e);let i="object"==typeof n&&n.activeTargetIds instanceof Array,r=ti();for(let t=0;i&&t<n.activeTargetIds.length;++t)i=Ct(n.activeTargetIds[t]),r=r.add(n.activeTargetIds[t]);return i?new qo(t,r):(p("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class Do{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new Do(e.clientId,e.onlineState):(p("SharedClientState","Failed to parse online state: "+t),null)}}class So{constructor(){this.activeTargetIds=ti()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Uo{constructor(t,e,n,i,r){this.window=t,this.Hs=e,this.persistenceKey=n,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new be(N),this.started=!1,this.cr=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=r,this.ar=wo(this.persistenceKey,this.sr),this.hr=function(t){return"firestore_sequence_number_"+t}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.persistenceKey),this.ur=this.ur.insert(this.sr,new So),this.lr=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.wr=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.mr=function(t){return"firestore_bundle_loaded_v2_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}async start(){const t=await this.syncEngine.vi();for(const e of t){if(e===this.sr)continue;const t=this.getItem(wo(this.persistenceKey,e));if(t){const n=qo.Zi(e,t);n&&(this.ur=this.ur.insert(n.clientId,n))}}this.gr();const e=this.storage.getItem(this.wr);if(e){const t=this.yr(e);t&&this.pr(t)}for(const t of this.cr)this.rr(t);this.cr=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((n,i)=>{i.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,n){this.Tr(t,e,n),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const n=this.storage.getItem(Io(this.persistenceKey,t));if(n){const i=vo.Zi(t,n);i&&(e=i.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Io(this.persistenceKey,t))}updateQueryState(t,e,n){this.Rr(t,e,n)}handleUserChange(t,e,n){e.forEach(t=>{this.Er(t)}),this.currentUser=t,n.forEach(t=>{this.addPendingMutation(t)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return m("SharedClientState","READ",t,e),e}setItem(t,e){m("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){m("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){const e=t;if(e.storageArea===this.storage){if(m("SharedClientState","EVENT",e.key,e.newValue),e.key===this.ar)return void p("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(async()=>{if(this.started){if(null!==e.key)if(this.lr.test(e.key)){if(null==e.newValue){const t=this.vr(e.key);return this.Vr(t,null)}{const t=this.Sr(e.key,e.newValue);if(t)return this.Vr(t.clientId,t)}}else if(this.dr.test(e.key)){if(null!==e.newValue){const t=this.Dr(e.key,e.newValue);if(t)return this.Cr(t)}}else if(this._r.test(e.key)){if(null!==e.newValue){const t=this.Nr(e.key,e.newValue);if(t)return this.kr(t)}}else if(e.key===this.wr){if(null!==e.newValue){const t=this.yr(e.newValue);if(t)return this.pr(t)}}else if(e.key===this.hr){const t=function(t){let e=pt.at;if(null!=t)try{const n=JSON.parse(t);E("number"==typeof n),e=n}catch(t){p("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(e.newValue);t!==pt.at&&this.sequenceNumberHandler(t)}else if(e.key===this.mr){const t=this.Or(e.newValue);await Promise.all(t.map(t=>this.syncEngine.Mr(t)))}}else this.cr.push(e)})}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,n){const i=new Co(this.currentUser,t,e,n),r=bo(this.persistenceKey,this.currentUser,t);this.setItem(r,i.tr())}Er(t){const e=bo(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){const e={clientId:this.sr,onlineState:t};this.storage.setItem(this.wr,JSON.stringify(e))}Rr(t,e,n){const i=Io(this.persistenceKey,t),r=new vo(t,e,n);this.setItem(i,r.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const n=this.vr(t);return qo.Zi(n,e)}Dr(t,e){const n=this.dr.exec(t),i=Number(n[1]),r=void 0!==n[2]?n[2]:null;return Co.Zi(new l(r),i,e)}Nr(t,e){const n=this._r.exec(t),i=Number(n[1]);return vo.Zi(i,e)}yr(t){return Do.Zi(t)}Or(t){return JSON.parse(t)}async Cr(t){if(t.user.uid===this.currentUser.uid)return this.syncEngine.Fr(t.batchId,t.state,t.error);m("SharedClientState","Ignoring mutation for non-active user "+t.user.uid)}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const n=e?this.ur.insert(t,e):this.ur.remove(t),i=this.Ir(this.ur),r=this.Ir(n),s=[],o=[];return r.forEach(t=>{i.has(t)||s.push(t)}),i.forEach(t=>{r.has(t)||o.push(t)}),this.syncEngine.Br(s,o).then(()=>{this.ur=n})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=ti();return t.forEach((t,n)=>{e=e.unionWith(n.activeTargetIds)}),e}}class To{constructor(){this.Lr=new So,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.Lr.er(t),this.qr[t]||"not-current"}updateQueryState(t,e,n){this.qr[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.qr[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new So,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{Ur(t){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){m("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){m("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http";this.oo=e+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,e,n,i,r){const s=this.ho(t,e);m("RestConnection","Sending: ",s,n);const o={};return this.lo(o,i,r),this.fo(t,s,o,n).then(t=>(m("RestConnection","Received: ",t),t),e=>{throw f("RestConnection",t+" failed with error: ",e,"url: ",s,"request:",n),e})}_o(t,e,n,i,r,s){return this.ao(t,e,n,i,r)}lo(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+c,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((e,n)=>t[n]=e),n&&n.headers.forEach((e,n)=>t[n]=e)}ho(t,e){const n=_o[t];return`${this.oo}/v1/${e}:${n}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,n,i){return new Promise((r,s)=>{const o=new a.g;o.setWithCredentials(!0),o.listenOnce(a.c.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case a.a.NO_ERROR:const e=o.getResponseJson();m("Connection","XHR received:",JSON.stringify(e)),r(e);break;case a.a.TIMEOUT:m("Connection",'RPC "'+t+'" timed out'),s(new C(I.DEADLINE_EXCEEDED,"Request time out"));break;case a.a.HTTP_ERROR:const n=o.getStatus();if(m("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){let t=o.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(e)>=0?e:I.UNKNOWN}(e.status);s(new C(t,e.message))}else s(new C(I.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new C(I.UNAVAILABLE,"Connection failed."));break;default:y()}}finally{m("Connection",'RPC "'+t+'" completed.')}});const u=JSON.stringify(i);o.send(e,"POST",u,n,15)})}wo(t,e,n){const i=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=Object(a.h)(),s=Object(a.i)(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new a.d({})),this.lo(o.initMessageHeaders,e,n),o.encodeInitMessageHeaders=!0;const u=i.join("");m("Connection","Creating WebChannel: "+u,o);const l=r.createWebChannel(u,o);let c=!1,h=!1;const A=new xo({Hr:t=>{h?m("Connection","Not sending because WebChannel is closed:",t):(c||(m("Connection","Opening WebChannel transport."),l.open(),c=!0),m("Connection","WebChannel sending:",t),l.send(t))},Jr:()=>l.close()}),d=(t,e,n)=>{t.listen(e,t=>{try{n(t)}catch(t){setTimeout(()=>{throw t},0)}})};return d(l,a.f.EventType.OPEN,()=>{h||m("Connection","WebChannel transport opened.")}),d(l,a.f.EventType.CLOSE,()=>{h||(h=!0,m("Connection","WebChannel transport closed"),A.io())}),d(l,a.f.EventType.ERROR,t=>{h||(h=!0,f("Connection","WebChannel transport errored:",t),A.io(new C(I.UNAVAILABLE,"The operation could not be completed")))}),d(l,a.f.EventType.MESSAGE,t=>{var e;if(!h){const n=t.data[0];E(!!n);const i=n,r=i.error||(null===(e=i[0])||void 0===e?void 0:e.error);if(r){m("Connection","WebChannel received error:",r);const t=r.status;let e=function(t){const e=kn[t];if(void 0!==e)return Qn(e)}(t),n=r.message;void 0===e&&(e=I.INTERNAL,n="Unknown error status: "+t+" with message "+r.message),h=!0,A.io(new C(e,n)),l.close()}else m("Connection","WebChannel received:",n),A.ro(n)}}),d(s,a.b.STAT_EVENT,t=>{t.stat===a.e.PROXY?m("Connection","Detected buffering proxy"):t.stat===a.e.NOPROXY&&m("Connection","Detected no buffering proxy")}),setTimeout(()=>{A.so()},0),A}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(){return"undefined"!=typeof window?window:null}function Ro(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(t){return new di(t,!0)}class Bo{constructor(t,e,n=1e3,i=1.5,r=6e4){this.Hs=t,this.timerId=e,this.mo=n,this.yo=i,this.po=r,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),n=Math.max(0,Date.now()-this.Eo),i=Math.max(0,e-n);i>0&&m("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(t,e,n,i,r,s,o,a){this.Hs=t,this.vo=n,this.Vo=i,this.connection=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Bo(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(t,e){this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():e&&e.code===I.RESOURCE_EXHAUSTED?(p(e.toString()),p("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):e&&e.code===I.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zr(e)}Uo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([t,n])=>{this.So===e&&this.Go(t,n)},e=>{t(()=>{const t=new C(I.UNKNOWN,"Fetching auth token failed: "+e.message);return this.Qo(t)})})}Go(t,e){const n=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr(()=>{n(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(t=>{n(()=>this.Qo(t))}),this.stream.onMessage(t=>{n(()=>this.onMessage(t))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(t){return m("PersistentStream","close with error: "+t),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget(()=>this.So===t?e():(m("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Qo extends Fo{constructor(t,e,n,i,r,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,i,s),this.yt=r}jo(t,e){return this.connection.wo("Listen",t,e)}onMessage(t){this.xo.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:y()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(t,e){return t.wt?(E(void 0===e||"string"==typeof e),qt.fromBase64String(e||"")):(E(void 0===e||e instanceof Uint8Array),qt.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){const e=void 0===t.code?I.UNKNOWN:Qn(t.code);return new C(e,t.message||"")}(o);n=new si(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=bi(t,i.document.name),s=gi(i.document.updateTime),o=i.document.createTime?gi(i.document.createTime):F.min(),a=new Ue({mapValue:{fields:i.document.fields}}),u=je.newFoundDocument(r,s,o,a),l=i.targetIds||[],c=i.removedTargetIds||[];n=new ii(l,c,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=bi(t,i.document),s=i.readTime?gi(i.readTime):F.min(),o=je.newNoDocument(r,s),a=i.removedTargetIds||[];n=new ii([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=bi(t,i.document),s=i.removedTargetIds||[];n=new ii([],s,r,null)}else{if(!("filter"in e))return y();{e.filter;const t=e.filter;t.targetId;const i=t.count||0,r=new Rn(i),s=t.targetId;n=new ri(s,r)}}return n}(this.yt,t),n=function(t){if(!("targetChange"in t))return F.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?F.min():e.readTime?gi(e.readTime):F.min()}(t);return this.listener.Wo(e,n)}zo(t){const e={};e.database=vi(this.yt),e.addTarget=function(t,e){let n;const i=e.target;return n=Ne(i)?{documents:ji(t,i)}:{query:Li(t,i)},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=pi(t,e.resumeToken):e.snapshotVersion.compareTo(F.min())>0&&(n.readTime=mi(t,e.snapshotVersion.toTimestamp())),n}(this.yt,t);const n=function(t,e){const n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return y()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,t);n&&(e.labels=n),this.Bo(e)}Ho(t){const e={};e.database=vi(this.yt),e.removeTarget=t,this.Bo(e)}}class Mo extends Fo{constructor(t,e,n,i,r,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,i,s),this.yt=r,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(t,e){return this.connection.wo("Write",t,e)}onMessage(t){if(E(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function(t,e){return t&&t.length>0?(E(void 0!==e),t.map(t=>function(t,e){let n=t.updateTime?gi(t.updateTime):gi(e);return n.isEqual(F.min())&&(n=gi(e)),new wn(n,t.transformResults||[])}(t,e))):[]}(t.writeResults,t.commitTime),n=gi(t.commitTime);return this.listener.Zo(n,e)}return E(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=vi(this.yt),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map(t=>Ui(this.yt,t))};this.Bo(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends class{}{constructor(t,e,n,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.yt=i,this.nu=!1}su(){if(this.nu)throw new C(I.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,e,n){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,r])=>this.connection.ao(t,e,n,i,r)).catch(t=>{throw"FirebaseError"===t.name?(t.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new C(I.UNKNOWN,t.toString())})}_o(t,e,n,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection._o(t,e,n,r,s,i)).catch(t=>{throw"FirebaseError"===t.name?(t.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new C(I.UNKNOWN,t.toString())})}terminate(){this.nu=!0}}class Ko{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: "+t.toString()),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(p(e),this.ou=!1):m("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(t,e,n,i,r){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=r,this.mu.Ur(t=>{n.enqueueAndForget(async()=>{$o(this)&&(m("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=b(t);e._u.add(4),await Vo(e),e.gu.set("Unknown"),e._u.delete(4),await Jo(e)}(this))})}),this.gu=new Ko(n,i)}}async function Jo(t){if($o(t))for(const e of t.wu)await e(!0)}async function Vo(t){for(const e of t.wu)await e(!1)}function Ho(t,e){const n=b(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),Xo(n)?Zo(n):ga(n).ko()&&Yo(n,e))}function Wo(t,e){const n=b(t),i=ga(n);n.du.delete(e),i.ko()&&zo(n,e),0===n.du.size&&(i.ko()?i.Fo():$o(n)&&n.gu.set("Unknown"))}function Yo(t,e){t.yu.Ot(e.targetId),ga(t).zo(e)}function zo(t,e){t.yu.Ot(e),ga(t).Ho(e)}function Zo(t){t.yu=new ai({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),ga(t).start(),t.gu.uu()}function Xo(t){return $o(t)&&!ga(t).No()&&t.du.size>0}function $o(t){return 0===b(t)._u.size}function ta(t){t.yu=void 0}async function ea(t){t.du.forEach((e,n)=>{Yo(t,e)})}async function na(t,e){ta(t),Xo(t)?(t.gu.hu(e),Zo(t)):t.gu.set("Unknown")}async function ia(t,e,n){if(t.gu.set("Online"),e instanceof si&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const i of e.targetIds)t.du.has(i)&&(await t.remoteSyncer.rejectListen(i,n),t.du.delete(i),t.yu.removeTarget(i))}(t,e)}catch(n){m("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await ra(t,n)}else if(e instanceof ii?t.yu.Kt(e):e instanceof ri?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(F.min()))try{const e=await lo(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.yu.Zt(e);return n.targetChanges.forEach((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=t.du.get(i);r&&t.du.set(i,r.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(e=>{const n=t.du.get(e);if(!n)return;t.du.set(e,n.withResumeToken(qt.EMPTY_BYTE_STRING,n.snapshotVersion)),zo(t,e);const i=new yr(n.target,e,1,n.sequenceNumber);Yo(t,i)}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){m("RemoteStore","Failed to raise snapshot:",e),await ra(t,e)}}async function ra(t,e,n){if(!ut(e))throw e;t._u.add(1),await Vo(t),t.gu.set("Offline"),n||(n=()=>lo(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{m("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await Jo(t)})}function sa(t,e){return e().catch(n=>ra(t,n,e))}async function oa(t){const e=b(t),n=ya(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;aa(e);)try{const t=await ho(e.localStore,i);if(null===t){0===e.fu.length&&n.Fo();break}i=t.batchId,ua(e,t)}catch(t){await ra(e,t)}la(e)&&ca(e)}function aa(t){return $o(t)&&t.fu.length<10}function ua(t,e){t.fu.push(e);const n=ya(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function la(t){return $o(t)&&!ya(t).No()&&t.fu.length>0}function ca(t){ya(t).start()}async function ha(t){ya(t).eu()}async function Aa(t){const e=ya(t);for(const n of t.fu)e.Xo(n.mutations)}async function da(t,e,n){const i=t.fu.shift(),r=fr.from(i,e,n);await sa(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await oa(t)}async function ma(t,e){e&&ya(t).Yo&&await async function(t,e){if(Fn(n=e.code)&&n!==I.ABORTED){const n=t.fu.shift();ya(t).Mo(),await sa(t,()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e)),await oa(t)}var n}(t,e),la(t)&&ca(t)}async function pa(t,e){const n=b(t);n.asyncQueue.verifyOperationInProgress(),m("RemoteStore","RemoteStore received new credentials");const i=$o(n);n._u.add(3),await Vo(n),i&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await Jo(n)}async function fa(t,e){const n=b(t);e?(n._u.delete(2),await Jo(n)):e||(n._u.add(2),await Vo(n),n.gu.set("Unknown"))}function ga(t){return t.pu||(t.pu=function(t,e,n){const i=b(t);return i.su(),new Qo(e,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,n)
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(t.datastore,t.asyncQueue,{Yr:ea.bind(null,t),Zr:na.bind(null,t),Wo:ia.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Mo(),Xo(t)?Zo(t):t.gu.set("Unknown")):(await t.pu.stop(),ta(t))})),t.pu}function ya(t){return t.Iu||(t.Iu=function(t,e,n){const i=b(t);return i.su(),new Mo(e,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,n)}(t.datastore,t.asyncQueue,{Yr:ha.bind(null,t),Zr:ma.bind(null,t),tu:Aa.bind(null,t),Zo:da.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await oa(t)):(await t.Iu.stop(),t.fu.length>0&&(m("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Ea{constructor(t,e,n,i,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new v,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(t=>{})}static createAndSchedule(t,e,n,i,r){const s=Date.now()+n,o=new Ea(t,e,s,i,r);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(I.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wa(t,e){if(p("AsyncQueue",`${e}: ${t}`),ut(t))return new C(I.UNAVAILABLE,`${e}: ${t}`);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(t){this.comparator=t?(e,n)=>t(e,n)||P.comparator(e.key,n.key):(t,e)=>P.comparator(t.key,e.key),this.keyedMap=Jn(),this.sortedSet=new be(this.comparator)}static emptySet(t){return new ba(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,n)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof ba))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(!t.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new ba;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.Tu=new be(P.comparator)}track(t){const e=t.doc.key,n=this.Tu.get(e);n?0!==t.type&&3===n.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==n.type?this.Tu=this.Tu.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Tu=this.Tu.remove(e):1===t.type&&2===n.type?this.Tu=this.Tu.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):y():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal((e,n)=>{t.push(n)}),t}}class Ca{constructor(t,e,n,i,r,s,o,a,u){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=u}static fromInitialDocuments(t,e,n,i,r){const s=[];return e.forEach(t=>{s.push({type:0,doc:t})}),new Ca(t,e,ba.emptySet(e),s,n,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ze(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t].type!==n[t].type||!e[t].doc.isEqual(n[t].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(){this.Au=void 0,this.listeners=[]}}class qa{constructor(){this.queries=new Mn(t=>Ze(t),ze),this.onlineState="Unknown",this.Ru=new Set}}async function Da(t,e){const n=b(t),i=e.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new va),r)try{s.Au=await n.onListen(i)}catch(t){const n=wa(t,`Initialization of query '${Xe(e.query)}' failed`);return void e.onError(n)}n.queries.set(i,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&ja(n)}async function Sa(t,e){const n=b(t),i=e.query;let r=!1;const s=n.queries.get(i);if(s){const t=s.listeners.indexOf(e);t>=0&&(s.listeners.splice(t,1),r=0===s.listeners.length)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function Ua(t,e){const n=b(t);let i=!1;for(const t of e){const e=t.query,r=n.queries.get(e);if(r){for(const e of r.listeners)e.Pu(t)&&(i=!0);r.Au=t}}i&&ja(n)}function Ta(t,e,n){const i=b(t),r=i.queries.get(e);if(r)for(const t of r.listeners)t.onError(n);i.queries.delete(e)}function ja(t){t.Ru.forEach(t=>{t.next()})}class La{constructor(t,e,n){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=n||{}}Pu(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new Ca(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){if(!t.fromCache)return!0;const n="Offline"!==e;return(!this.options.Nu||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Du(t){if(t.docChanges.length>0)return!0;const e=this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}xu(t){t=Ca.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Vu=!0,this.vu.next(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(t,e){this.ku=t,this.byteLength=e}Ou(){return"metadata"in this.ku}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(t){this.yt=t}Ji(t){return bi(this.yt,t)}Yi(t){return t.metadata.exists?Si(this.yt,t.document,!1):je.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return gi(t)}}class Oa{constructor(t,e,n){this.Mu=t,this.localStore=e,this.yt=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Na(t)}Fu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.ku.namedQuery)this.queries.push(t.ku.namedQuery);else if(t.ku.documentMetadata){this.documents.push({metadata:t.ku.documentMetadata}),t.ku.documentMetadata.exists||++e;const n=M.fromString(t.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else t.ku.document&&(this.documents[this.documents.length-1].document=t.ku.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}$u(t){const e=new Map,n=new xa(this.yt);for(const i of t)if(i.metadata.queries){const t=n.Ji(i.metadata.name);for(const n of i.metadata.queries){const i=(e.get(n)||Xn()).add(t);e.set(n,i)}}return e}async complete(){const t=await async function(t,e,n,i){const r=b(t);let s=Xn(),o=Kn();for(const t of n){const n=e.Ji(t.metadata.name);t.document&&(s=s.add(n));const i=e.Yi(t);i.setReadTime(e.Xi(t.metadata.readTime)),o=o.insert(n,i)}const a=r.Gi.newChangeBuffer({trackRemovals:!0}),u=await Ao(r,function(t){return He(Me(M.fromString("__bundle__/docs/"+t)))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",t=>co(t,a,o).next(e=>(a.apply(t),e)).next(e=>r.Cs.removeMatchingKeysForTargetId(t,u.targetId).next(()=>r.Cs.addMatchingKeys(t,s,u.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(t,e.Wi,e.zi)).next(()=>e.Wi)))}(this.localStore,new xa(this.yt),this.documents,this.Mu.id),e=this.$u(this.documents);for(const t of this.queries)await Eo(this.localStore,t,e.get(t.name));return this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}}}function Na(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(t){this.key=t}}class ka{constructor(t){this.key=t}}class Ba{constructor(t,e){this.query=t,this.qu=e,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Xn(),this.mutatedKeys=Xn(),this.Gu=en(t),this.Qu=new ba(this.Gu)}get ju(){return this.qu}Wu(t,e){const n=e?e.zu:new Ia,i=e?e.Qu:this.Qu;let r=e?e.mutatedKeys:this.mutatedKeys,s=i,o=!1;const a="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((t,e)=>{const l=i.get(t),c=$e(this.query,e)?e:null,h=!!l&&this.mutatedKeys.has(l.key),A=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let d=!1;l&&c?l.data.isEqual(c.data)?h!==A&&(n.track({type:3,doc:c}),d=!0):this.Hu(l,c)||(n.track({type:2,doc:c}),d=!0,(a&&this.Gu(c,a)>0||u&&this.Gu(c,u)<0)&&(o=!0)):!l&&c?(n.track({type:0,doc:c}),d=!0):l&&!c&&(n.track({type:1,doc:l}),d=!0,(a||u)&&(o=!0)),d&&(c?(s=s.add(c),r=A?r.add(t):r.delete(t)):(s=s.delete(t),r=r.delete(t)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const t="F"===this.query.limitType?s.last():s.first();s=s.delete(t.key),r=r.delete(t.key),n.track({type:1,doc:t})}return{Qu:s,zu:n,$i:o,mutatedKeys:r}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n){const i=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const r=t.zu.Eu();r.sort((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return y()}};return n(t)-n(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t.type,e.type)||this.Gu(t.doc,e.doc)),this.Ju(n);const s=e?this.Yu():[],o=0===this.Ku.size&&this.current?1:0,a=o!==this.Uu;return this.Uu=o,0!==r.length||a?{snapshot:new Ca(this.query,t.Qu,i,r,t.mutatedKeys,0===o,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:s}:{Xu:s}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Ia,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.qu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),t.modifiedDocuments.forEach(t=>{}),t.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=Xn(),this.Qu.forEach(t=>{this.Zu(t.key)&&(this.Ku=this.Ku.add(t.key))});const e=[];return t.forEach(t=>{this.Ku.has(t)||e.push(new ka(t))}),this.Ku.forEach(n=>{t.has(n)||e.push(new Ra(n))}),e}tc(t){this.qu=t.Hi,this.Ku=Xn();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ec(){return Ca.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class Fa{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class Qa{constructor(t){this.key=t,this.nc=!1}}class Ma{constructor(t,e,n,i,r,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.sc={},this.ic=new Mn(t=>Ze(t),ze),this.rc=new Map,this.oc=new Set,this.uc=new be(P.comparator),this.cc=new Map,this.ac=new Gs,this.hc={},this.lc=new Map,this.fc=ys.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}async function Ga(t,e){const n=mu(t);let i,r;const s=n.ic.get(e);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.ec();else{const t=await Ao(n.localStore,He(e));n.isPrimaryClient&&Ho(n.remoteStore,t);const s=n.sharedClientState.addLocalQueryTarget(t.targetId);i=t.targetId,r=await Ka(n,e,i,"current"===s,t.resumeToken)}return r}async function Ka(t,e,n,i,r){t._c=(e,n,i)=>async function(t,e,n,i){let r=e.view.Wu(n);r.$i&&(r=await po(t.localStore,e.query,!1).then(({documents:t})=>e.view.Wu(t,r)));const s=i&&i.targetChanges.get(e.targetId),o=e.view.applyChanges(r,t.isPrimaryClient,s);return tu(t,e.targetId,o.Xu),o.snapshot}(t,e,n,i);const s=await po(t.localStore,e,!0),o=new Ba(e,s.Hi),a=o.Wu(s.documents),u=ni.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState,r),l=o.applyChanges(a,t.isPrimaryClient,u);tu(t,n,l.Xu);const c=new Fa(e,n,o);return t.ic.set(e,c),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),l.snapshot}async function Pa(t,e){const n=b(t),i=n.ic.get(e),r=n.rc.get(i.targetId);if(r.length>1)return n.rc.set(i.targetId,r.filter(t=>!ze(t,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await mo(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),Wo(n.remoteStore,i.targetId),Xa(n,i.targetId)}).catch(nt)):(Xa(n,i.targetId),await mo(n.localStore,i.targetId,!0))}async function Ja(t,e){const n=b(t);try{const t=await function(t,e){const n=b(t),i=e.snapshotVersion;let r=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",t=>{const s=n.Gi.newChangeBuffer({trackRemovals:!0});r=n.qi;const o=[];e.targetChanges.forEach((s,a)=>{const u=r.get(a);if(!u)return;o.push(n.Cs.removeMatchingKeys(t,s.removedDocuments,a).next(()=>n.Cs.addMatchingKeys(t,s.addedDocuments,a)));let l=u.withSequenceNumber(t.currentSequenceNumber);e.targetMismatches.has(a)?l=l.withResumeToken(qt.EMPTY_BYTE_STRING,F.min()).withLastLimboFreeSnapshotVersion(F.min()):s.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(s.resumeToken,i)),r=r.insert(a,l),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||(e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,l,s)&&o.push(n.Cs.updateTargetData(t,l))});let a=Kn(),u=Xn();if(e.documentUpdates.forEach(i=>{e.resolvedLimboDocuments.has(i)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,i))}),o.push(co(t,s,e.documentUpdates).next(t=>{a=t.Wi,u=t.zi})),!i.isEqual(F.min())){const e=n.Cs.getLastRemoteSnapshotVersion(t).next(e=>n.Cs.setTargetsMetadata(t,t.currentSequenceNumber,i));o.push(e)}return it.waitFor(o).next(()=>s.apply(t)).next(()=>n.localDocuments.getLocalViewOfDocuments(t,a,u)).next(()=>a)}).then(t=>(n.qi=r,t))}(n.localStore,e);e.targetChanges.forEach((t,e)=>{const i=n.cc.get(e);i&&(E(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?i.nc=!0:t.modifiedDocuments.size>0?E(i.nc):t.removedDocuments.size>0&&(E(i.nc),i.nc=!1))}),await iu(n,t,e)}catch(t){await nt(t)}}function Va(t,e,n){const i=b(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const t=[];i.ic.forEach((n,i)=>{const r=i.view.bu(e);r.snapshot&&t.push(r.snapshot)}),function(t,e){const n=b(t);n.onlineState=e;let i=!1;n.queries.forEach((t,n)=>{for(const t of n.listeners)t.bu(e)&&(i=!0)}),i&&ja(n)}(i.eventManager,e),t.length&&i.sc.Wo(t),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Ha(t,e,n){const i=b(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.cc.get(e),s=r&&r.key;if(s){let t=new be(P.comparator);t=t.insert(s,je.newNoDocument(s,F.min()));const n=Xn().add(s),r=new ei(F.min(),new Map,new ve(N),t,n);await Ja(i,r),i.uc=i.uc.remove(s),i.cc.delete(e),nu(i)}else await mo(i.localStore,e,!1).then(()=>Xa(i,e,n)).catch(nt)}async function Wa(t,e){const n=b(t),i=e.batch.batchId;try{const t=await function(t,e){const n=b(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",t=>{const i=e.batch.keys(),r=n.Gi.newChangeBuffer({trackRemovals:!0});return function(t,e,n,i){const r=n.batch,s=r.keys();let o=it.resolve();return s.forEach(t=>{o=o.next(()=>i.getEntry(e,t)).next(e=>{const s=n.docVersions.get(t);E(null!==s),e.version.compareTo(s)<0&&(r.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),i.addEntry(e)))})}),o.next(()=>t.mutationQueue.removeMutationBatch(e,r))}(n,t,e,r).next(()=>r.apply(t)).next(()=>n.mutationQueue.performConsistencyCheck(t)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(t,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=Xn();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e))).next(()=>n.localDocuments.getDocuments(t,i))})}(n.localStore,e);Za(n,i,null),za(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await iu(n,t)}catch(t){await nt(t)}}async function Ya(t,e,n){const i=b(t);try{const t=await function(t,e){const n=b(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",t=>{let i;return n.mutationQueue.lookupMutationBatch(t,e).next(e=>(E(null!==e),i=e.keys(),n.mutationQueue.removeMutationBatch(t,e))).next(()=>n.mutationQueue.performConsistencyCheck(t)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(t,i,e)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,i)).next(()=>n.localDocuments.getDocuments(t,i))})}(i.localStore,e);Za(i,e,n),za(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await iu(i,t)}catch(n){await nt(n)}}function za(t,e){(t.lc.get(e)||[]).forEach(t=>{t.resolve()}),t.lc.delete(e)}function Za(t,e,n){const i=b(t);let r=i.hc[i.currentUser.toKey()];if(r){const t=r.get(e);t&&(n?t.reject(n):t.resolve(),r=r.remove(e)),i.hc[i.currentUser.toKey()]=r}}function Xa(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.rc.get(e))t.ic.delete(i),n&&t.sc.wc(i,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(e=>{t.ac.containsKey(e)||$a(t,e)})}function $a(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);null!==n&&(Wo(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),nu(t))}function tu(t,e,n){for(const i of n)i instanceof Ra?(t.ac.addReference(i.key,e),eu(t,i)):i instanceof ka?(m("SyncEngine","Document no longer in limbo: "+i.key),t.ac.removeReference(i.key,e),t.ac.containsKey(i.key)||$a(t,i.key)):y()}function eu(t,e){const n=e.key,i=n.path.canonicalString();t.uc.get(n)||t.oc.has(i)||(m("SyncEngine","New document in limbo: "+n),t.oc.add(i),nu(t))}function nu(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new P(M.fromString(e)),i=t.fc.next();t.cc.set(i,new Qa(n)),t.uc=t.uc.insert(n,i),Ho(t.remoteStore,new yr(He(Me(n.path)),i,2,pt.at))}}async function iu(t,e,n){const i=b(t),r=[],s=[],o=[];i.ic.isEmpty()||(i.ic.forEach((t,a)=>{o.push(i._c(a,e,n).then(t=>{if((t||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(a.targetId,(null==t?void 0:t.fromCache)?"not-current":"current"),t){r.push(t);const e=ro.Ci(a.targetId,t);s.push(e)}}))}),await Promise.all(o),i.sc.Wo(r),await async function(t,e){const n=b(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",t=>it.forEach(e,e=>it.forEach(e.Si,i=>n.persistence.referenceDelegate.addReference(t,e.targetId,i)).next(()=>it.forEach(e.Di,i=>n.persistence.referenceDelegate.removeReference(t,e.targetId,i)))))}catch(t){if(!ut(t))throw t;m("LocalStore","Failed to update sequence numbers: "+t)}for(const t of e){const e=t.targetId;if(!t.fromCache){const t=n.qi.get(e),i=t.snapshotVersion,r=t.withLastLimboFreeSnapshotVersion(i);n.qi=n.qi.insert(e,r)}}}(i.localStore,s))}async function ru(t,e){const n=b(t);if(!n.currentUser.isEqual(e)){m("SyncEngine","User change. New user:",e.toKey());const t=await uo(n.localStore,e);n.currentUser=e,function(t,e){t.lc.forEach(t=>{t.forEach(t=>{t.reject(new C(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.lc.clear()}(n),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await iu(n,t.ji)}}function su(t,e){const n=b(t),i=n.cc.get(e);if(i&&i.nc)return Xn().add(i.key);{let t=Xn();const i=n.rc.get(e);if(!i)return t;for(const e of i){const i=n.ic.get(e);t=t.unionWith(i.view.ju)}return t}}async function ou(t,e){const n=b(t),i=await po(n.localStore,e.query,!0),r=e.view.tc(i);return n.isPrimaryClient&&tu(n,e.targetId,r.Xu),r}async function au(t,e){const n=b(t);return go(n.localStore,e).then(t=>iu(n,t))}async function uu(t,e,n,i){const r=b(t),s=await function(t,e){const n=b(t),i=b(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",t=>i.Tn(t,e).next(e=>e?n.localDocuments.getDocuments(t,e):it.resolve(null)))}(r.localStore,e);null!==s?("pending"===n?await oa(r.remoteStore):"acknowledged"===n||"rejected"===n?(Za(r,e,i||null),za(r,e),function(t,e){b(b(t).mutationQueue).An(e)}(r.localStore,e)):y(),await iu(r,s)):m("SyncEngine","Cannot apply mutation batch with id: "+e)}async function lu(t,e,n){const i=b(t),r=[],s=[];for(const t of e){let e;const n=i.rc.get(t);if(n&&0!==n.length){e=await Ao(i.localStore,He(n[0]));for(const t of n){const e=i.ic.get(t),n=await ou(i,e);n.snapshot&&s.push(n.snapshot)}}else{const n=await fo(i.localStore,t);e=await Ao(i.localStore,n),await Ka(i,cu(n),t,!1,e.resumeToken)}r.push(e)}return i.sc.Wo(s),r}function cu(t){return Qe(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function hu(t){const e=b(t);return b(b(e.localStore).persistence).vi()}async function Au(t,e,n,i){const r=b(t);if(r.dc)return void m("SyncEngine","Ignoring unexpected query state notification.");const s=r.rc.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const t=await go(r.localStore,tn(s[0])),i=ei.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,qt.EMPTY_BYTE_STRING);await iu(r,t,i);break}case"rejected":await mo(r.localStore,e,!0),Xa(r,e,i);break;default:y()}}async function du(t,e,n){const i=mu(t);if(i.dc){for(const t of e){if(i.rc.has(t)){m("SyncEngine","Adding an already active target "+t);continue}const e=await fo(i.localStore,t),n=await Ao(i.localStore,e);await Ka(i,cu(e),n.targetId,!1,n.resumeToken),Ho(i.remoteStore,n)}for(const t of n)i.rc.has(t)&&await mo(i.localStore,t,!1).then(()=>{Wo(i.remoteStore,t),Xa(i,t)}).catch(nt)}}function mu(t){const e=b(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ja.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=su.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ha.bind(null,e),e.sc.Wo=Ua.bind(null,e.eventManager),e.sc.wc=Ta.bind(null,e.eventManager),e}function pu(t){const e=b(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Wa.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ya.bind(null,e),e}class fu{constructor(){this.synchronizeTabs=!1}async initialize(t){this.yt=ko(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),await this.persistence.start(),this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore)}Tc(t,e){return null}Ec(t,e){return null}Ic(t){return ao(this.persistence,new so,t.initialUser,this.yt)}yc(t){return new Ws(zs.Bs,this.yt)}gc(t){return new To}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class gu extends fu{constructor(t,e,n){super(),this.Ac=t,this.cacheSizeBytes=e,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.Ac.initialize(this,t),await pu(this.Ac.syncEngine),await oa(this.Ac.remoteStore),await this.persistence.li(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Ic(t){return ao(this.persistence,new so,t.initialUser,this.yt)}Tc(t,e){const n=this.persistence.referenceDelegate.garbageCollector;return new qs(n,t.asyncQueue,e)}Ec(t,e){const n=new mt(e,this.persistence);return new dt(t.asyncQueue,n)}yc(t){const e=io(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?cs.withCacheSize(this.cacheSizeBytes):cs.DEFAULT;return new to(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,No(),Ro(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(t){return new To}}class yu extends gu{constructor(t,e){super(t,e,!1),this.Ac=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}async initialize(t){await super.initialize(t);const e=this.Ac.syncEngine;this.sharedClientState instanceof Uo&&(this.sharedClientState.syncEngine={Fr:uu.bind(null,e),$r:Au.bind(null,e),Br:du.bind(null,e),vi:hu.bind(null,e),Mr:au.bind(null,e)},await this.sharedClientState.start()),await this.persistence.li(async t=>{await async function(t,e){const n=b(t);if(mu(n),pu(n),!0===e&&!0!==n.dc){const t=n.sharedClientState.getAllActiveQueryTargets(),e=await lu(n,t.toArray());n.dc=!0,await fa(n.remoteStore,!0);for(const t of e)Ho(n.remoteStore,t)}else if(!1===e&&!1!==n.dc){const t=[];let e=Promise.resolve();n.rc.forEach((i,r)=>{n.sharedClientState.isLocalQueryTarget(r)?t.push(r):e=e.then(()=>(Xa(n,r),mo(n.localStore,r,!0))),Wo(n.remoteStore,r)}),await e,await lu(n,t),function(t){const e=b(t);e.cc.forEach((t,n)=>{Wo(e.remoteStore,n)}),e.ac.fs(),e.cc=new Map,e.uc=new be(P.comparator)}(n),n.dc=!1,await fa(n.remoteStore,!1)}}(this.Ac.syncEngine,t),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start():t||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(t&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():t||this.indexBackfillerScheduler.stop())})}gc(t){const e=No();if(!Uo.C(e))throw new C(I.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=io(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Uo(e,t.asyncQueue,n,t.clientId,t.initialUser)}}class Eu{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>Va(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=ru.bind(null,this.syncEngine),await fa(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new qa}createDatastore(t){const e=ko(t.databaseInfo.databaseId),n=(i=t.databaseInfo,new Oo(i));var i;return function(t,e,n,i){return new Go(t,e,n,i)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return e=this.localStore,n=this.datastore,i=t.asyncQueue,r=t=>Va(this.syncEngine,t,0),s=Lo.C()?new Lo:new jo,new Po(e,n,i,r,s);var e,n,i,r,s}createSyncEngine(t,e){return function(t,e,n,i,r,s,o){const a=new Ma(t,e,n,i,r,s);return o&&(a.dc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return async function(t){const e=b(t);m("RemoteStore","RemoteStore shutting down."),e._u.add(5),await Vo(e),e.mu.shutdown(),e.gu.set("Unknown")}(this.remoteStore)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(t,e,n){if(!n)throw new C(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bu(t,e,n,i){if(!0===e&&!0===i)throw new C(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Iu(t){if(!P.isDocumentKey(t))throw new C(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Cu(t){if(P.isDocumentKey(t))throw new C(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vu(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":y()}function qu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vu(t);throw new C(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Du(t,e){if(e<=0)throw new C(I.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=new Map;class Uu{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new C(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new C(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,bu("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(t,e,n,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uu({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new C(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uu(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new D;switch(t.type){case"gapi":const e=t.client;return new j(e,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new C(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Su.get(t);e&&(m("ComponentProvider","Removing Datastore"),Su.delete(t),e.terminate())}(this),Promise.resolve()}}function ju(t,e,n,i={}){var r;const s=(t=qu(t,Tu))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&f("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),i.mockUserToken){let e,n;if("string"==typeof i.mockUserToken)e=i.mockUserToken,n=l.MOCK_USER;else{e=Object(o.f)(i.mockUserToken,null===(r=t._app)||void 0===r?void 0:r.options.projectId);const s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new C(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new l(s)}t._authCredentials=new S(new q(e,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Lu(this.firestore,t,this._key)}}class _u{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new _u(this.firestore,t,this._query)}}class xu extends _u{constructor(t,e,n){super(t,e,Me(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Lu(this.firestore,null,new P(t))}withConverter(t){return new xu(this.firestore,t,this._path)}}function Ou(t,e,...n){if(t=Object(o.l)(t),wu("collection","path",e),t instanceof Tu){const i=M.fromString(e,...n);return Cu(i),new xu(t,null,i)}{if(!(t instanceof Lu||t instanceof xu))throw new C(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(M.fromString(e,...n));return Cu(i),new xu(t.firestore,null,i)}}function Nu(t,e){if(t=qu(t,Tu),wu("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new C(I.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new _u(t,null,function(t){return new Fe(M.emptyPath(),t)}(e))}function Ru(t,e,...n){if(t=Object(o.l)(t),1===arguments.length&&(e=O.R()),wu("doc","path",e),t instanceof Tu){const i=M.fromString(e,...n);return Iu(i),new Lu(t,null,new P(i))}{if(!(t instanceof Lu||t instanceof xu))throw new C(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(M.fromString(e,...n));return Iu(i),new Lu(t.firestore,t instanceof xu?t.converter:null,new P(i))}}function ku(t,e){return t=Object(o.l)(t),e=Object(o.l)(e),(t instanceof Lu||t instanceof xu)&&(e instanceof Lu||e instanceof xu)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Bu(t,e){return t=Object(o.l)(t),e=Object(o.l)(e),t instanceof _u&&e instanceof _u&&t.firestore===e.firestore&&ze(t._query,e._query)&&t.converter===e.converter
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function Fu(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const i={value:t.slice(n,n+e),done:!1};return n+=e,i}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):p("Uncaught Error in snapshot listener:",t.toString())}bc(){this.muted=!0}Rc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(t,e){this.Pc=t,this.yt=e,this.metadata=new v,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(t=>{t&&t.Ou()?this.metadata.resolve(t.ku.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.ku)))},t=>this.metadata.reject(t))}close(){return this.Pc.cancel()}async getMetadata(){return this.metadata.promise}async mc(){return await this.getMetadata(),this.Vc()}async Vc(){const t=await this.Sc();if(null===t)return null;const e=this.vc.decode(t),n=Number(e);isNaN(n)&&this.Dc(`length string (${e}) is not valid number`);const i=await this.Cc(n);return new _a(JSON.parse(i),t.length+n)}xc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}async Sc(){for(;this.xc()<0&&!await this.Nc(););if(0===this.buffer.length)return null;const t=this.xc();t<0&&this.Dc("Reached the end of bundle when a length string is expected.");const e=this.buffer.slice(0,t);return this.buffer=this.buffer.slice(t),e}async Cc(t){for(;this.buffer.length<t;)await this.Nc()&&this.Dc("Reached the end of bundle when more is expected.");const e=this.vc.decode(this.buffer.slice(0,t));return this.buffer=this.buffer.slice(t),e}Dc(t){throw this.Pc.cancel(),new Error("Invalid bundle format: "+t)}async Nc(){const t=await this.Pc.read();if(!t.done){const e=new Uint8Array(this.buffer.length+t.value.length);e.set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e}return t.done}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Gu{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new C(I.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const e=await async function(t,e){const n=b(t),i=vi(n.yt)+"/documents",r={documents:e.map(t=>wi(n.yt,t))},s=await n._o("BatchGetDocuments",i,r,e.length),o=new Map;s.forEach(t=>{const e=function(t,e){return"found"in e?function(t,e){E(!!e.found),e.found.name,e.found.updateTime;const n=bi(t,e.found.name),i=gi(e.found.updateTime),r=e.found.createTime?gi(e.found.createTime):F.min(),s=new Ue({mapValue:{fields:e.found.fields}});return je.newFoundDocument(n,i,r,s)}(t,e):"missing"in e?function(t,e){E(!!e.missing),E(!!e.readTime);const n=bi(t,e.missing),i=gi(e.readTime);return je.newNoDocument(n,i)}(t,e):y()}(n.yt,t);o.set(e.key.toString(),e)});const a=[];return e.forEach(t=>{const e=o.get(t.toString());E(!!e),a.push(e)}),a}(this.datastore,t);return e.forEach(t=>this.recordVersion(t)),e}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())}delete(t){this.write(new On(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const t=this.readVersions;this.mutations.forEach(e=>{t.delete(e.key.toString())}),t.forEach((t,e)=>{const n=P.fromPath(e);this.mutations.push(new Nn(n,this.precondition(n)))}),await async function(t,e){const n=b(t),i=vi(n.yt)+"/documents",r={writes:e.map(t=>Ui(n.yt,t))};await n.ao("Commit",i,r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw y();e=F.min()}const n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new C(I.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(F.min())?bn.exists(!1):bn.updateTime(e):bn.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(F.min()))throw new C(I.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bn.updateTime(e)}return bn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(t,e,n,i,r){this.asyncQueue=t,this.datastore=e,this.options=n,this.updateFunction=i,this.deferred=r,this.kc=n.maxAttempts,this.xo=new Bo(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){this.xo.Ro(async()=>{const t=new Gu(this.datastore),e=this.Mc(t);e&&e.then(e=>{this.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{this.deferred.resolve(e)}).catch(t=>{this.Fc(t)}))}).catch(t=>{this.Fc(t)})})}Mc(t){try{const e=this.updateFunction(t);return!bt(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(t){this.kc>0&&this.$c(t)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(t)}$c(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!Fn(e)}return!1}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(t,e,n,i){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=l.UNAUTHENTICATED,this.clientId=O.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async t=>{m("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t}),this.appCheckCredentials.start(n,t=>(m("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new v;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=wa(e,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function Ju(t,e){t.asyncQueue.verifyOperationInProgress(),m("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async t=>{i.isEqual(t)||(await uo(e.localStore,t),i=t)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function Vu(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Hu(t);m("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener(t=>pa(e.remoteStore,t)),t.setAppCheckTokenChangeListener((t,n)=>pa(e.remoteStore,n)),t.onlineComponents=e}async function Hu(t){return t.offlineComponents||(m("FirestoreClient","Using default OfflineComponentProvider"),await Ju(t,new fu)),t.offlineComponents}async function Wu(t){return t.onlineComponents||(m("FirestoreClient","Using default OnlineComponentProvider"),await Vu(t,new Eu)),t.onlineComponents}function Yu(t){return Hu(t).then(t=>t.persistence)}function zu(t){return Hu(t).then(t=>t.localStore)}function Zu(t){return Wu(t).then(t=>t.remoteStore)}function Xu(t){return Wu(t).then(t=>t.syncEngine)}function $u(t){return Wu(t).then(t=>t.datastore)}async function tl(t){const e=await Wu(t),n=e.eventManager;return n.onListen=Ga.bind(null,e.syncEngine),n.onUnlisten=Pa.bind(null,e.syncEngine),n}function el(t,e,n={}){const i=new v;return t.asyncQueue.enqueueAndForget(async()=>function(t,e,n,i,r){const s=new Qu({next:s=>{e.enqueueAndForget(()=>Sa(t,o));const a=s.docs.has(n);!a&&s.fromCache?r.reject(new C(I.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&i&&"server"===i.source?r.reject(new C(I.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(s)},error:t=>r.reject(t)}),o=new La(Me(n.path),s,{includeMetadataChanges:!0,Nu:!0});return Da(t,o)}(await tl(t),t.asyncQueue,e,n,i)),i.promise}function nl(t,e,n={}){const i=new v;return t.asyncQueue.enqueueAndForget(async()=>function(t,e,n,i,r){const s=new Qu({next:n=>{e.enqueueAndForget(()=>Sa(t,o)),n.fromCache&&"server"===i.source?r.reject(new C(I.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:t=>r.reject(t)}),o=new La(n,s,{includeMetadataChanges:!0,Nu:!0});return Da(t,o)}(await tl(t),t.asyncQueue,e,n,i)),i.promise}function il(t,e,n,i){const r=function(t,e){let n;return n="string"==typeof t?(new TextEncoder).encode(t):t,function(t,e){return new Mu(t,e)}(function(t,e){if(t instanceof Uint8Array)return Fu(t,e);if(t instanceof ArrayBuffer)return Fu(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,ko(e));t.asyncQueue.enqueueAndForget(async()=>{!function(t,e,n){const i=b(t);(async function(t,e,n){try{const i=await e.getMetadata();if(await function(t,e){const n=b(t),i=gi(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",t=>n.Ns.getBundleMetadata(t,e.id)).then(t=>!!t&&t.createTime.compareTo(i)>=0)}(t.localStore,i))return await e.close(),n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(i)),Promise.resolve(new Set);n._updateProgress(Na(i));const r=new Oa(i,t.localStore,e.yt);let s=await e.mc();for(;s;){const t=await r.Fu(s);t&&n._updateProgress(t),s=await e.mc()}const o=await r.complete();return await iu(t,o.Lu,void 0),await function(t,e){const n=b(t);return n.persistence.runTransaction("Save bundle","readwrite",t=>n.Ns.saveBundleMetadata(t,e))}(t.localStore,i),n._completeWith(o.progress),Promise.resolve(o.Bu)}catch(t){return f("SyncEngine","Loading bundle failed with "+t),n._failWith(t),Promise.resolve(new Set)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)(i,e,n).then(t=>{i.sharedClientState.notifyBundleLoaded(t)})}(await Xu(t),r,i)})}class rl{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Bo(this,"async_queue_retry"),this.Wc=()=>{const t=Ro();t&&m("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const t=Ro();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.qc){this.qc=!0,this.Qc=t||!1;const e=Ro();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.qc)return new Promise(()=>{});const e=new v;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Lc.push(t),this.Jc()))}async Jc(){if(0!==this.Lc.length){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(t){if(!ut(t))throw t;m("AsyncQueue","Operation failed with retryable error: "+t)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(t){const e=this.Bc.then(()=>(this.Gc=!0,t().catch(t=>{this.Kc=t,this.Gc=!1;throw p("INTERNAL UNHANDLED ERROR: ",function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)),t}).then(t=>(this.Gc=!1,t))));return this.Bc=e,e}enqueueAfterDelay(t,e,n){this.zc(),this.jc.indexOf(t)>-1&&(e=0);const i=Ea.createAndSchedule(this,t,e,n,t=>this.Yc(t));return this.Uc.push(i),i}zc(){this.Kc&&y()}verifyOperationInProgress(){}async Xc(){let t;do{t=this.Bc,await t}while(t!==this.Bc)}Zc(t){for(const e of this.Uc)if(e.timerId===t)return!0;return!1}ta(t){return this.Xc().then(()=>{this.Uc.sort((t,e)=>t.targetTimeMs-e.targetTimeMs);for(const e of this.Uc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Xc()})}ea(t){this.jc.push(t)}Yc(t){const e=this.Uc.indexOf(t);this.Uc.splice(e,1)}}function sl(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const t of["next","error","complete"])if(t in n&&"function"==typeof n[t])return!0;return!1}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)}class ol{constructor(){this._progressObserver={},this._taskCompletionResolver=new v,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,n){this._progressObserver={next:t,error:e,complete:n}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=-1;class ul extends Tu{constructor(t,e,n,i){super(t,e,n,i),this.type="firestore",this._queue=new rl,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||cl(this),this._firestoreClient.terminate()}}function ll(t){return t._firestoreClient||cl(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function cl(t){var e;const n=t._freezeSettings(),i=function(t,e,n,i){return new ft(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Pu(t._authCredentials,t._appCheckCredentials,t._queue,i)}function hl(t,e){wl(t=qu(t,ul));const n=ll(t),i=t._freezeSettings(),r=new Eu;return dl(n,r,new gu(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function Al(t){wl(t=qu(t,ul));const e=ll(t),n=t._freezeSettings(),i=new Eu;return dl(e,i,new yu(i,n.cacheSizeBytes))}function dl(t,e,n){const i=new v;return t.asyncQueue.enqueue(async()=>{try{await Ju(t,n),await Vu(t,e),i.resolve()}catch(t){const e=t;if(!function(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||(22===t.code||20===t.code||11===t.code)}(e))throw e;f("Error enabling offline persistence. Falling back to persistence disabled: "+e),i.reject(e)}}).then(()=>i.promise)}function ml(t){if(t._initialized&&!t._terminated)throw new C(I.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new v;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(t){if(!st.C())return Promise.resolve();const e=t+"main";await st.delete(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(io(t._databaseId,t._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function pl(t){return function(t){const e=new v;return t.asyncQueue.enqueueAndForget(async()=>async function(t,e){const n=b(t);$o(n.remoteStore)||m("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const t=await function(t){const e=b(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",t=>e.mutationQueue.getHighestUnacknowledgedBatchId(t))}(n.localStore);if(-1===t)return void e.resolve();const i=n.lc.get(t)||[];i.push(e),n.lc.set(t,i)}catch(t){const n=wa(t,"Initialization of waitForPendingWrites() operation failed");e.reject(n)}}(await Xu(t),e)),e.promise}(ll(t=qu(t,ul)))}function fl(t){return function(t){return t.asyncQueue.enqueue(async()=>{const e=await Yu(t),n=await Zu(t);return e.setNetworkEnabled(!0),function(t){const e=b(t);return e._u.delete(0),Jo(e)}(n)})}(ll(t=qu(t,ul)))}function gl(t){return function(t){return t.asyncQueue.enqueue(async()=>{const e=await Yu(t),n=await Zu(t);return e.setNetworkEnabled(!1),async function(t){const e=b(t);e._u.add(0),await Vo(e),e.gu.set("Offline")}(n)})}(ll(t=qu(t,ul)))}function yl(t,e){const n=ll(t=qu(t,ul)),i=new ol;return il(n,t._databaseId,e,i),i}function El(t,e){return function(t,e){return t.asyncQueue.enqueue(async()=>function(t,e){const n=b(t);return n.persistence.runTransaction("Get named query","readonly",t=>n.Ns.getNamedQuery(t,e))}(await zu(t),e))}(ll(t=qu(t,ul)),e).then(e=>e?new _u(t,null,e.query):null)}function wl(t){if(t._initialized||t._terminated)throw new C(I.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new bl(qt.fromBase64String(t))}catch(t){throw new C(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new bl(qt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new C(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new K(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Cl{constructor(t){this._methodName=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new C(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new C(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return N(this._lat,t._lat)||N(this._long,t._long)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=/^__.*__$/;class Dl{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new jn(t,this.data,this.fieldMask,e,this.fieldTransforms):new Tn(t,this.data,e,this.fieldTransforms)}}class Sl{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new jn(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Ul(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw y()}}class Tl{constructor(t,e,n,i,r,s){this.settings=t,this.databaseId=e,this.yt=n,this.ignoreUndefinedProperties=i,void 0===r&&this.na(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new Tl(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.ia({path:n,oa:!1});return i.ua(t),i}ca(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.ia({path:n,oa:!1});return i.na(),i}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return Yl(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(0===t.length)throw this.ha("Document fields must not be empty");if(Ul(this.sa)&&ql.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class jl{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.yt=n||ko(t)}da(t,e,n,i=!1){return new Tl({sa:t,methodName:e,fa:n,path:K.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Ll(t){const e=t._freezeSettings(),n=ko(t._databaseId);return new jl(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _l(t,e,n,i,r,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,n,r);Jl("Data must be an object, but it was:",o,i);const a=Kl(i,o);let u,l;if(s.merge)u=new Se(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const t=[];for(const i of s.mergeFields){const r=Vl(e,i,n);if(!o.contains(r))throw new C(I.INVALID_ARGUMENT,`Field '${r}' is specified in your field mask but missing from your input data.`);zl(t,r)||t.push(r)}u=new Se(t),l=o.fieldTransforms.filter(t=>u.covers(t.field))}else u=null,l=o.fieldTransforms;return new Dl(new Ue(a),u,l)}class xl extends Cl{_toFieldTransform(t){if(2!==t.sa)throw 1===t.sa?t.ha(this._methodName+"() can only appear at the top level of your update data"):t.ha(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof xl}}function Ol(t,e,n){return new Tl({sa:3,fa:e.settings.fa,methodName:t._methodName,oa:n},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class Nl extends Cl{_toFieldTransform(t){return new En(t.path,new hn)}isEqual(t){return t instanceof Nl}}class Rl extends Cl{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=Ol(this,t,!0),n=this._a.map(t=>Gl(t,e)),i=new An(n);return new En(t.path,i)}isEqual(t){return this===t}}class kl extends Cl{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=Ol(this,t,!0),n=this._a.map(t=>Gl(t,e)),i=new mn(n);return new En(t.path,i)}isEqual(t){return this===t}}class Bl extends Cl{constructor(t,e){super(t),this.wa=e}_toFieldTransform(t){const e=new fn(t.yt,on(t.yt,this.wa));return new En(t.path,e)}isEqual(t){return this===t}}function Fl(t,e,n,i){const r=t.da(1,e,n);Jl("Data must be an object, but it was:",r,i);const s=[],a=Ue.empty();Et(i,(t,i)=>{const u=Wl(e,t,n);i=Object(o.l)(i);const l=r.ca(u);if(i instanceof xl)s.push(u);else{const t=Gl(i,l);null!=t&&(s.push(u),a.set(u,t))}});const u=new Se(s);return new Sl(a,u,r.fieldTransforms)}function Ql(t,e,n,i,r,s){const a=t.da(1,e,n),u=[Vl(e,i,n)],l=[r];if(s.length%2!=0)throw new C(I.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let t=0;t<s.length;t+=2)u.push(Vl(e,s[t])),l.push(s[t+1]);const c=[],h=Ue.empty();for(let t=u.length-1;t>=0;--t)if(!zl(c,u[t])){const e=u[t];let n=l[t];n=Object(o.l)(n);const i=a.ca(e);if(n instanceof xl)c.push(e);else{const t=Gl(n,i);null!=t&&(c.push(e),h.set(e,t))}}const A=new Se(c);return new Sl(h,A,a.fieldTransforms)}function Ml(t,e,n,i=!1){return Gl(n,t.da(i?4:3,e))}function Gl(t,e){if(Pl(t=Object(o.l)(t)))return Jl("Unsupported field value:",e,t),Kl(t,e);if(t instanceof Cl)return function(t,e){if(!Ul(e.sa))throw e.ha(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.ha(t._methodName+"() is not currently supported inside arrays");const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,e){const n=[];let i=0;for(const r of t){let t=Gl(r,e.aa(i));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(o.l)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return on(e.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=B.fromDate(t);return{timestampValue:mi(e.yt,n)}}if(t instanceof B){const n=new B(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:mi(e.yt,n)}}if(t instanceof vl)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof bl)return{bytesValue:pi(e.yt,t._byteString)};if(t instanceof Lu){const n=e.databaseId,i=t.firestore._databaseId;if(!i.isEqual(n))throw e.ha(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:yi(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.ha("Unsupported field value: "+vu(t))}(t,e)}function Kl(t,e){const n={};return wt(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Et(t,(t,i)=>{const r=Gl(i,e.ra(t));null!=r&&(n[t]=r)}),{mapValue:{fields:n}}}function Pl(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof B||t instanceof vl||t instanceof bl||t instanceof Lu||t instanceof Cl)}function Jl(t,e,n){if(!Pl(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const i=vu(n);throw"an object"===i?e.ha(t+" a custom object"):e.ha(t+" "+i)}}function Vl(t,e,n){if((e=Object(o.l)(e))instanceof Il)return e._internalPath;if("string"==typeof e)return Wl(t,e);throw Yl("Field path arguments must be of type string or ",t,!1,void 0,n)}const Hl=new RegExp("[~\\*/\\[\\]]");function Wl(t,e,n){if(e.search(Hl)>=0)throw Yl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Il(...e.split("."))._internalPath}catch(i){throw Yl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Yl(t,e,n,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+i),o&&(u+=" in document "+r),u+=")"),new C(I.INVALID_ARGUMENT,a+t+u)}function zl(t,e){return t.some(t=>t.isEqual(e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(t,e,n,i,r){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Lu(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Xl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field($l("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Xl extends Zl{data(){return super.data()}}function $l(t,e){return"string"==typeof e?Wl(t,e):e instanceof Il?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new C(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ec{}class nc extends ec{}function ic(t,e,...n){let i=[];e instanceof ec&&i.push(e),i=i.concat(n),function(t){const e=t.filter(t=>t instanceof oc).length,n=t.filter(t=>t instanceof rc).length;if(e>1||e>0&&n>0)throw new C(I.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(i);for(const e of i)t=e._apply(t);return t}class rc extends nc{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new rc(t,e,n)}_apply(t){const e=this._parse(t);return bc(t._query,e),new _u(t.firestore,t.converter,We(t._query,e))}_parse(t){const e=Ll(t.firestore);return function(t,e,n,i,r,s,o){let a;if(r.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new C(I.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){wc(o,s);const e=[];for(const n of o)e.push(Ec(i,t,n));a={arrayValue:{values:e}}}else a=Ec(i,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||wc(o,s),a=Ml(n,"where",o,"in"===s||"not-in"===s);return ne.create(r,s,a)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}function sc(t,e,n){const i=e,r=$l("where",t);return rc._create(r,i,n)}class oc extends ec{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new oc(t,e)}_parse(t){const e=this._queryConstraints.map(e=>e._parse(t)).filter(t=>t.getFilters().length>0);return 1===e.length?e[0]:ie.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(t,e){let n=t;const i=e.getFlattenedFilters();for(const t of i)bc(n,t),n=We(n,t)}(t._query,e),new _u(t.firestore,t.converter,We(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ac extends nc{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new ac(t,e)}_apply(t){const e=function(t,e,n){if(null!==t.startAt)throw new C(I.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new C(I.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const i=new Ee(e,n);return function(t,e){if(null===Ke(t)){const n=Pe(t);null!==n&&Ic(t,n,e.field)}}(t,i),i}(t._query,this._field,this._direction);return new _u(t.firestore,t.converter,function(t,e){const n=t.explicitOrderBy.concat([e]);return new Fe(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}function uc(t,e="asc"){const n=e,i=$l("orderBy",t);return ac._create(i,n)}class lc extends nc{constructor(t,e,n){super(),this.type=t,this._limit=e,this._limitType=n}static _create(t,e,n){return new lc(t,e,n)}_apply(t){return new _u(t.firestore,t.converter,Ye(t._query,this._limit,this._limitType))}}function cc(t){return Du("limit",t),lc._create("limit",t,"F")}function hc(t){return Du("limitToLast",t),lc._create("limitToLast",t,"L")}class Ac extends nc{constructor(t,e,n){super(),this.type=t,this._docOrFields=e,this._inclusive=n}static _create(t,e,n){return new Ac(t,e,n)}_apply(t){const e=yc(t,this.type,this._docOrFields,this._inclusive);return new _u(t.firestore,t.converter,function(t,e){return new Fe(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))}}function dc(...t){return Ac._create("startAt",t,!0)}function mc(...t){return Ac._create("startAfter",t,!1)}class pc extends nc{constructor(t,e,n){super(),this.type=t,this._docOrFields=e,this._inclusive=n}static _create(t,e,n){return new pc(t,e,n)}_apply(t){const e=yc(t,this.type,this._docOrFields,this._inclusive);return new _u(t.firestore,t.converter,function(t,e){return new Fe(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))}}function fc(...t){return pc._create("endBefore",t,!1)}function gc(...t){return pc._create("endAt",t,!0)}function yc(t,e,n,i){if(n[0]=Object(o.l)(n[0]),n[0]instanceof Zl)return function(t,e,n,i,r){if(!i)throw new C(I.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const n of Ve(t))if(n.field.isKeyField())s.push(Qt(e,i.key));else{const t=i.data.field(n.field);if(jt(t))throw new C(I.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===t){const t=n.field.canonicalString();throw new C(I.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${t}' (used as the orderBy) does not exist.`)}s.push(t)}return new Xt(s,r)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{const r=Ll(t.firestore);return function(t,e,n,i,r,s){const o=t.explicitOrderBy;if(r.length>o.length)throw new C(I.INVALID_ARGUMENT,`Too many arguments provided to ${i}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let s=0;s<r.length;s++){const u=r[s];if(o[s].field.isKeyField()){if("string"!=typeof u)throw new C(I.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${i}(), but got a ${typeof u}`);if(!Je(t)&&-1!==u.indexOf("/"))throw new C(I.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${i}() must be a plain document ID, but '${u}' contains a slash.`);const n=t.path.child(M.fromString(u));if(!P.isDocumentKey(n))throw new C(I.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${i}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const r=new P(n);a.push(Qt(e,r))}else{const t=Ml(n,i,u);a.push(t)}}return new Xt(a,s)}(t._query,t.firestore._databaseId,r,e,n,i)}}function Ec(t,e,n){if("string"==typeof(n=Object(o.l)(n))){if(""===n)throw new C(I.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Je(e)&&-1!==n.indexOf("/"))throw new C(I.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(M.fromString(n));if(!P.isDocumentKey(i))throw new C(I.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Qt(t,new P(i))}if(n instanceof Lu)return Qt(t,n._key);throw new C(I.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vu(n)}.`)}function wc(t,e){if(!Array.isArray(t)||0===t.length)throw new C(I.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new C(I.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function bc(t,e){if(e.isInequality()){const n=Pe(t),i=e.field;if(null!==n&&!n.isEqual(i))throw new C(I.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${i.toString()}'`);const r=Ke(t);null!==r&&Ic(t,i,r)}const n=function(t,e){for(const n of t)for(const t of n.getFlattenedFilters())if(e.indexOf(t.op)>=0)return t.op;return null}(t.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new C(I.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new C(I.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Ic(t,e,n){if(!n.isEqual(e))throw new C(I.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Cc{convertValue(t,e="none"){switch(Ot(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ut(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Tt(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw y()}}convertObject(t,e){const n={};return Et(t.fields,(t,i)=>{n[t]=this.convertValue(i,e)}),n}convertGeoPoint(t){return new vl(Ut(t.latitude),Ut(t.longitude))}convertArray(t,e){return(t.values||[]).map(t=>this.convertValue(t,e))}convertServerTimestamp(t,e){switch(e){case"previous":const n=function t(e){const n=e.mapValue.fields.__previous_value__;return jt(n)?t(n):n}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Lt(t));default:return null}}convertTimestamp(t){const e=St(t);return new B(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=M.fromString(t);E(Fi(n));const i=new gt(n.get(1),n.get(3)),r=new P(n.popFirst(5));return i.isEqual(e)||p(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),r}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class qc extends Cc{constructor(t){super(),this.firestore=t}convertBytes(t){return new bl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Lu(this.firestore,null,e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Sc extends Zl{constructor(t,e,n,i,r,s){super(t,e,n,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field($l("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class Uc extends Sc{data(t={}){return super.data(t)}}class Tc{constructor(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Dc(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new Uc(this._firestore,this._userDataWriter,n.key,n,new Dc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new C(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map(n=>{const i=new Uc(t._firestore,t._userDataWriter,n.doc.key,n.doc,new Dc(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter);return n.doc,{type:"added",doc:i,oldIndex:-1,newIndex:e++}})}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(t=>e||3!==t.type).map(e=>{const i=new Uc(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Dc(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let r=-1,s=-1;return 0!==e.type&&(r=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),s=n.indexOf(e.doc.key)),{type:jc(e.type),doc:i,oldIndex:r,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function jc(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return y()}}function Lc(t,e){return t instanceof Sc&&e instanceof Sc?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Tc&&e instanceof Tc&&t._firestore===e._firestore&&Bu(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(t){t=qu(t,Lu);const e=qu(t.firestore,ul);return el(ll(e),t._key).then(n=>Vc(e,t,n))}class xc extends Cc{constructor(t){super(),this.firestore=t}convertBytes(t){return new bl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Lu(this.firestore,null,e)}}function Oc(t){t=qu(t,Lu);const e=qu(t.firestore,ul),n=ll(e),i=new xc(e);return function(t,e){const n=new v;return t.asyncQueue.enqueueAndForget(async()=>async function(t,e,n){try{const i=await function(t,e){const n=b(t);return n.persistence.runTransaction("read document","readonly",t=>n.localDocuments.getDocument(t,e))}(t,e);i.isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new C(I.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(t){const i=wa(t,`Failed to get document '${e} from cache`);n.reject(i)}}(await zu(t),e,n)),n.promise}(n,t._key).then(n=>new Sc(e,i,t._key,n,new Dc(null!==n&&n.hasLocalMutations,!0),t.converter))}function Nc(t){t=qu(t,Lu);const e=qu(t.firestore,ul);return el(ll(e),t._key,{source:"server"}).then(n=>Vc(e,t,n))}function Rc(t){t=qu(t,_u);const e=qu(t.firestore,ul),n=ll(e),i=new xc(e);return tc(t._query),nl(n,t._query).then(n=>new Tc(e,i,t,n))}function kc(t){t=qu(t,_u);const e=qu(t.firestore,ul),n=ll(e),i=new xc(e);return function(t,e){const n=new v;return t.asyncQueue.enqueueAndForget(async()=>async function(t,e,n){try{const i=await po(t,e,!0),r=new Ba(e,i.Hi),s=r.Wu(i.documents),o=r.applyChanges(s,!1);n.resolve(o.snapshot)}catch(t){const i=wa(t,`Failed to execute query '${e} against cache`);n.reject(i)}}(await zu(t),e,n)),n.promise}(n,t._query).then(n=>new Tc(e,i,t,n))}function Bc(t){t=qu(t,_u);const e=qu(t.firestore,ul),n=ll(e),i=new xc(e);return nl(n,t._query,{source:"server"}).then(n=>new Tc(e,i,t,n))}function Fc(t,e,n){t=qu(t,Lu);const i=qu(t.firestore,ul),r=vc(t.converter,e,n);return Jc(i,[_l(Ll(i),"setDoc",t._key,r,null!==t.converter,n).toMutation(t._key,bn.none())])}function Qc(t,e,n,...i){t=qu(t,Lu);const r=qu(t.firestore,ul),s=Ll(r);let a;return a="string"==typeof(e=Object(o.l)(e))||e instanceof Il?Ql(s,"updateDoc",t._key,e,n,i):Fl(s,"updateDoc",t._key,e),Jc(r,[a.toMutation(t._key,bn.exists(!0))])}function Mc(t){return Jc(qu(t.firestore,ul),[new On(t._key,bn.none())])}function Gc(t,e){const n=qu(t.firestore,ul),i=Ru(t),r=vc(t.converter,e);return Jc(n,[_l(Ll(t.firestore),"addDoc",i._key,r,null!==t.converter,{}).toMutation(i._key,bn.exists(!1))]).then(()=>i)}function Kc(t,...e){var n,i,r;t=Object(o.l)(t);let s={includeMetadataChanges:!1},a=0;"object"!=typeof e[a]||sl(e[a])||(s=e[a],a++);const u={includeMetadataChanges:s.includeMetadataChanges};if(sl(e[a])){const t=e[a];e[a]=null===(n=t.next)||void 0===n?void 0:n.bind(t),e[a+1]=null===(i=t.error)||void 0===i?void 0:i.bind(t),e[a+2]=null===(r=t.complete)||void 0===r?void 0:r.bind(t)}let l,c,h;if(t instanceof Lu)c=qu(t.firestore,ul),h=Me(t._key.path),l={next:n=>{e[a]&&e[a](Vc(c,t,n))},error:e[a+1],complete:e[a+2]};else{const n=qu(t,_u);c=qu(n.firestore,ul),h=n._query;const i=new xc(c);l={next:t=>{e[a]&&e[a](new Tc(c,i,n,t))},error:e[a+1],complete:e[a+2]},tc(t._query)}return function(t,e,n,i){const r=new Qu(i),s=new La(e,r,n);return t.asyncQueue.enqueueAndForget(async()=>Da(await tl(t),s)),()=>{r.bc(),t.asyncQueue.enqueueAndForget(async()=>Sa(await tl(t),s))}}(ll(c),h,u,l)}function Pc(t,e){return function(t,e){const n=new Qu(e);return t.asyncQueue.enqueueAndForget(async()=>function(t,e){b(t).Ru.add(e),e.next()}(await tl(t),n)),()=>{n.bc(),t.asyncQueue.enqueueAndForget(async()=>function(t,e){b(t).Ru.delete(e)}(await tl(t),n))}}(ll(t=qu(t,ul)),sl(e)?e:{next:e})}function Jc(t,e){return function(t,e){const n=new v;return t.asyncQueue.enqueueAndForget(async()=>async function(t,e,n){const i=pu(t);try{const t=await function(t,e){const n=b(t),i=B.now(),r=e.reduce((t,e)=>t.add(e.key),Xn());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",t=>{let a=Kn(),u=Xn();return n.Gi.getEntries(t,r).next(t=>{a=t,a.forEach((t,e)=>{e.isValidDocument()||(u=u.add(t))})}).next(()=>n.localDocuments.getOverlayedDocuments(t,a)).next(r=>{s=r;const o=[];for(const t of e){const e=Sn(t,s.get(t.key).overlayedDocument);null!=e&&o.push(new jn(t.key,e,Te(e.value.mapValue),bn.exists(!0)))}return n.mutationQueue.addMutationBatch(t,i,o,e)}).next(e=>{o=e;const i=e.applyToLocalDocumentSet(s,u);return n.documentOverlayCache.saveOverlays(t,e.batchId,i)})}).then(()=>({batchId:o.batchId,changes:Vn(s)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let i=t.hc[t.currentUser.toKey()];i||(i=new be(N)),i=i.insert(e,n),t.hc[t.currentUser.toKey()]=i}(i,t.batchId,n),await iu(i,t.changes),await oa(i.remoteStore)}catch(t){const e=wa(t,"Failed to persist write");n.reject(e)}}(await Xu(t),e,n)),n.promise}(ll(t),e)}function Vc(t,e,n){const i=n.docs.get(e._key),r=new xc(t);return new Sc(t,r,e._key,i,new Dc(n.hasPendingWrites,n.fromCache),e.converter)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Hc={maxAttempts:5};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Ll(t)}set(t,e,n){this._verifyNotCommitted();const i=Yc(t,this._firestore),r=vc(i.converter,e,n),s=_l(this._dataReader,"WriteBatch.set",i._key,r,null!==i.converter,n);return this._mutations.push(s.toMutation(i._key,bn.none())),this}update(t,e,n,...i){this._verifyNotCommitted();const r=Yc(t,this._firestore);let s;return s="string"==typeof(e=Object(o.l)(e))||e instanceof Il?Ql(this._dataReader,"WriteBatch.update",r._key,e,n,i):Fl(this._dataReader,"WriteBatch.update",r._key,e),this._mutations.push(s.toMutation(r._key,bn.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Yc(t,this._firestore);return this._mutations=this._mutations.concat(new On(e._key,bn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new C(I.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yc(t,e){if((t=Object(o.l)(t)).firestore!==e)throw new C(I.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Ll(t)}get(t){const e=Yc(t,this._firestore),n=new qc(this._firestore);return this._transaction.lookup([e._key]).then(t=>{if(!t||1!==t.length)return y();const i=t[0];if(i.isFoundDocument())return new Zl(this._firestore,n,i.key,i,e.converter);if(i.isNoDocument())return new Zl(this._firestore,n,e._key,null,e.converter);throw y()})}set(t,e,n){const i=Yc(t,this._firestore),r=vc(i.converter,e,n),s=_l(this._dataReader,"Transaction.set",i._key,r,null!==i.converter,n);return this._transaction.set(i._key,s),this}update(t,e,n,...i){const r=Yc(t,this._firestore);let s;return s="string"==typeof(e=Object(o.l)(e))||e instanceof Il?Ql(this._dataReader,"Transaction.update",r._key,e,n,i):Fl(this._dataReader,"Transaction.update",r._key,e),this._transaction.update(r._key,s),this}delete(t){const e=Yc(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Yc(t,this._firestore),n=new xc(this._firestore);return super.get(t).then(t=>new Sc(this._firestore,n,e._key,t._document,new Dc(!1,!1),e.converter))}}function Zc(t,e,n){t=qu(t,ul);const i=Object.assign(Object.assign({},Hc),n);return function(t){if(t.maxAttempts<1)throw new C(I.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(t,e,n){const i=new v;return t.asyncQueue.enqueueAndForget(async()=>{const r=await $u(t);new Ku(t.asyncQueue,r,n,e,i).run()}),i.promise}(ll(t),n=>e(new zc(t,n)),i)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(){return new xl("deleteField")}function $c(){return new Nl("serverTimestamp")}function th(...t){return new Rl("arrayUnion",t)}function eh(...t){return new kl("arrayRemove",t)}function nh(t){return new Bl("increment",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t,e=!0){!function(t){c=t}(i.SDK_VERSION),Object(i._registerComponent)(new r.a("firestore",(t,{instanceIdentifier:n,options:i})=>{const r=t.getProvider("app").getImmediate(),s=new ul(new U(t.getProvider("auth-internal")),new _(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new C(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gt(t.options.projectId,e)}(r,n),r);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),Object(i.registerVersion)(u,"3.8.0",t),Object(i.registerVersion)(u,"3.8.0","esm2017")}()}).call(this,n(21))},function(t,e,n){"use strict";(function(t,i){n.d(e,"a",(function(){return E})),n.d(e,"b",(function(){return I})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return o})),n.d(e,"e",(function(){return v})),n.d(e,"f",(function(){return w})),n.d(e,"g",(function(){return S})),n.d(e,"h",(function(){return q})),n.d(e,"i",(function(){return u})),n.d(e,"j",(function(){return y})),n.d(e,"k",(function(){return g})),n.d(e,"l",(function(){return j})),n.d(e,"m",(function(){return l})),n.d(e,"n",(function(){return h})),n.d(e,"o",(function(){return d})),n.d(e,"p",(function(){return c})),n.d(e,"q",(function(){return A})),n.d(e,"r",(function(){return m}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const r=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let e=0;e<t.length;e+=3){const r=t[e],s=e+1<t.length,o=s?t[e+1]:0,a=e+2<t.length,u=a?t[e+2]:0,l=r>>2,c=(3&r)<<4|o>>4;let h=(15&o)<<2|u>>6,A=63&u;a||(A=64,s||(h=64)),i.push(n[l],n[c],n[h],n[A])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(r(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(s>>10)),e[i++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let e=0;e<t.length;){const r=n[t.charAt(e++)],s=e<t.length?n[t.charAt(e)]:0;++e;const o=e<t.length?n[t.charAt(e)]:64;++e;const a=e<t.length?n[t.charAt(e)]:64;if(++e,null==r||null==s||null==o||null==a)throw Error();const u=r<<2|s>>4;if(i.push(u),64!==o){const t=s<<4&240|o>>2;if(i.push(t),64!==a){const t=o<<6&192|a;i.push(t)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},o=function(t){return function(t){const e=r(t);return s.encodeByteArray(e,!0)}(t).replace(/\./g,"")},a=function(t){try{return s.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=u(t[n],e[n]));return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function l(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function c(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(t){return!1}}function h(){return"object"==typeof self&&self.self===self}function A(){return!c()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function d(){try{return"object"==typeof indexedDB}catch(t){return!1}}function m(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}})}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const p=()=>function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,f=()=>{try{return p()||(()=>{if(void 0===i||void 0===i.env)return;const t=i.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"==typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=t&&a(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: "+t)}},g=t=>{const e=(t=>{var e,n;return null===(n=null===(e=f())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),i]:[e.substring(0,n),i]},y=()=>{var t;return null===(t=f())||void 0===t?void 0:t.config};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class E{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[o(JSON.stringify({alg:"none",type:"JWT"})),o(JSON.stringify(s)),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,b.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,I.prototype.create)}}class I{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},i=`${this.service}/${t}`,r=this.errors[t],s=r?function(t,e){return t.replace(C,(t,n)=>{const i=e[n];return null!=i?String(i):`<${n}?>`})}(r,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new b(i,o,n)}}const C=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function v(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function q(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const n=t[r],s=e[r];if(D(n)&&D(s)){if(!q(n,s))return!1}else if(n!==s)return!1}for(const t of i)if(!n.includes(t))return!1;return!0}function D(t){return null!==t&&"object"==typeof t}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S(t,e){const n=new U(t,e);return n.subscribe.bind(n)}class U{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(t=>{this.error(t)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,n){let i;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");i=function(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===i.next&&(i.next=T),void 0===i.error&&(i.error=T),void 0===i.complete&&(i.complete=T);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(t){}}),this.observers.push(i),r}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function T(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function j(t){return t&&t._delegate?t._delegate:t}}).call(this,n(20),n(21))},function(t,e,n){"use strict";n.r(e),n.d(e,"FirebaseError",(function(){return s.c})),n.d(e,"SDK_VERSION",(function(){return B})),n.d(e,"_DEFAULT_ENTRY_NAME",(function(){return q})),n.d(e,"_addComponent",(function(){return T})),n.d(e,"_addOrOverwriteComponent",(function(){return j})),n.d(e,"_apps",(function(){return S})),n.d(e,"_clearComponents",(function(){return O})),n.d(e,"_components",(function(){return U})),n.d(e,"_getProvider",(function(){return _})),n.d(e,"_registerComponent",(function(){return L})),n.d(e,"_removeServiceInstance",(function(){return x})),n.d(e,"deleteApp",(function(){return G})),n.d(e,"getApp",(function(){return Q})),n.d(e,"getApps",(function(){return M})),n.d(e,"initializeApp",(function(){return F})),n.d(e,"onLog",(function(){return P})),n.d(e,"registerVersion",(function(){return K})),n.d(e,"setLogLevel",(function(){return J}));var i=n(3),r=n(5),s=n(1);let o,a;const u=new WeakMap,l=new WeakMap,c=new WeakMap,h=new WeakMap,A=new WeakMap;let d={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return l.get(t);if("objectStoreNames"===e)return t.objectStoreNames||c.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return f(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function m(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(a||(a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(g(this),e),f(u.get(this))}:function(...e){return f(t.apply(g(this),e))}:function(e,...n){const i=t.call(g(this),e,...n);return c.set(i,e.sort?e.sort():[e]),f(i)}}function p(t){return"function"==typeof t?m(t):(t instanceof IDBTransaction&&function(t){if(l.has(t))return;const e=new Promise((e,n)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",s),t.removeEventListener("abort",s)},r=()=>{e(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",s),t.addEventListener("abort",s)});l.set(t,e)}(t),e=t,(o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(t=>e instanceof t)?new Proxy(t,d):t);var e}function f(t){if(t instanceof IDBRequest)return function(t){const e=new Promise((e,n)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",s)},r=()=>{e(f(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",s)});return e.then(e=>{e instanceof IDBCursor&&u.set(e,t)}).catch(()=>{}),A.set(e,t),e}(t);if(h.has(t))return h.get(t);const e=p(t);return e!==t&&(h.set(t,e),A.set(e,t)),e}const g=t=>A.get(t);const y=["get","getKey","getAll","getAllKeys","count"],E=["put","add","delete","clear"],w=new Map;function b(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(w.get(e))return w.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=E.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!y.includes(n))return;const s=async function(t,...e){const s=this.transaction(t,r?"readwrite":"readonly");let o=s.store;return i&&(o=o.index(e.shift())),(await Promise.all([o[n](...e),r&&s.done]))[0]};return w.set(e,s),s}d=(t=>({...t,get:(e,n,i)=>b(e,n)||t.get(e,n,i),has:(e,n)=>!!b(e,n)||t.has(e,n)}))(d);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class I{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null}).filter(t=>t).join(" ")}}const C="@firebase/app",v=new r.b("@firebase/app"),q="[DEFAULT]",D={[C]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},S=new Map,U=new Map;function T(t,e){try{t.container.addComponent(e)}catch(n){v.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function j(t,e){t.container.addOrOverwriteComponent(e)}function L(t){const e=t.name;if(U.has(e))return v.debug(`There were multiple attempts to register component ${e}.`),!1;U.set(e,t);for(const e of S.values())T(e,t);return!0}function _(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function x(t,e,n=q){_(t,e).clearInstance(n)}function O(){U.clear()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},R=new s.b("app","Firebase",N);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class k{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw R.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B="9.15.0";function F(t,e={}){let n=t;if("object"!=typeof e){e={name:e}}const r=Object.assign({name:q,automaticDataCollectionEnabled:!1},e),o=r.name;if("string"!=typeof o||!o)throw R.create("bad-app-name",{appName:String(o)});if(n||(n=Object(s.j)()),!n)throw R.create("no-options");const a=S.get(o);if(a){if(Object(s.h)(n,a.options)&&Object(s.h)(r,a.config))return a;throw R.create("duplicate-app",{appName:o})}const u=new i.b(o);for(const t of U.values())u.addComponent(t);const l=new k(n,r,u);return S.set(o,l),l}function Q(t=q){const e=S.get(t);if(!e&&t===q)return F();if(!e)throw R.create("no-app",{appName:t});return e}function M(){return Array.from(S.values())}async function G(t){const e=t.name;S.has(e)&&(S.delete(e),await Promise.all(t.container.getProviders().map(t=>t.delete())),t.isDeleted=!0)}function K(t,e,n){var r;let s=null!==(r=D[t])&&void 0!==r?r:t;n&&(s+="-"+n);const o=s.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const t=[`Unable to register library "${s}" with version "${e}":`];return o&&t.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&t.push("and"),a&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void v.warn(t.join(" "))}L(new i.a(s+"-version",()=>({library:s,version:e}),"VERSION"))}function P(t,e){if(null!==t&&"function"!=typeof t)throw R.create("invalid-log-argument");Object(r.d)(t,e)}function J(t){Object(r.c)(t)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V="firebase-heartbeat-store";let H=null;function W(){return H||(H=function(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=f(o);return i&&o.addEventListener("upgradeneeded",t=>{i(f(o.result),t.oldVersion,t.newVersion,f(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(t=>{s&&t.addEventListener("close",()=>s()),r&&t.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(V)}}}).catch(t=>{throw R.create("idb-open",{originalErrorMessage:t.message})})),H}async function Y(t,e){try{const n=(await W()).transaction(V,"readwrite"),i=n.objectStore(V);return await i.put(e,z(t)),n.done}catch(t){if(t instanceof s.c)v.warn(t.message);else{const e=R.create("idb-set",{originalErrorMessage:null==t?void 0:t.message});v.warn(e.message)}}}function z(t){return`${t.name}!${t.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new $(e),this._heartbeatsCachePromise=this._storage.read().then(t=>(this._heartbeatsCache=t,t))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),e=X();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==e&&!this._heartbeatsCache.heartbeats.some(t=>t.date===e))return this._heartbeatsCache.heartbeats.push({date:e,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const t=X(),{heartbeatsToSend:e,unsentEntries:n}=function(t,e=1024){const n=[];let i=t.slice();for(const r of t){const t=n.find(t=>t.agent===r.agent);if(t){if(t.dates.push(r.date),tt(n)>e){t.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),tt(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),i=Object(s.d)(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function X(){return(new Date).toISOString().substring(0,10)}class ${constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Object(s.o)()&&Object(s.r)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){return await async function(t){try{return(await W()).transaction(V).objectStore(V).get(z(t))}catch(t){if(t instanceof s.c)v.warn(t.message);else{const e=R.create("idb-get",{originalErrorMessage:null==t?void 0:t.message});v.warn(e.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Y(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Y(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function tt(t){return Object(s.d)(JSON.stringify({version:2,heartbeats:t})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;et="",L(new i.a("platform-logger",t=>new I(t),"PRIVATE")),L(new i.a("heartbeat",t=>new Z(t),"PRIVATE")),K(C,"0.9.0",et),K(C,"0.9.0","esm2017"),K("fire-js","")},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var i=n(1);class r{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class s{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new i.a;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(t){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),i=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(t){if(i)return null;throw t}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(t){}for(const[t,e]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:n});e.resolve(t)}catch(t){}}}}clearInstance(t="[DEFAULT]"){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...t.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return null!=this.component}isInitialized(t="[DEFAULT]"){return this.instances.has(t)}getOptions(t="[DEFAULT]"){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[t,e]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(t)&&e.resolve(i)}return i}onInit(t,e){var n;const i=this.normalizeInstanceIdentifier(e),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(t),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&t(s,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const i of n)try{i(t,e)}catch(t){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,"[DEFAULT]"===i?void 0:i),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(t){}var i;return n||null}normalizeInstanceIdentifier(t="[DEFAULT]"){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class o{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new s(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return zn})),n.d(e,"b",(function(){return Xn})),n.d(e,"c",(function(){return Zn})),n.d(e,"d",(function(){return ti})),n.d(e,"e",(function(){return $n})),n.d(e,"f",(function(){return ei})),n.d(e,"g",(function(){return ni})),n.d(e,"h",(function(){return Wn})),n.d(e,"i",(function(){return Yn}));var i,r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},s={},o=o||{},a=r||self;function u(){}function l(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function c(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var h="closure_uid_"+(1e9*Math.random()>>>0),A=0;function d(t,e,n){return t.call.apply(t.bind,arguments)}function m(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function p(t,e,n){return(p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:m).apply(null,arguments)}function f(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function g(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(t,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return e.prototype[n].apply(t,r)}}function y(){this.s=this.s,this.o=this.o}y.prototype.s=!1,y.prototype.na=function(){var t;!this.s&&(this.s=!0,this.M(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,h)&&t[h]||(t[h]=++A))},y.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const E=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function w(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function b(t,e){for(let e=1;e<arguments.length;e++){const n=arguments[e];if(l(n)){const e=t.length||0,i=n.length||0;t.length=e+i;for(let r=0;r<i;r++)t[e+r]=n[r]}else t.push(n)}}function I(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var C=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",u,e),a.removeEventListener("test",u,e)}catch(t){}return t}();function v(t){return/^[\s\xa0]*$/.test(t)}var q=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function D(t,e){return t<e?-1:t>e?1:0}function S(){var t=a.navigator;return t&&(t=t.userAgent)?t:""}function U(t){return-1!=S().indexOf(t)}function T(t){return T[" "](t),t}T[" "]=u;var j,L,_=U("Opera"),x=U("Trident")||U("MSIE"),O=U("Edge"),N=O||x,R=U("Gecko")&&!(-1!=S().toLowerCase().indexOf("webkit")&&!U("Edge"))&&!(U("Trident")||U("MSIE"))&&!U("Edge"),k=-1!=S().toLowerCase().indexOf("webkit")&&!U("Edge");function B(){var t=a.document;return t?t.documentMode:void 0}t:{var F="",Q=(L=S(),R?/rv:([^\);]+)(\)|;)/.exec(L):O?/Edge\/([\d\.]+)/.exec(L):x?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(L):k?/WebKit\/(\S+)/.exec(L):_?/(?:Version)[ \/]?(\S+)/.exec(L):void 0);if(Q&&(F=Q?Q[1]:""),x){var M=B();if(null!=M&&M>parseFloat(F)){j=String(M);break t}}j=F}var G,K={};function P(){return function(t){var e=K;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}((function(){let t=0;const e=q(String(j)).split("."),n=q("9").split("."),i=Math.max(e.length,n.length);for(let o=0;0==t&&o<i;o++){var r=e[o]||"",s=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;t=D(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||D(0==r[2].length,0==s[2].length)||D(r[2],s[2]),r=r[3],s=s[3]}while(0==t)}return 0<=t}))}if(a.document&&x){var J=B();G=J||(parseInt(j,10)||void 0)}else G=void 0;var V=G;function H(t,e){if(I.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(R){t:{try{T(e.nodeName);var r=!0;break t}catch(t){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:W[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&H.X.h.call(this)}}g(H,I);var W={2:"touch",3:"pen",4:"mouse"};H.prototype.h=function(){H.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Y="closure_listenable_"+(1e6*Math.random()|0),z=0;function Z(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ha=r,this.key=++z,this.ba=this.ea=!1}function X(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function $(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function tt(t){const e={};for(const n in t)e[n]=t[n];return e}const et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(t,e){let n,i;for(let e=1;e<arguments.length;e++){for(n in i=arguments[e],i)t[n]=i[n];for(let e=0;e<et.length;e++)n=et[e],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function it(t){this.src=t,this.g={},this.h=0}function rt(t,e){var n=e.type;if(n in t.g){var i,r=t.g[n],s=E(r,e);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(X(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function st(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==i)return r}return-1}it.prototype.add=function(t,e,n,i,r){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=st(t,e,i,r);return-1<o?(e=t[o],n||(e.ea=!1)):((e=new Z(e,this.src,s,!!i,r)).ea=n,t.push(e)),e};var ot="closure_lm_"+(1e6*Math.random()|0),at={};function ut(t,e,n,i,r){if(i&&i.once)return function t(e,n,i,r,s){if(Array.isArray(n)){for(var o=0;o<n.length;o++)t(e,n[o],i,r,s);return null}return i=pt(i),e&&e[Y]?e.O(n,i,c(r)?!!r.capture:!!r,s):lt(e,n,i,!0,r,s)}(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ut(t,e[s],n,i,r);return null}return n=pt(n),t&&t[Y]?t.N(e,n,c(i)?!!i.capture:!!i,r):lt(t,e,n,!1,i,r)}function lt(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=c(r)?!!r.capture:!!r,a=dt(t);if(a||(t[ot]=a=new it(t)),(n=a.add(e,n,i,o,s)).proxy)return n;if(i=function(){const t=At;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)C||(r=o),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(ht(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function ct(t){if("number"!=typeof t&&t&&!t.ba){var e=t.src;if(e&&e[Y])rt(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(ht(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=dt(e))?(rt(n,t),0==n.h&&(n.src=null,e[ot]=null)):X(t)}}}function ht(t){return t in at?at[t]:at[t]="on"+t}function At(t,e){if(t.ba)t=!0;else{e=new H(e,this);var n=t.listener,i=t.ha||t.src;t.ea&&ct(t),t=n.call(i,e)}return t}function dt(t){return(t=t[ot])instanceof it?t:null}var mt="__closure_events_fn_"+(1e9*Math.random()>>>0);function pt(t){return"function"==typeof t?t:(t[mt]||(t[mt]=function(e){return t.handleEvent(e)}),t[mt])}function ft(){y.call(this),this.i=new it(this),this.P=this,this.I=null}function gt(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,"string"==typeof e)e=new I(e,t);else if(e instanceof I)e.target=e.target||t;else{var r=e;nt(e=new I(i,t),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=yt(o,i,!0,e)&&r}if(r=yt(o=e.g=t,i,!0,e)&&r,r=yt(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)r=yt(o=e.g=n[s],i,!1,e)&&r}function yt(t,e,n,i){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,u=o.ha||o.src;o.ea&&rt(t.i,o),r=!1!==a.call(u,i)&&r}}return r&&!i.defaultPrevented}g(ft,y),ft.prototype[Y]=!0,ft.prototype.removeEventListener=function(t,e,n,i){!function t(e,n,i,r,s){if(Array.isArray(n))for(var o=0;o<n.length;o++)t(e,n[o],i,r,s);else r=c(r)?!!r.capture:!!r,i=pt(i),e&&e[Y]?(e=e.i,(n=String(n).toString())in e.g&&(-1<(i=st(o=e.g[n],i,r,s))&&(X(o[i]),Array.prototype.splice.call(o,i,1),0==o.length&&(delete e.g[n],e.h--)))):e&&(e=dt(e))&&(n=e.g[n.toString()],e=-1,n&&(e=st(n,i,r,s)),(i=-1<e?n[e]:null)&&ct(i))}(this,t,e,n,i)},ft.prototype.M=function(){if(ft.X.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)X(n[i]);delete e.g[t],e.h--}}this.I=null},ft.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},ft.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};var Et=a.JSON.stringify;function wt(){var t=St;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var bt,It=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Ct,t=>t.reset());class Ct{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function vt(t){a.setTimeout(()=>{throw t},0)}function qt(t,e){bt||function(){var t=a.Promise.resolve(void 0);bt=function(){t.then(Ut)}}(),Dt||(bt(),Dt=!0),St.add(t,e)}var Dt=!1,St=new class{constructor(){this.h=this.g=null}add(t,e){const n=It.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}};function Ut(){for(var t;t=wt();){try{t.h.call(t.g)}catch(t){vt(t)}var e=It;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Dt=!1}function Tt(t,e){ft.call(this),this.h=t||1,this.g=e||a,this.j=p(this.lb,this),this.l=Date.now()}function jt(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}function Lt(t,e,n){if("function"==typeof t)n&&(t=p(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=p(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}g(Tt,ft),(i=Tt.prototype).ca=!1,i.R=null,i.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),gt(this,"tick"),this.ca&&(jt(this),this.start()))}},i.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},i.M=function(){Tt.X.M.call(this),jt(this),delete this.g};class _t extends y{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:function t(e){e.g=Lt(()=>{e.g=null,e.i&&(e.i=!1,t(e))},e.j);const n=e.h;e.h=null,e.m.apply(null,n)}(this)}M(){super.M(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xt(t){y.call(this),this.h=t,this.g={}}g(xt,y);var Ot=[];function Nt(t,e,n,i){Array.isArray(n)||(n&&(Ot[0]=n.toString()),n=Ot);for(var r=0;r<n.length;r++){var s=ut(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Rt(t){$(t.g,(function(t,e){this.g.hasOwnProperty(e)&&ct(t)}),t),t.g={}}function kt(){this.g=!0}function Bt(t,e,n,i){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return Et(n)}catch(t){return e}}(t,n)+(i?" "+i:"")}))}xt.prototype.M=function(){xt.X.M.call(this),Rt(this)},xt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},kt.prototype.Aa=function(){this.g=!1},kt.prototype.info=function(){};var Ft={},Qt=null;function Mt(){return Qt=Qt||new ft}function Gt(t){I.call(this,Ft.Pa,t)}function Kt(t){const e=Mt();gt(e,new Gt(e))}function Pt(t,e){I.call(this,Ft.STAT_EVENT,t),this.stat=e}function Jt(t){const e=Mt();gt(e,new Pt(e,t))}function Vt(t,e){I.call(this,Ft.Qa,t),this.size=e}function Ht(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return a.setTimeout((function(){t()}),e)}Ft.Pa="serverreachability",g(Gt,I),Ft.STAT_EVENT="statevent",g(Pt,I),Ft.Qa="timingevent",g(Vt,I);var Wt={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Yt={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function zt(){}function Zt(t){return t.h||(t.h=t.i())}function Xt(){}zt.prototype.h=null;var $t,te={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function ee(){I.call(this,"d")}function ne(){I.call(this,"c")}function ie(){}function re(t,e,n,i){this.l=t,this.j=e,this.m=n,this.U=i||1,this.S=new xt(this),this.O=oe,t=N?125:void 0,this.T=new Tt(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new se}function se(){this.i=null,this.g="",this.h=!1}g(ee,I),g(ne,I),g(ie,zt),ie.prototype.g=function(){return new XMLHttpRequest},ie.prototype.i=function(){return{}},$t=new ie;var oe=45e3,ae={},ue={};function le(t,e,n){t.K=1,t.v=Ue(Ce(e)),t.s=n,t.P=!0,ce(t,null)}function ce(t,e){t.F=Date.now(),me(t),t.A=Ce(t.v);var n=t.A,i=t.U;Array.isArray(i)||(i=[String(i)]),Me(n.i,"t",i),t.C=0,n=t.l.H,t.h=new se,t.g=Mn(t.l,n?e:null,!t.s),0<t.N&&(t.L=new _t(p(t.La,t,t.g),t.N)),Nt(t.S,t.g,"readystatechange",t.ib),e=t.H?tt(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Kt(),function(t,e,n,i,r,s){t.info((function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+o}))}(t.j,t.u,t.A,t.m,t.U,t.s)}function he(t){return!!t.g&&("GET"==t.u&&2!=t.K&&t.l.Da)}function Ae(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=de(t,n),i==ue){4==e&&(t.o=4,Jt(14),r=!1),Bt(t.j,t.m,null,"[Incomplete Response]");break}if(i==ae){t.o=4,Jt(15),Bt(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Bt(t.j,t.m,i,null),Ee(t,i)}he(t)&&i!=ue&&i!=ae&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Jt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,(e=t.l).g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),xn(e),e.K=!0,Jt(11))):(Bt(t.j,t.m,n,"[Invalid Chunked Response]"),ye(t),ge(t))}function de(t,e){var n=t.C,i=e.indexOf("\n",n);return-1==i?ue:(n=Number(e.substring(n,i)),isNaN(n)?ae:(i+=1)+n>e.length?ue:(e=e.substr(i,n),t.C=i+n,e))}function me(t){t.V=Date.now()+t.O,pe(t,t.O)}function pe(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Ht(p(t.gb,t),e)}function fe(t){t.B&&(a.clearTimeout(t.B),t.B=null)}function ge(t){0==t.l.G||t.I||Rn(t.l,t)}function ye(t){fe(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,jt(t.T),Rt(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Ee(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||He(n.h,t)))if(!t.J&&He(n.h,t)&&3==n.G){try{var i=n.Fa.g.parse(e)}catch(t){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Nn(n),qn(n)}_n(n),Jt(18)}}else n.Ba=r[1],0<n.Ba-n.T&&37500>r[2]&&n.L&&0==n.A&&!n.v&&(n.v=Ht(p(n.cb,n),6e3));if(1>=Ve(n.h)&&n.ja){try{n.ja()}catch(t){}n.ja=void 0}}else Bn(n,11)}else if((t.J||n.g==t)&&Nn(n),!v(e))for(r=n.Fa.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(n.T=l[0],l=l[1],2==n.G)if("c"==l[0]){n.I=l[1],n.ka=l[2];const e=l[3];null!=e&&(n.ma=e,n.j.info("VER="+n.ma));const r=l[4];null!=r&&(n.Ca=r,n.j.info("SVER="+n.Ca));const c=l[5];null!=c&&"number"==typeof c&&0<c&&(i=1.5*c,n.J=i,n.j.info("backChannelRequestTimeoutMs_="+i)),i=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=i.h;s.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(We(s,s.h),s.h=null))}if(i.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(i.za=t,Se(i.F,i.D,t))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms"));var o=t;if((i=n).sa=Qn(i,i.H?i.ka:null,i.V),o.J){Ye(i.h,o);var a=o,u=i.J;u&&a.setTimeout(u),a.B&&(fe(a),me(a)),i.g=o}else Ln(i);0<n.i.length&&Sn(n)}else"stop"!=l[0]&&"close"!=l[0]||Bn(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Bn(n,7):vn(n):"noop"!=l[0]&&n.l&&n.l.wa(l),n.A=0)}Kt()}catch(t){}}function we(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(l(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.oa&&"function"==typeof t.oa)return t.oa();if(!t.W||"function"!=typeof t.W){if("undefined"!=typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!=typeof Set&&t instanceof Set)){if(l(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}(t),i=function(t){if(t.W&&"function"==typeof t.W)return t.W();if("undefined"!=typeof Map&&t instanceof Map||"undefined"!=typeof Set&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(l(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}(i=re.prototype).setTimeout=function(t){this.O=t},i.ib=function(t){t=t.target;const e=this.L;e&&3==yn(t)?e.l():this.La(t)},i.La=function(t){try{if(t==this.g)t:{const h=yn(this.g);var e=this.g.Ea();this.g.aa();if(!(3>h)&&(3!=h||N||this.g&&(this.h.h||this.g.fa()||En(this.g)))){this.I||4!=h||7==e||Kt(),fe(this);var n=this.g.aa();this.Y=n;e:if(he(this)){var i=En(this.g);t="";var r=i.length,s=4==yn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ye(this),ge(this);var o="";break e}this.h.i=new a.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==n,function(t,e,n,i,r,s,o){t.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.U,h,n),this.i){if(this.Z&&!this.J){e:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(u)){var c=u;break e}}c=null}if(!(n=c)){this.i=!1,this.o=3,Jt(12),ye(this),ge(this);break t}Bt(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ee(this,n)}this.P?(Ae(this,h,o),N&&this.i&&3==h&&(Nt(this.S,this.T,"tick",this.hb),this.T.start())):(Bt(this.j,this.m,o,null),Ee(this,o)),4==h&&ye(this),this.i&&!this.I&&(4==h?Rn(this.l,this):(this.i=!1,me(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Jt(12)):(this.o=0,Jt(13)),ye(this),ge(this)}}}catch(t){}},i.hb=function(){if(this.g){var t=yn(this.g),e=this.g.fa();this.C<e.length&&(fe(this),Ae(this,t,e),this.i&&4!=t&&me(this))}},i.cancel=function(){this.I=!0,ye(this)},i.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(Kt(),Jt(17)),ye(this),this.o=2,ge(this)):pe(this,this.V-t)};var be=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ie(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ie){this.h=void 0!==e?e:t.h,ve(this,t.j),this.s=t.s,this.g=t.g,qe(this,t.m),this.l=t.l,e=t.i;var n=new ke;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),De(this,n),this.o=t.o}else t&&(n=String(t).match(be))?(this.h=!!e,ve(this,n[1]||"",!0),this.s=Te(n[2]||""),this.g=Te(n[3]||"",!0),qe(this,n[4]),this.l=Te(n[5]||"",!0),De(this,n[6]||"",!0),this.o=Te(n[7]||"")):(this.h=!!e,this.i=new ke(null,this.h))}function Ce(t){return new Ie(t)}function ve(t,e,n){t.j=n?Te(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function qe(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function De(t,e,n){e instanceof ke?(t.i=e,function(t,e){e&&!t.j&&(Be(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Fe(this,e),Me(this,n,t))}),t)),t.j=e}(t.i,t.h)):(n||(e=je(e,Ne)),t.i=new ke(e,t.h))}function Se(t,e,n){t.i.set(e,n)}function Ue(t){return Se(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Te(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function je(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Le),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Le(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ie.prototype.toString=function(){var t=[],e=this.j;e&&t.push(je(e,_e,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(je(e,_e,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(je(n,"/"==n.charAt(0)?Oe:xe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",je(n,Re)),t.join("")};var _e=/[#\/\?@]/g,xe=/[#\?:]/g,Oe=/[#\?]/g,Ne=/[#\?@]/g,Re=/#/g;function ke(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Be(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Fe(t,e){Be(t),e=Ge(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Qe(t,e){return Be(t),e=Ge(t,e),t.g.has(e)}function Me(t,e,n){Fe(t,e),0<n.length&&(t.i=null,t.g.set(Ge(t,e),w(n)),t.h+=n.length)}function Ge(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(i=ke.prototype).add=function(t,e){Be(this),this.i=null,t=Ge(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},i.forEach=function(t,e){Be(this),this.g.forEach((function(n,i){n.forEach((function(n){t.call(e,n,i,this)}),this)}),this)},i.oa=function(){Be(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let t=0;t<r.length;t++)n.push(e[i])}return n},i.W=function(t){Be(this);let e=[];if("string"==typeof t)Qe(this,t)&&(e=e.concat(this.g.get(Ge(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},i.set=function(t,e){return Be(this),this.i=null,Qe(this,t=Ge(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},i.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const s=encodeURIComponent(String(i)),o=this.W(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),t.push(r)}}return this.i=t.join("&")};function Ke(t){this.l=t||Pe,a.PerformanceNavigationTiming?t=0<(t=a.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(a.g&&a.g.Ga&&a.g.Ga()&&a.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Pe=10;function Je(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Ve(t){return t.h?1:t.g?t.g.size:0}function He(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function We(t,e){t.g?t.g.add(e):t.h=e}function Ye(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function ze(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return w(t.i)}function Ze(){}function Xe(){this.g=new Ze}function $e(t,e,n){const i=n||"";try{we(t,(function(t,n){let r=t;c(t)&&(r=Et(t)),e.push(i+n+"="+encodeURIComponent(r))}))}catch(t){throw e.push(i+"type="+encodeURIComponent("_badmap")),t}}function tn(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(t){}}function en(t){this.l=t.ac||null,this.j=t.jb||!1}function nn(t,e){ft.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=rn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ke.prototype.cancel=function(){if(this.i=ze(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},Ze.prototype.stringify=function(t){return a.JSON.stringify(t,void 0)},Ze.prototype.parse=function(t){return a.JSON.parse(t,void 0)},g(en,zt),en.prototype.g=function(){return new nn(this.l,this.j)},en.prototype.i=function(t){return function(){return t}}({}),g(nn,ft);var rn=0;function sn(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}function on(t){t.readyState=4,t.l=null,t.j=null,t.A=null,an(t)}function an(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(i=nn.prototype).open=function(t,e){if(this.readyState!=rn)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,an(this)},i.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||a).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,on(this)),this.readyState=rn},i.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,an(this)),this.g&&(this.readyState=3,an(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==a.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sn(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))},i.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?on(this):an(this),3==this.readyState&&sn(this)}},i.Va=function(t){this.g&&(this.response=this.responseText=t,on(this))},i.Ua=function(t){this.g&&(this.response=t,on(this))},i.ga=function(){this.g&&on(this)},i.setRequestHeader=function(t,e){this.v.append(t,e)},i.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(nn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var un=a.JSON.parse;function ln(t){ft.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=cn,this.K=this.L=!1}g(ln,ft);var cn="",hn=/^https?$/i,An=["POST","PUT"];function dn(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,mn(t),fn(t)}function mn(t){t.D||(t.D=!0,gt(t,"complete"),gt(t,"error"))}function pn(t){if(t.h&&void 0!==o&&(!t.C[1]||4!=yn(t)||2!=t.aa()))if(t.v&&4==yn(t))Lt(t.Ha,0,t);else if(gt(t,"readystatechange"),4==yn(t)){t.h=!1;try{const o=t.aa();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var i;if(i=0===o){var r=String(t.H).match(be)[1]||null;if(!r&&a.self&&a.self.location){var s=a.self.location.protocol;r=s.substr(0,s.length-1)}i=!hn.test(r?r.toLowerCase():"")}n=i}if(n)gt(t,"complete"),gt(t,"success");else{t.m=6;try{var u=2<yn(t)?t.g.statusText:""}catch(t){u=""}t.j=u+" ["+t.aa()+"]",mn(t)}}finally{fn(t)}}}function fn(t,e){if(t.g){gn(t);const n=t.g,i=t.C[0]?u:null;t.g=null,t.C=null,e||gt(t,"ready");try{n.onreadystatechange=i}catch(t){}}}function gn(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(a.clearTimeout(t.A),t.A=null)}function yn(t){return t.g?t.g.readyState:0}function En(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case cn:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(t){return null}}function wn(t){let e="";return $(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function bn(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=wn(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Se(t,e,n))}function In(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Cn(t){this.Ca=0,this.i=[],this.j=new kt,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=In("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=In("baseRetryDelayMs",5e3,t),this.bb=In("retryDelaySeedMs",1e4,t),this.$a=In("forwardChannelMaxRetries",2,t),this.ta=In("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new Ke(t&&t.concurrentRequestLimit),this.Fa=new Xe,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function vn(t){if(Dn(t),3==t.G){var e=t.U++,n=Ce(t.F);Se(n,"SID",t.I),Se(n,"RID",e),Se(n,"TYPE","terminate"),Tn(t,n),(e=new re(t,t.j,e,void 0)).K=2,e.v=Ue(Ce(n)),n=!1,a.navigator&&a.navigator.sendBeacon&&(n=a.navigator.sendBeacon(e.v.toString(),"")),!n&&a.Image&&((new Image).src=e.v,n=!0),n||(e.g=Mn(e.l,null),e.g.da(e.v)),e.F=Date.now(),me(e)}Fn(t)}function qn(t){t.g&&(xn(t),t.g.cancel(),t.g=null)}function Dn(t){qn(t),t.u&&(a.clearTimeout(t.u),t.u=null),Nn(t),t.h.cancel(),t.m&&("number"==typeof t.m&&a.clearTimeout(t.m),t.m=null)}function Sn(t){Je(t.h)||t.m||(t.m=!0,qt(t.Ja,t),t.C=0)}function Un(t,e){var n;n=e?e.m:t.U++;const i=Ce(t.F);Se(i,"SID",t.I),Se(i,"RID",n),Se(i,"AID",t.T),Tn(t,i),t.o&&t.s&&bn(i,t.o,t.s),n=new re(t,t.j,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=jn(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),We(t.h,n),le(n,i,e)}function Tn(t,e){t.ia&&$(t.ia,(function(t,n){Se(e,n,t)})),t.l&&we({},(function(t,n){Se(e,n,t)}))}function jn(t,e,n){n=Math.min(t.i.length,n);var i=t.l?p(t.l.Ra,t.l,t):null;t:{var r=t.i;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=r[0].h,t.push("ofs="+e)):e=0:t.push("ofs="+e);let s=!0;for(let o=0;o<n;o++){let n=r[o].h;const a=r[o].g;if(n-=e,0>n)e=Math.max(0,r[o].h-100),s=!1;else try{$e(a,t,"req"+n+"_")}catch(t){i&&i(a)}}if(s){i=t.join("&");break t}}}return t=t.i.splice(0,n),e.D=t,i}function Ln(t){t.g||t.u||(t.Z=1,qt(t.Ia,t),t.A=0)}function _n(t){return!(t.g||t.u||3<=t.A)&&(t.Z++,t.u=Ht(p(t.Ia,t),kn(t,t.A)),t.A++,!0)}function xn(t){null!=t.B&&(a.clearTimeout(t.B),t.B=null)}function On(t){t.g=new re(t,t.j,"rpc",t.Z),null===t.o&&(t.g.H=t.s),t.g.N=0;var e=Ce(t.sa);Se(e,"RID","rpc"),Se(e,"SID",t.I),Se(e,"CI",t.L?"0":"1"),Se(e,"AID",t.T),Se(e,"TYPE","xmlhttp"),Tn(t,e),t.o&&t.s&&bn(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Ue(Ce(e)),n.s=null,n.P=!0,ce(n,t)}function Nn(t){null!=t.v&&(a.clearTimeout(t.v),t.v=null)}function Rn(t,e){var n=null;if(t.g==e){Nn(t),xn(t),t.g=null;var i=2}else{if(!He(t.h,e))return;n=e.D,Ye(t.h,e),i=1}if(0!=t.G)if(t.pa=e.Y,e.i)if(1==i){n=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;gt(i=Mt(),new Vt(i,n)),Sn(t)}else Ln(t);else if(3==(r=e.o)||0==r&&0<t.pa||!(1==i&&function(t,e){return!(Ve(t.h)>=t.h.j-(t.m?1:0))&&(t.m?(t.i=e.D.concat(t.i),!0):!(1==t.G||2==t.G||t.C>=(t.Za?0:t.$a))&&(t.m=Ht(p(t.Ja,t,e),kn(t,t.C)),t.C++,!0))}(t,e)||2==i&&_n(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),r){case 1:Bn(t,5);break;case 4:Bn(t,10);break;case 3:Bn(t,6);break;default:Bn(t,2)}}function kn(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Bn(t,e){if(t.j.info("Error code "+e),2==e){var n=null;t.l&&(n=null);var i=p(t.kb,t);n||(n=new Ie("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||ve(n,"https"),Ue(n)),function(t,e){const n=new kt;if(a.Image){const i=new Image;i.onload=f(tn,n,i,"TestLoadImage: loaded",!0,e),i.onerror=f(tn,n,i,"TestLoadImage: error",!1,e),i.onabort=f(tn,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=f(tn,n,i,"TestLoadImage: timeout",!1,e),a.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=t}else e(!1)}(n.toString(),i)}else Jt(2);t.G=0,t.l&&t.l.va(e),Fn(t),Dn(t)}function Fn(t){if(t.G=0,t.la=[],t.l){const e=ze(t.h);0==e.length&&0==t.i.length||(b(t.la,e),b(t.la,t.i),t.h.i.length=0,w(t.i),t.i.length=0),t.l.ua()}}function Qn(t,e,n){var i=n instanceof Ie?Ce(n):new Ie(n,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),qe(i,i.m);else{var r=a.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Ie(null,void 0);i&&ve(s,i),e&&(s.g=e),r&&qe(s,r),n&&(s.l=n),i=s}return n=t.D,e=t.za,n&&e&&Se(i,n,e),Se(i,"VER",t.ma),Tn(t,i),i}function Mn(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Da&&!t.ra?new ln(new en({jb:!0})):new ln(t.ra)).Ka(t.H),e}function Gn(){}function Kn(){if(x&&!(10<=Number(V)))throw Error("Environmental error: no available transport.")}function Pn(t,e){ft.call(this),this.g=new Cn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!v(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!v(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new Hn(this)}function Jn(t){ee.call(this);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Vn(){ne.call(this),this.status=1}function Hn(t){this.g=t}(i=ln.prototype).Ka=function(t){this.L=t},i.da=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$t.g(),this.C=this.u?Zt(this.u):Zt($t),this.g.onreadystatechange=p(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(t){return void dn(this,t)}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const t of i.keys())n.set(t,i.get(t))}i=Array.from(n.keys()).find(t=>"content-type"==t.toLowerCase()),r=a.FormData&&t instanceof a.FormData,!(0<=E(An,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[t,e]of n)this.g.setRequestHeader(t,e);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{gn(this),0<this.B&&((this.K=function(t){return x&&P()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=p(this.qa,this)):this.A=Lt(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(t){dn(this,t)}},i.qa=function(){void 0!==o&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gt(this,"timeout"),this.abort(8))},i.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,gt(this,"complete"),gt(this,"abort"),fn(this))},i.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fn(this,!0)),ln.X.M.call(this)},i.Ha=function(){this.s||(this.F||this.v||this.l?pn(this):this.fb())},i.fb=function(){pn(this)},i.aa=function(){try{return 2<yn(this)?this.g.status:-1}catch(t){return-1}},i.fa=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},i.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),un(e)}},i.Ea=function(){return this.m},i.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(i=Cn.prototype).ma=8,i.G=1,i.Ja=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const r=new re(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=tt(s),nt(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)t:{for(var e=0,n=0;n<this.i.length;n++){var i=this.i[n];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=n;break t}if(4096===e||n===this.i.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=jn(this,r,e),Se(n=Ce(this.F),"RID",t),Se(n,"CVER",22),this.D&&Se(n,"X-HTTP-Session-Id",this.D),Tn(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(wn(s)))+"&"+e:this.o&&bn(n,this.o,s)),We(this.h,r),this.Ya&&Se(n,"TYPE","init"),this.O?(Se(n,"$req",e),Se(n,"SID","null"),r.Z=!0,le(r,n,null)):le(r,n,e),this.G=2}}else 3==this.G&&(t?Un(this,t):0==this.i.length||Je(this.h)||Un(this))},i.Ia=function(){if(this.u=null,On(this),this.$&&!(this.K||null==this.g||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Ht(p(this.eb,this),t)}},i.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Jt(10),qn(this),On(this))},i.cb=function(){null!=this.v&&(this.v=null,qn(this),_n(this),Jt(19))},i.kb=function(t){t?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))},(i=Gn.prototype).xa=function(){},i.wa=function(){},i.va=function(){},i.ua=function(){},i.Ra=function(){},Kn.prototype.g=function(t,e){return new Pn(t,e)},g(Pn,ft),Pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;Jt(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=Qn(t,null,t.V),Sn(t)},Pn.prototype.close=function(){vn(this.g)},Pn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=Et(t),t=n);e.i.push(new class{constructor(t,e){this.h=t,this.g=e}}(e.ab++,t)),3==e.G&&Sn(e)},Pn.prototype.M=function(){this.g.l=null,delete this.j,vn(this.g),delete this.g,Pn.X.M.call(this)},g(Jn,ee),g(Vn,ne),g(Hn,Gn),Hn.prototype.xa=function(){gt(this.g,"a")},Hn.prototype.wa=function(t){gt(this.g,new Jn(t))},Hn.prototype.va=function(t){gt(this.g,new Vn)},Hn.prototype.ua=function(){gt(this.g,"b")},Kn.prototype.createWebChannel=Kn.prototype.g,Pn.prototype.send=Pn.prototype.u,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,Wt.NO_ERROR=0,Wt.TIMEOUT=8,Wt.HTTP_ERROR=6,Yt.COMPLETE="complete",Xt.EventType=te,te.OPEN="a",te.CLOSE="b",te.ERROR="c",te.MESSAGE="d",ft.prototype.listen=ft.prototype.N,ln.prototype.listenOnce=ln.prototype.O,ln.prototype.getLastError=ln.prototype.Oa,ln.prototype.getLastErrorCode=ln.prototype.Ea,ln.prototype.getStatus=ln.prototype.aa,ln.prototype.getResponseJson=ln.prototype.Sa,ln.prototype.getResponseText=ln.prototype.fa,ln.prototype.send=ln.prototype.da,ln.prototype.setWithCredentials=ln.prototype.Ka;var Wn=s.createWebChannelTransport=function(){return new Kn},Yn=s.getStatEventTarget=function(){return Mt()},zn=s.ErrorCode=Wt,Zn=s.EventType=Yt,Xn=s.Event=Ft,$n=s.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},ti=s.FetchXmlHttpFactory=en,ei=s.WebChannel=Xt,ni=s.XhrIo=ln}).call(this,n(20))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return h}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const i=[];var r;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(r||(r={}));const s={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},o=r.INFO,a={[r.DEBUG]:"log",[r.VERBOSE]:"log",[r.INFO]:"info",[r.WARN]:"warn",[r.ERROR]:"error"},u=(t,e,...n)=>{if(e<t.logLevel)return;const i=(new Date).toISOString(),r=a[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${t.name}:`,...n)};class l{constructor(t){this.name=t,this._logLevel=o,this._logHandler=u,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in r))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?s[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,r.DEBUG,...t),this._logHandler(this,r.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,r.VERBOSE,...t),this._logHandler(this,r.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,r.INFO,...t),this._logHandler(this,r.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,r.WARN,...t),this._logHandler(this,r.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,r.ERROR,...t),this._logHandler(this,r.ERROR,...t)}}function c(t){i.forEach(e=>{e.setLogLevel(t)})}function h(t,e){for(const n of i){let i=null;e&&e.level&&(i=s[e.level]),n.userLogHandler=null===t?null:(e,n,...s)=>{const o=s.map(t=>{if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}}).filter(t=>t).join(" ");n>=(null!=i?i:e.logLevel)&&t({level:r[n].toLowerCase(),message:o,args:s,type:e.name})}}}},function(t,e,n){"use strict";t.exports=n(25)},function(t,e){function n(t,e){e=e||2;let n=t.toString(),i=0;return i=e-n.length+1,n=new Array(i).join("0").concat(n),n}t.exports=function(t,e){const i=e&&e.leading,r=e&&e.ms,s=t<0?-t:t,o=function(t,e){return e?t<0?"-":"":t<=-1e3?"-":""}(t,r),a=function(t){if("number"!=typeof t)throw new TypeError("Expected a number");return{days:Math.trunc(t/864e5),hours:Math.trunc(t/36e5)%24,minutes:Math.trunc(t/6e4)%60,seconds:Math.trunc(t/1e3)%60,ms:Math.trunc(t)%1e3}}(s),u=n(a.seconds);let l="";return a.days&&!l&&(l=o+a.days+":"+n(a.hours)+":"+n(a.minutes)+":"+u),a.hours&&!l&&(l=o+(i?n(a.hours):a.hours)+":"+n(a.minutes)+":"+u),l||(l=o+(i?n(a.minutes):a.minutes)+":"+u),r&&(l+="."+n(a.ms,3)),l}},function(t,e){const n={primary:0,secondary:2,auxiliary:1},i={position:{x:0,y:0},pressed:{0:void 0,1:void 0,2:void 0},isPressed:function(t="primary"){const e=this.getPressed(t);return null!=e&&e.state},wasJustPressed:function(t="primary",e=!0,n=1e3/60){const i=this.getPressed(t);return null!=i&&(window.performance.now()-i.time<n&&i.state==e)},getPressed:function(t){return this.pressed[t]||this.pressed[n[t]]},setPressed:function(t,e){this.pressed[t]={time:window.performance.now(),state:e}},setPosition:function(t){this.position.x=t.x,this.position.y=t.y}};document.addEventListener("mousedown",t=>i.setPressed(t.button,!0)),document.addEventListener("mouseup",t=>i.setPressed(t.button,!1)),document.addEventListener("mousemove",t=>i.setPosition({x:t.clientX,y:t.clientY})),document.addEventListener("pointerdown",t=>i.setPressed(t.button||0,!0)),document.addEventListener("pointerup",t=>i.setPressed(t.button||0,!1)),document.addEventListener("pointermove",t=>i.setPosition({x:t.clientX,y:t.clientY})),document.addEventListener("touchstart",t=>i.setPressed(0,!0)),document.addEventListener("touchend",t=>i.setPressed(0,!1)),document.addEventListener("touchstart",t=>i.setPosition({x:t.touches[0].clientX,y:t.touches[0].clientY})),document.addEventListener("touchend",t=>i.setPosition({x:t.touches[0].clientX,y:t.touches[0].clientY})),document.addEventListener("touchmove",t=>i.setPosition({x:t.touches[0].clientX,y:t.touches[0].clientY})),document.addEventListener("contextmenu",t=>{1==i.isIgnoringContextMenu&&t.preventDefault()}),document.addEventListener("touchstart",t=>{i.isIgnoringTouchHover&&t.preventDefault()}),t.exports=i},function(t,e,n){"use strict";var i,r=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},s=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),o=[];function a(t){for(var e=-1,n=0;n<o.length;n++)if(o[n].identifier===t){e=n;break}return e}function u(t,e){for(var n={},i=[],r=0;r<t.length;r++){var s=t[r],u=e.base?s[0]+e.base:s[0],l=n[u]||0,c="".concat(u," ").concat(l);n[u]=l+1;var h=a(c),A={css:s[1],media:s[2],sourceMap:s[3]};-1!==h?(o[h].references++,o[h].updater(A)):o.push({identifier:c,updater:f(A,e),references:1}),i.push(c)}return i}function l(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var r=n.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var o=s(t.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}return e}var c,h=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function A(t,e,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=h(e,r);else{var s=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(s,o[e]):t.appendChild(s)}}function d(t,e,n){var i=n.css,r=n.media,s=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var m=null,p=0;function f(t,e){var n,i,r;if(e.singleton){var s=p++;n=m||(m=l(e)),i=A.bind(null,n,s,!1),r=A.bind(null,n,s,!0)}else n=l(e),i=d.bind(null,n,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=r());var n=u(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var r=a(n[i]);o[r].references--}for(var s=u(t,e),l=0;l<n.length;l++){var c=a(n[l]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}n=s}}}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var r=(o=i,a=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(u," */")),s=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[n].concat(s).concat([r]).join("\n")}var o,a,u;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(i)for(var s=0;s<this.length;s++){var o=this[s][0];null!=o&&(r[o]=!0)}for(var a=0;a<t.length;a++){var u=[].concat(t[a]);i&&r[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},function(t,e,n){"use strict";t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},function(t,e,n){t.exports=n.p+"a6707143c08357a98c345854736fb894.ttf"},function(t,e,n){t.exports=n.p+"8a36205bd9b83e03af0591a004bc97f4.ttf"},function(t,e,n){t.exports=n.p+"b8e42971dec8d49207a8c8e2b919a6ac.ttf"},function(t,e,n){t.exports=n.p+"881e150ab929e26d1f812c4342c15a7c.ttf"},function(t,e,n){t.exports=n.p+"0134dd8fe6fe708de73909a71d842780.ttf"},function(t,e,n){t.exports=n.p+"e38804ae070b58fbf4fdd88fd6853929.ttf"},function(t,e,n){t.exports=n.p+"905c2728284a6b881d4e417b80f1e79d.ttf"},function(t,e,n){"use strict";var i,r,s,o=n(26),a="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function u(){s=!1}function l(t){if(t){if(t!==i){if(t.length!==a.length)throw new Error("Custom alphabet for shortid must be "+a.length+" unique characters. You submitted "+t.length+" characters: "+t);var e=t.split("").filter((function(t,e,n){return e!==n.lastIndexOf(t)}));if(e.length)throw new Error("Custom alphabet for shortid must be "+a.length+" unique characters. These characters were not unique: "+e.join(", "));i=t,u()}}else i!==a&&(i=a,u())}function c(){return s||(s=function(){i||l(a);for(var t,e=i.split(""),n=[],r=o.nextValue();e.length>0;)r=o.nextValue(),t=Math.floor(r*e.length),n.push(e.splice(t,1)[0]);return n.join("")}())}t.exports={get:function(){return i||a},characters:function(t){return l(t),i},seed:function(t){o.seed(t),r!==t&&(u(),r=t)},lookup:function(t){return c()[t]},shuffled:c}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){var n,i,r=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(t){n=s}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(t){i=o}}();var u,l=[],c=!1,h=-1;function A(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&d())}function d(){if(!c){var t=a(A);c=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new m(t,e)),1!==l.length||c||a(d)},m.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){var i=n(24);t.exports=function(t){return this.func=t,this.fps=60,this.cap=1e3,new i(t=>{"number"==typeof this.cap&&(t=Math.min(t,this.cap)),t={ms:t,s:t/1e3,f:t/(1e3/this.fps)},this.func(t)})}},function(t){t.exports=JSON.parse('[{"playlistId":"PLV8C9t518pCL4Qe7ONLcMahStyQlUnF65","title":"D&D - Deco Party - Swinging","musics":[{"youtubeId":"gr_vRINFQxo","title":"06. OH1 - In The Mood (Reimagined) (\\"Hollywood\\" Official Trailer Music)","thumbnailUrl":"https://i.ytimg.com/vi/gr_vRINFQxo/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDCv2C9ffaBpSTUCr56O26Bj7txKQ","duration":174000},{"youtubeId":"59kJrxWpCb0","title":"Skeewiff & Charles Shavers - Close Shave","thumbnailUrl":"https://i.ytimg.com/vi/59kJrxWpCb0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCLwLbdQq5zZXI5U3suGYjan-Jztg","duration":214000},{"youtubeId":"zWLAbNHn5Ho","title":"LACKADAISY - Jazz Cat Dance Loop","thumbnailUrl":"https://i.ytimg.com/vi/zWLAbNHn5Ho/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAAF76Kh71XA28vAnmkgUBOro3kZA","duration":728000},{"youtubeId":"9oansGOr1YE","title":"Sing Sing Sing - Benny Goodman (Mellisan Electro Swing Remix)","thumbnailUrl":"https://i.ytimg.com/vi/9oansGOr1YE/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAkFVQEHeYZSr_pkd4u0Vy0uW7BHA","duration":201000},{"youtubeId":"inHbha2nyPs","title":"Caravan Palace - Dragons","thumbnailUrl":"https://i.ytimg.com/vi/inHbha2nyPs/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLC2btzmBYaX_dkEjcIPi1BMmaWMMQ","duration":246000},{"youtubeId":"SJOk1_suml8","title":"Tit for Tat [Instrumental] | By The Swingrowers","thumbnailUrl":"https://i.ytimg.com/vi/SJOk1_suml8/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYFCBlKEQwDw==&rs=AOn4CLDDunIThO5tpxnbrSxBmJ96gwyRkQ","duration":247000},{"youtubeId":"PCAL1PtWpLQ","title":"Butterfly (Instrumental)","thumbnailUrl":"https://i.ytimg.com/vi/PCAL1PtWpLQ/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBflXduZEkB95KJxtCEnCKroEhwWw","duration":221000},{"youtubeId":"FPjJW5iTFN0","title":"Caravan Palace - Beatophone","thumbnailUrl":"https://i.ytimg.com/vi/FPjJW5iTFN0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBGGOeuS-OuNiXXSflmuVu3wqUHxQ","duration":235000},{"youtubeId":"Wknm50I53Q4","title":"Music Electromix swing - frog party to cheer you up","thumbnailUrl":"https://i.ytimg.com/vi/Wknm50I53Q4/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYZSBcKDEwDw==&rs=AOn4CLD12t3_SoRCSaGtImxxBsPceO7uwA","duration":2039000},{"youtubeId":"yebo5ILBMC0","title":"Caravan Palace - Clash","thumbnailUrl":"https://i.ytimg.com/vi/yebo5ILBMC0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLACrBK7MFjEVzY4jbeun7uGgZ4o9A","duration":254000},{"youtubeId":"Xx4L78jm8wk","title":"Caravan Palace - Suzy","thumbnailUrl":"https://i.ytimg.com/vi/Xx4L78jm8wk/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLC7l8MDMpDnUznXOxvVEtC91fWpig","duration":253000},{"youtubeId":"JKPD8jChw94","title":"Swingrowers - Midnight ( Halloween Music Video ) Vintage Cartoon","thumbnailUrl":"https://i.ytimg.com/vi/JKPD8jChw94/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLA_mh0cEoSH7GvfU6Qqe4VrcEqaNQ","duration":223000},{"youtubeId":"EVqJhIkXwa8","title":"[Electro Swing] Dj Quads - Poker Nights [No Copyright Music] , Non-Copyrighted Music, Vlog Music","thumbnailUrl":"https://i.ytimg.com/vi/EVqJhIkXwa8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAM_S6BJEA3XC1YEHFtyZnYKLSaYg","duration":195000},{"youtubeId":"kQylqZn8PQk","title":"[Electro Swing] Peggy Suave - Braxel Brobots","thumbnailUrl":"https://i.ytimg.com/vi/kQylqZn8PQk/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD3a1v_8Nw2xZklK3p1Wi710bBz8A","duration":158000},{"youtubeId":"76WTMObyTmA","title":"[Electro Swing] Peggy Suave - Route 66","thumbnailUrl":"https://i.ytimg.com/vi/76WTMObyTmA/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDMs4JFuc92IYhhorRs_LzW9aMkZA","duration":184000},{"youtubeId":"u22hENEd6ns","title":"[Electro Swing] Louis Jordan - Is You Is or Is You Ain\'t My Baby (Peggy Suave Remix)","thumbnailUrl":"https://i.ytimg.com/vi/u22hENEd6ns/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLC3DUIgA50R-0StsB30dIsRy0Lbig","duration":198000},{"youtubeId":"Ni2PSh0N_58","title":"[Electro Swing] Peggy Suave - Tellin\' & Posin\'","thumbnailUrl":"https://i.ytimg.com/vi/Ni2PSh0N_58/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCkddU8BCXXAVNOhhIdj3fCLcedww","duration":188000},{"youtubeId":"fQ8q6p_avU8","title":"[Electro Swing] Peggy Suave - Keep A-Knockin\'","thumbnailUrl":"https://i.ytimg.com/vi/fQ8q6p_avU8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCKkWfB7-1wOBV7eBNnfbgnlPol_w","duration":176000},{"youtubeId":"TtXMeMR81q4","title":"[Electro Swing] Peggy Suave - Posin\'","thumbnailUrl":"https://i.ytimg.com/vi/TtXMeMR81q4/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYZSBaKE8wDw==&rs=AOn4CLCIqw7AZ9EKDta_xg5bDeaLM7qrxg","duration":171000},{"youtubeId":"2c1iSpk3u1A","title":"Trainwreck Of Electro Swing - A Hat In Time Remix","thumbnailUrl":"https://i.ytimg.com/vi/2c1iSpk3u1A/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLC0_n1k4EYCq3KMO1oqSiJoxMQdjg","duration":248000},{"youtubeId":"uZ6_ISALjcQ","title":"Swing Beats [Jazz Hop / Lo Fi / Chill Mix]","thumbnailUrl":"https://i.ytimg.com/vi/uZ6_ISALjcQ/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLA9fii1nGvQFmLXhPSBR_TzVTwQXA","duration":3150000},{"youtubeId":"ImiheoFMvkI","title":"Undertale Electro Swing Mix (5th Anniversary Special)","thumbnailUrl":"https://i.ytimg.com/vi/ImiheoFMvkI/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBhtthHp2NR30u79uUqyW4Rl8bHvA","duration":192000},{"youtubeId":"kszjdpUF0Js","title":"Cuphead OST - Closing Credits [Music]","thumbnailUrl":"https://i.ytimg.com/vi/kszjdpUF0Js/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBd3oWg1--VKyii1XISnadmoikBmg","duration":431000},{"youtubeId":"9N4airsRCV0","title":"Cuphead OST - Porkrind\'s Shop [Music]","thumbnailUrl":"https://i.ytimg.com/vi/9N4airsRCV0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAJb-ogduYXoCQWWtYb-unZxxlFtA","duration":136000},{"youtubeId":"T8RnpyjepTA","title":"[Electro Swing] ExoNova - Electro Swingity [No Copyright Music]","thumbnailUrl":"https://i.ytimg.com/vi/T8RnpyjepTA/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCUVBBffgpdMuR9w93A9si1V8Ku-A","duration":199000},{"youtubeId":"RIpvosIjsl4","title":"[Electro Swing] Wat Dat Dee [No Copyright Music]","thumbnailUrl":"https://i.ytimg.com/vi/RIpvosIjsl4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCNseVQLfOMJs-ld6swri4ANCsKNA","duration":201000},{"youtubeId":"tG9EEkg4Tlk","title":"[Electro Swing] TeknoAxe - Piccolo and a Cane [No Copyright Music]","thumbnailUrl":"https://i.ytimg.com/vi/tG9EEkg4Tlk/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCN4j24Q4w4ChfWPlrYqonDGtNM3A","duration":205000},{"youtubeId":"ot5s6WEgT-s","title":"OC ReMix #792: Donkey Kong Country \'Stray Donkey Strut\' [DK Island Swing] by djpretzel","thumbnailUrl":"https://i.ytimg.com/vi/ot5s6WEgT-s/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDT5pv27fv1QzlI42_ZLXIxwZe2Rw","duration":213000},{"youtubeId":"nw6EkI_AHDA","title":"Death by Glamour (Undertale) Jazz Cover (ft. The Consouls)","thumbnailUrl":"https://i.ytimg.com/vi/nw6EkI_AHDA/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLA-KNuzUSwjAFEhd34e_7uPWR1ZUg","duration":285000},{"youtubeId":"AtZF6J8edgk","title":"Charleston Fizz","thumbnailUrl":"https://i.ytimg.com/vi/AtZF6J8edgk/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDVoOxaR8yXKxtUVACdO4VTxLg9CA","duration":105000},{"youtubeId":"ZYKLV0ZiSgI","title":"1920s Vintage Tea Party Music | One hour chilled Mixtape | Gatsby Party Music","thumbnailUrl":"https://i.ytimg.com/vi/ZYKLV0ZiSgI/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCRYpFdLPmH-wPK-wtXUjDpdPYOoQ","duration":3659000},{"youtubeId":"MIGtoEbYL70","title":"Dr. SaxLove\'s Cocktail Party Mix | Relaxing Jazz Instrumental Dinner Parties, Restaurants, Studying","thumbnailUrl":"https://i.ytimg.com/vi/MIGtoEbYL70/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDHBXE7yGZx4AjL40E4tD97vYp13A","duration":13768000},{"youtubeId":"G-sRJqmkUM8","title":"The Villian I Appear To Be Instrumetal","thumbnailUrl":"https://i.ytimg.com/vi/G-sRJqmkUM8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCkCA_K2wUIHXQja8GcAhkswFsrQg","duration":187000},{"youtubeId":"PG8kv9SE-LM","title":"Sunset Rose Cocktail (Original Lackadaisy Animated Short Soundtrack)","thumbnailUrl":"https://i.ytimg.com/vi/PG8kv9SE-LM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLA9bYffFv4rgcu_q-3176OeBYh8gw","duration":116000},{"youtubeId":"kgu36qpS8v0","title":"Feathers N Fringe (Original Lackadaisy Animated Short Soundtrack)","thumbnailUrl":"https://i.ytimg.com/vi/kgu36qpS8v0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLC0v5uNxACDD1nG4ew5Hjatw0ai_Q","duration":66000},{"youtubeId":"ouNJdh6OWpE","title":"Olive Branch (Original Lackadaisy Animated Short Soundtrack)","thumbnailUrl":"https://i.ytimg.com/vi/ouNJdh6OWpE/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD4fZ1oYQWOXuhJUGy_tHpy8vy-dQ","duration":315000},{"youtubeId":"vVtLc8IXtvA","title":"Skeewiff & Frank Melrose - Moscow Mule","thumbnailUrl":"https://i.ytimg.com/vi/vVtLc8IXtvA/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLA1LmTKkuiBMudv6oMLgpPin_uq_A","duration":127000},{"youtubeId":"5thHOodP8qk","title":"Posin (Club Mix)","thumbnailUrl":"https://i.ytimg.com/vi/5thHOodP8qk/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDAyicik6ACM3V3u5NO1g7VPVczJQ","duration":294000}]},{"playlistId":"PLV8C9t518pCJ971z_P8AftPnswfjTp4pC","title":"D&D - Deco Party - Combat","musics":[{"youtubeId":"habQUBdSYI4","title":"Enchanting Grom Fright but it\'s electroswing","thumbnailUrl":"https://i.ytimg.com/vi/habQUBdSYI4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBqSEN1iE5Jp8JKMvSIoNOCeGAU9A","duration":121000},{"youtubeId":"_F5459jCtuM","title":"Baccano - Guns & Roses","thumbnailUrl":"https://i.ytimg.com/vi/_F5459jCtuM/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4EgALgA4oCDAgAEAEYciBbKDowDw==&rs=AOn4CLAQOGF9y2SzI7THcnxyqU_UPAvUVg","duration":255000},{"youtubeId":"_2B5BiZt6HI","title":"Gurren Lagann OST Disc 1 - 04 - Boota Dreams of Spirals! / Butamogura ha Rasen no Yume wo Miru ka?..","thumbnailUrl":"https://i.ytimg.com/vi/_2B5BiZt6HI/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDlgWTneHPINf9lSEfcdkziQKYFpQ","duration":183000},{"youtubeId":"lRgN6FB3V88","title":"Gurren Lagann OST Disc 1 - 05 - Boobs vs Boobs / Boin VS Boin / ボイン VS ボイン","thumbnailUrl":"https://i.ytimg.com/vi/lRgN6FB3V88/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD13mVeXBwNaOtZVRnScTjigN5u4A","duration":197000},{"youtubeId":"5y1lp540t_c","title":"Cuphead OST - Railroad Wrath [Music]","thumbnailUrl":"https://i.ytimg.com/vi/5y1lp540t_c/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLC8o4Zdtrh5iYbjIE0w5Uk8ymz8Vw","duration":256000},{"youtubeId":"ddon3hc2MrE","title":"KATSUO ONO ( Detective Conan-OST 1) official MAIN THEME","thumbnailUrl":"https://i.ytimg.com/vi/ddon3hc2MrE/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCIZA88R3SZD8bMdl1wiRpp-GHuFQ","duration":154000},{"youtubeId":"XORwfYUH23Y","title":"Cuphead OST - Carnival Kerfuffle [Music]","thumbnailUrl":"https://i.ytimg.com/vi/XORwfYUH23Y/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYciBlKBQwDw==&rs=AOn4CLAQ4I2LVzEeinAbXn_1Kxr9lpAyKA","duration":240000},{"youtubeId":"MUTMw7rEsDk","title":"Cowboy Bebop OST 1 - Too Good Too Bad","thumbnailUrl":"https://i.ytimg.com/vi/MUTMw7rEsDk/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Ab4CgALwAYoCDAgAEAEYfyATKCMwDw==&rs=AOn4CLD5q5W2noWnuCSfj7SWyaxkH_MDTA","duration":156000},{"youtubeId":"l8wWa3O9cUo","title":"Cowboy Bebop OST 1 - Rush","thumbnailUrl":"https://i.ytimg.com/vi/l8wWa3O9cUo/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Ab4CgALwAYoCDAgAEAEYfyATKCUwDw==&rs=AOn4CLBnw1fIF8GzE_Hw5SWvse1uCKaRPg","duration":216000},{"youtubeId":"81m8_5mccgA","title":"Cowboy Bebop OST 1 - Piano Black","thumbnailUrl":"https://i.ytimg.com/vi/81m8_5mccgA/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDNBGwG0-_3u954KFEmDhIFgsrGlw","duration":169000},{"youtubeId":"EuAzPR0ACVw","title":"Cowboy Bebop OST 1 - Bad Dog No Biscuits","thumbnailUrl":"https://i.ytimg.com/vi/EuAzPR0ACVw/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Ab4CgALwAYoCDAgAEAEYfyATKCUwDw==&rs=AOn4CLB7lHDttoTrmkYQiVvxg0ZBffOv9g","duration":252000},{"youtubeId":"_TUTmtEq36M","title":"Skullgirls OST #03 - Pedestrians Crossing","thumbnailUrl":"https://i.ytimg.com/vi/_TUTmtEq36M/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLApVAlnJZ2ceB6DiLHzrdgv0RsrSw","duration":215000},{"youtubeId":"kVVu3xkp5p0","title":"Hades - Rage of the Myrmidons","thumbnailUrl":"https://i.ytimg.com/vi/kVVu3xkp5p0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAackIQEIRZVXmnzGJN_YIMpSeT5w","duration":558000},{"youtubeId":"6-aexLJKwME","title":"Bastion Soundtrack - Terminal March","thumbnailUrl":"https://i.ytimg.com/vi/6-aexLJKwME/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAKHybRtvTvG0gnjpCy3Gjq4dLD_Q","duration":246000},{"youtubeId":"cVukkhUI-xM","title":"Hades - God of the Dead","thumbnailUrl":"https://i.ytimg.com/vi/cVukkhUI-xM/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYfyAnKEQwDw==&rs=AOn4CLAwaX14JairIFor7x05wJRpF62g6Q","duration":542000}]},{"playlistId":"PLV8C9t518pCLk5FQ49Zxkd3zO-mwkISLg","title":"D&D - Deco Party - Quiet Room","musics":[{"youtubeId":"HMnrl0tmd3k","title":"Turnabout Jazz Soul - Track 8 - Godot - The Fragrance of Dark Coffee","thumbnailUrl":"https://i.ytimg.com/vi/HMnrl0tmd3k/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4EgALgA4oCDAgAEAEYciBJKDcwDw==&rs=AOn4CLB1oEVozU14W3U6Q-I40Fqfl6hkjw","duration":354000},{"youtubeId":"IdAJ2dqVxPU","title":"OC ReMix #2153: Professor Layton \'Luke, a True Gentleman Prefers a Touch of Light Jazz\' [Puzzles]","thumbnailUrl":"https://i.ytimg.com/vi/IdAJ2dqVxPU/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCnl7vmEr9kWV_I6-0a0Fhk1Tyqag","duration":124000},{"youtubeId":"QlESBEfKX2o","title":"Six Clones Play Faron Woods (Zelda: Twilight Princess) on Baroque Instruments","thumbnailUrl":"https://i.ytimg.com/vi/QlESBEfKX2o/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLB5tttflHPgvjWl24EbfyesD5awUw","duration":255000},{"youtubeId":"TnceR61jPdQ","title":"The Legend of Zelda: Breath of the Wild **in BAROQUE STYLE** Prince Sidon\'s theme cover","thumbnailUrl":"https://i.ytimg.com/vi/TnceR61jPdQ/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDRRteU7nBxHE-b0XmbKC6d2EKKWQ","duration":168000},{"youtubeId":"OsPHpx0k7n8","title":"Zelda Breath of the Wild: Rito Village Jazz Arrangement || insaneintherainmusic (ft. Alex Heflin)","thumbnailUrl":"https://i.ytimg.com/vi/OsPHpx0k7n8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLADraGnzWuWJc_5-iTN797a7WpCLA","duration":434000},{"youtubeId":"k-2a8L7tttQ","title":"The Fragrance of Dark Coffee (Phoenix Wright Ace Attorney: Trials and Tribulations) Jazz Cover","thumbnailUrl":"https://i.ytimg.com/vi/k-2a8L7tttQ/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCw9yby57Jh-ReU_NBXXCf1mwc9NQ","duration":289000},{"youtubeId":"qQmpEvUWluw","title":"Noir Jazz Cafe 10 Hours - Dark Jazz Saxophone and Piano Music","thumbnailUrl":"https://i.ytimg.com/vi/qQmpEvUWluw/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD5qTyOJzmBF4jB64BcN_9ocg50Hw","duration":36001000},{"youtubeId":"zFOLTm9VODg","title":"The Great Sea (The Legend of Zelda: The Wind Waker) Jazz Cover","thumbnailUrl":"https://i.ytimg.com/vi/zFOLTm9VODg/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAkGMJxCgvyol740ywd7e6-aG6Vsg","duration":334000},{"youtubeId":"D85N8g73cIo","title":"Jazz for Wine Tasting - Hypnotic Ambient","thumbnailUrl":"https://i.ytimg.com/vi/D85N8g73cIo/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4AdQGgALgA4oCDAgAEAEYfyATKBcwDw==&rs=AOn4CLAO6VDcMaqKiZ7jOtuZJ25t62BGyw","duration":187000},{"youtubeId":"uPtgwqB0ZYQ","title":"Eterna City - Pokemon DPPt - ft. TeraCMusic | Piano and Violin Jazz Cover","thumbnailUrl":"https://i.ytimg.com/vi/uPtgwqB0ZYQ/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCcUDtas7zkDLOnXXZnzHOTpzZsSQ","duration":228000},{"youtubeId":"G94fRfVzr8M","title":"07 Surfycove (Surf / Lilycove City) - Back to Your Littleroots [Pokémon Jazz Album]","thumbnailUrl":"https://i.ytimg.com/vi/G94fRfVzr8M/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDFrYYoVjTzv5rbiQfwA68tdleJig","duration":391000},{"youtubeId":"ryueeaPHXeo","title":"05 Spinda\'s Lament (Route 113) - Back to Your Littleroots [Pokémon Jazz Album]","thumbnailUrl":"https://i.ytimg.com/vi/ryueeaPHXeo/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAj1DJcSkZ2I6kF38GK6hQup11cLQ","duration":320000},{"youtubeId":"RdfPMadOyw0","title":"Persona 5: Last Surprise - Jazz Cover || insaneintherainmusic (feat. Adrisaurus, Brandon S & Chris A","thumbnailUrl":"https://i.ytimg.com/vi/RdfPMadOyw0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLB-VV-p_74T2OEqE7wmmSP46y9zIg","duration":363000},{"youtubeId":"2uxjG6-1lXc","title":"Persona 5: Life Will Change - Jazz Cover || insaneintherainmusic","thumbnailUrl":"https://i.ytimg.com/vi/2uxjG6-1lXc/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAa_BQJMSlnz6ttH6jjvMcen9MDlw","duration":330000},{"youtubeId":"eDhB8JLNDfA","title":"Pallet Town (Pokémon Red/Blue/Yellow) Jazz Ballad Cover - The Consouls","thumbnailUrl":"https://i.ytimg.com/vi/eDhB8JLNDfA/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAfvDow9Oe_LmNZojMJBNAwZm_eNw","duration":265000},{"youtubeId":"M5Ee6eGppic","title":"National Park - Pokémon GSC | Jazz Cover","thumbnailUrl":"https://i.ytimg.com/vi/M5Ee6eGppic/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAkoGp2D93HmojSxHJOOV-Ie4ABEA","duration":329000},{"youtubeId":"z08Fyx9VCOY","title":"The OneUps - Kirby\'s Dream Land - Green Greens","thumbnailUrl":"https://i.ytimg.com/vi/z08Fyx9VCOY/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAPNaxWLFiCLLsbbThkLHJZ2BzLPQ","duration":288000},{"youtubeId":"-4OxmD4AocU","title":"Relaxing The Legend of Zelda Jazz Covers","thumbnailUrl":"https://i.ytimg.com/vi/-4OxmD4AocU/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCJqEFg5iOfzIoOGdhAZ-ZayM8pGQ","duration":1944000},{"youtubeId":"Q4Lu_fM0VAs","title":"Paul-Marie Barbier - Suzy (Caravan Palace piano solo version)","thumbnailUrl":"https://i.ytimg.com/vi/Q4Lu_fM0VAs/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD8Cdr7IrnVgCZyoFOXmMX1uStZ2A","duration":88000}]},{"playlistId":"PLV8C9t518pCK5neTfe-vosWJtfvC_nZ6M","title":"D&D - Happy Town","musics":[{"youtubeId":"unwK1X_TGsc","title":"Two Hornpipes (Tortuga)","thumbnailUrl":"https://i.ytimg.com/vi/unwK1X_TGsc/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCpFLdjZKqKNcdjKi9IHFd_hLAQdA","duration":75000},{"youtubeId":"exDcam6hcv0","title":"The Lord of the Rings: The Fellowship of the Ring CR - 05. Flaming Red Hair","thumbnailUrl":"https://i.ytimg.com/vi/exDcam6hcv0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAO0Ep3Iu7eEVgqLDfdlW-RIHB-Ow","duration":162000},{"youtubeId":"KMSyUFf9scM","title":"Galerie Miiverse - The Legend of Zelda Tri Force Heroes OST","thumbnailUrl":"https://i.ytimg.com/vi/KMSyUFf9scM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDimCGY-151wrDxNA61DxFPhbQeGg","duration":76000},{"youtubeId":"zHvOPjAfyng","title":"A Walk in the Shire (Extended) - The Hobbit (2003) Complete Soundtrack","thumbnailUrl":"https://i.ytimg.com/vi/zHvOPjAfyng/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLB1NJQ2vPv8rmXA6P9jDlCtbd_sZg","duration":199000},{"youtubeId":"YgonBcUQ-hI","title":"Bravely Default - Flying Fairy OST - 33 Foolish Event","thumbnailUrl":"https://i.ytimg.com/vi/YgonBcUQ-hI/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCJozwKIbKuwWj8_8NhpBd0ML9Ebg","duration":132000},{"youtubeId":"HR4aGGPVS8E","title":"TLOZelda Minish Cap Remaster - Hyrule Town","thumbnailUrl":"https://i.ytimg.com/vi/HR4aGGPVS8E/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCP_JptQeouckMlIvO9hY6PAVeuqg","duration":240000},{"youtubeId":"XouGQoIqBh8","title":"Windfall Island (Wind Waker Cover by ROZEN) - Ballads of Hyrule II","thumbnailUrl":"https://i.ytimg.com/vi/XouGQoIqBh8/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4AdQGgALgA4oCDAgAEAEYQSBkKGUwDw==&rs=AOn4CLDhKvKyohoumG864xGY0YA-cI6_2g","duration":134000},{"youtubeId":"9Mi7NUIpLA8","title":"Hearthstone Main Theme (Gingertail Cover)","thumbnailUrl":"https://i.ytimg.com/vi/9Mi7NUIpLA8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDgSEcnXQ9SUkndgKc98rl4Dxnx1w","duration":135000},{"youtubeId":"OfFvXcVzh4k","title":"Autumn Leaves - Rom Draculas ft. Jun-Hyuk Choi","thumbnailUrl":"https://i.ytimg.com/vi/OfFvXcVzh4k/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAGjg-TsbDIZXo8sKGo052Bvtef7Q","duration":202000},{"youtubeId":"hDJk2tVhOV0","title":"Harvest Moon: Back to Nature ~ Summer ~ OST","thumbnailUrl":"https://i.ytimg.com/vi/hDJk2tVhOV0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAS2nP5OWTBfXiKxMcf_estxha6qg","duration":72000},{"youtubeId":"n7sDUAALYSM","title":"Stardew Valley OST - Summer (Tropicala)","thumbnailUrl":"https://i.ytimg.com/vi/n7sDUAALYSM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDjhPUBUkT1LAmmUeNMfaa7p5rkrA","duration":205000},{"youtubeId":"k0nqXeM-sns","title":"Stardew Valley OST - Summer (Nature\'s Crescendo)","thumbnailUrl":"https://i.ytimg.com/vi/k0nqXeM-sns/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCVDz6284EoV5uYpYZfw_plUCDrxA","duration":211000},{"youtubeId":"zaQffIhk2Z8","title":"Donkey Kong Country 2 - Snakey Chantey | Orchestral Remix","thumbnailUrl":"https://i.ytimg.com/vi/zaQffIhk2Z8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAls7b2oCOkBAapQxio4sx6BWRcbw","duration":153000},{"youtubeId":"FrwGamDEt8U","title":"Better When I\'m Dancin\' (Instrumental Version)","thumbnailUrl":"https://i.ytimg.com/vi/FrwGamDEt8U/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLB-H5VUOGvE7IRG7a-wZ9MKCdN70w","duration":179000}]},{"playlistId":"PLV8C9t518pCLyWc9EN0uhUT5SCo4iCC-M","title":"D&D - Somber Quiet","musics":[{"youtubeId":"uR3BgLZp5ME","title":"Owl Temple - It Is The Nature Of Dreams To End #06 - Reeder","thumbnailUrl":"https://i.ytimg.com/vi/uR3BgLZp5ME/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLB_9K2BlQaWJmwVNmAvtYCBLHd-yw","duration":163000},{"youtubeId":"ibqB1zfru74","title":"Petite Princess Yucie OST - 06 \\"Legend Of The Eternal Tiara\\"","thumbnailUrl":"https://i.ytimg.com/vi/ibqB1zfru74/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLA-PO8ITG-7FLYrr6CUQLhVzqpfKg","duration":199000},{"youtubeId":"mzcugB2RuUU","title":"Avatar\'s Love","thumbnailUrl":"https://i.ytimg.com/vi/mzcugB2RuUU/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCx9_QjUn1Dpi0W08LnoWuEXzlrjQ","duration":206000},{"youtubeId":"9AfYK1fKngU","title":"Finding Nemo/Finding Dory Trailer Soundtrack - Nemo Egg (Extended Version)","thumbnailUrl":"https://i.ytimg.com/vi/9AfYK1fKngU/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYOiBkKHIwDw==&rs=AOn4CLCPmgjc1ZAfmksKwU9yZLV7ZIYsyQ","duration":189000},{"youtubeId":"NzfxAL3AjNs","title":"TPR - Farewell Hyrule King - A Melancholy Tribute To The Legend Of Zelda: The Wind Waker","thumbnailUrl":"https://i.ytimg.com/vi/NzfxAL3AjNs/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAG_5v-kAVPmRAHdSU8NaD572RFkw","duration":231000},{"youtubeId":"_qw3dgsAX-E","title":"Aquaria OC ReMix by Ryan Davis Music: \\"Immemorial Waters\\" [Undiscovered Waters] (#4348)","thumbnailUrl":"https://i.ytimg.com/vi/_qw3dgsAX-E/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYHiAmKH8wDw==&rs=AOn4CLCe519p1SqDfAVx2ymz6swCe8IL4Q","duration":418000},{"youtubeId":"yJzxJk33ZAQ","title":"My Name Is Kino Loy","thumbnailUrl":"https://i.ytimg.com/vi/yJzxJk33ZAQ/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBCQrPH4CZwflt-VtuiT8OwFaZmCA","duration":256000},{"youtubeId":"yJl7U-8ougw","title":"Epilogue - To Good Friends (Chrono Trigger Symphony Volume 3)","thumbnailUrl":"https://i.ytimg.com/vi/yJl7U-8ougw/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAEVJp44XSeh0ZQuwIH6Z0HeBGm1g","duration":134000},{"youtubeId":"o231fOo8cNg","title":"One Piece OST - Mother Sea (First Part) [Extended Version]","thumbnailUrl":"https://i.ytimg.com/vi/o231fOo8cNg/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYZSBYKFMwDw==&rs=AOn4CLDMKBhnOLr-wQ1k0SxIXTyqc6oESg","duration":205000},{"youtubeId":"j9zIeQizeL4","title":"Stoick\'s Ship (How To Train Your Dragon) | EPIC CINEMATIC VERSION","thumbnailUrl":"https://i.ytimg.com/vi/j9zIeQizeL4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCwmNXkp6Roa4ZxkJ7rshLXwzqc6Q","duration":221000},{"youtubeId":"TZqoGOqgAI4","title":"One Day + Davy Jones Theme - Pirates Of The Caribbean Medley - EPIC COVER (Violin and Erhu)","thumbnailUrl":"https://i.ytimg.com/vi/TZqoGOqgAI4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLADEfdenXZurIRqWVgqjdqB1eMf7w","duration":307000},{"youtubeId":"h-Y3A6EAIWk","title":"And We Got Older (Bonus Track)","thumbnailUrl":"https://i.ytimg.com/vi/h-Y3A6EAIWk/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDJg6wiUQZKYwt7ljlzBI4G9QP7rQ","duration":288000},{"youtubeId":"obrRMczIBmg","title":"TRIPLANE - Dear Friends (Instrumental)","thumbnailUrl":"https://i.ytimg.com/vi/obrRMczIBmg/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4AdgHgALQBYoCDAgAEAEYZSBLKEswDw==&rs=AOn4CLDsa_GxQ80AWH0d4A4sQpvLDVs1uQ","duration":273000},{"youtubeId":"UDVtMYqUAyw","title":"Interstellar Main Theme - Extra Extended - Soundtrack by  Hans Zimmer","thumbnailUrl":"https://i.ytimg.com/vi/UDVtMYqUAyw/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDK2IJkEUev50rUJn8EJhxRyJ1L_g","duration":776000},{"youtubeId":"2m9d4ae0Psg","title":"Journey - Original Game Soundtrack - \\"Apotheosis\\" by Austin Wintory [HD]","thumbnailUrl":"https://i.ytimg.com/vi/2m9d4ae0Psg/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDUAFUXIVAly3kOiJTSWXqFpFMSKA","duration":427000},{"youtubeId":"qBk_ZZQB2XU","title":"Picking Up the Pieces","thumbnailUrl":"https://i.ytimg.com/vi/qBk_ZZQB2XU/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAnF8nRGhH01MYduNMF6TrApo7tuw","duration":119000},{"youtubeId":"roAM0b3o6CU","title":"Julia - It Is The Nature Of Dreams To End #05 - Reeder","thumbnailUrl":"https://i.ytimg.com/vi/roAM0b3o6CU/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCq9WwAaqEEuzHVEuzC3peQZgF-7Q","duration":131000},{"youtubeId":"1b2zx6r-uIs","title":"The Avatar\'s Love -  Aang & Katara Theme | Avatar: The Last Airbender | Erhu cover by Eliott Tordo","thumbnailUrl":"https://i.ytimg.com/vi/1b2zx6r-uIs/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD7FPP3AuuJCIswKjo9iVJ0cfD7JQ","duration":139000},{"youtubeId":"-9Do--Q97lQ","title":"Emotional OST of the Day No. 60: Tengen Toppa Gurren Lagann - \'\'Omae no XXX de...\'\'","thumbnailUrl":"https://i.ytimg.com/vi/-9Do--Q97lQ/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAGOCEROFAkxXvH9unVccumQGQhaw","duration":78000},{"youtubeId":"KwntrSsGeDs","title":"Fire Emblem: The Blazing Blade - Reminiscence (Ninian\'s Theme) [Orchestrated]","thumbnailUrl":"https://i.ytimg.com/vi/KwntrSsGeDs/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBvVov-jq6SNjAQRkp1OOrtu9OOnw","duration":217000},{"youtubeId":"4CAhROR6JLM","title":"Love conservative","thumbnailUrl":"https://i.ytimg.com/vi/4CAhROR6JLM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCl41Vjd8VuVufwQu4CTrZ_KMTEMQ","duration":253000},{"youtubeId":"EnySPo_5fx4","title":"scott pilgrim\'s fairy fountain ( slowed | pitched )","thumbnailUrl":"https://i.ytimg.com/vi/EnySPo_5fx4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAxjLemUi9djdoCgLLQSlVTG4Fc1g","duration":219000},{"youtubeId":"hIN-B271BTE","title":"Farewell - It Is The Nature Of Dreams To End #02 - Reeder","thumbnailUrl":"https://i.ytimg.com/vi/hIN-B271BTE/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLC2r9k09jP2nDfzmCtAVbbA8y3kkA","duration":146000},{"youtubeId":"1aQWSFLdsAg","title":"Cabin Music (Bonus Track)","thumbnailUrl":"https://i.ytimg.com/vi/1aQWSFLdsAg/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAJLEOOBtCJtj7dOXrHa8D-iCNz3w","duration":160000},{"youtubeId":"yofPjYpw3W0","title":"ludovico einaudi - experience (slowed + reverb)","thumbnailUrl":"https://i.ytimg.com/vi/yofPjYpw3W0/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYXyBfKF8wDw==&rs=AOn4CLCoyUJ_jtVn2pyHqsnjs7JWqkHixA","duration":360000},{"youtubeId":"wk92rqxfqGM","title":"Time - It Is The Nature Of Dreams To End #01 - Reeder","thumbnailUrl":"https://i.ytimg.com/vi/wk92rqxfqGM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLB9SCWjRx6KyPWUc6VlUWxZKj0Byw","duration":256000},{"youtubeId":"Yy8MEO_2AYo","title":"2: The Girl Who Fell from the Sky CitS OST","thumbnailUrl":"https://i.ytimg.com/vi/Yy8MEO_2AYo/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Ab4CgALwAYoCDAgAEAEYfyATKBMwDw==&rs=AOn4CLCe49ebFICtgc4zWcf0X090rxoM9w","duration":159000},{"youtubeId":"iwHHagLkmtE","title":"Demon Slayer Movie OST: Rengoku\'s Last Smile (Sad Theme)","thumbnailUrl":"https://i.ytimg.com/vi/iwHHagLkmtE/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD8s3Ip6k0TEy0IzPIIK_5V5SNmCg","duration":207000},{"youtubeId":"52rJvSni7vM","title":"Game of Thrones (Soundtrack): I am Hers, She is Mine","thumbnailUrl":"https://i.ytimg.com/vi/52rJvSni7vM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDzkc1Rz-N9yXaMLC_mzeG5hWdpRg","duration":139000},{"youtubeId":"wqOmlipOGe0","title":"Brave OST - 16 - Noble Maiden Fair (A Mhaighdean Bhan Uasal)","thumbnailUrl":"https://i.ytimg.com/vi/wqOmlipOGe0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDMCRDbeTQOVNBOIavUkjy0nU-hhQ","duration":158000},{"youtubeId":"izQsgE0L450","title":"Samuel Barber - Adagio for Strings","thumbnailUrl":"https://i.ytimg.com/vi/izQsgE0L450/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDRUhlimlrU_FyFzEkdifZbhCEpXw","duration":482000},{"youtubeId":"1rwAvUvvQzQ","title":"[Official] Celeste Original Soundtrack - 03 - Resurrections","thumbnailUrl":"https://i.ytimg.com/vi/1rwAvUvvQzQ/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYYCAuKH8wDw==&rs=AOn4CLA-0py9zNbsZB7p2tzxO5GqPsc05Q","duration":579000},{"youtubeId":"oFrfT1ULR3Q","title":"In and Out of Consciousness","thumbnailUrl":"https://i.ytimg.com/vi/oFrfT1ULR3Q/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLClxNrR1SfHfIkv1_7mOEbkStO_IQ","duration":171000},{"youtubeId":"W8r-Zv7xJjc","title":"Sad Anime Ost : Tsuki to Hoshi to A-Ta-Shi","thumbnailUrl":"https://i.ytimg.com/vi/W8r-Zv7xJjc/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCYcP65yG2TYGAWXfTTsdln9V5fgA","duration":182000},{"youtubeId":"Mm7DHztmPF8","title":"Zelda: Link\'s Awakening - Ballad of the Wind Fish feat. Amaterasu (Piano/Violin Cover)","thumbnailUrl":"https://i.ytimg.com/vi/Mm7DHztmPF8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD0K7ayUcRKK78ub67BgKiCskq1Dw","duration":165000},{"youtubeId":"wEWF2xh5E8s","title":"Naruto Soundtrack- Sadness and Sorrow (FULL VERSION)","thumbnailUrl":"https://i.ytimg.com/vi/wEWF2xh5E8s/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4EgALgA4oCDAgAEAEYZSBaKE4wDw==&rs=AOn4CLAMcOOaevDO1HjAjlv0tk6efPkw0A","duration":439000},{"youtubeId":"xDaG_tT3TBk","title":"Petrichor - At the End of Times, Nothing [HD]","thumbnailUrl":"https://i.ytimg.com/vi/xDaG_tT3TBk/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCShc06CYpsGqHFxeGEZq3-_pX6gQ","duration":222000},{"youtubeId":"MBi-FhTV8aQ","title":"CASTLE IN THE SKY -  Main Theme (Piano Cover)","thumbnailUrl":"https://i.ytimg.com/vi/MBi-FhTV8aQ/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLC36Itlcqj5xZUSzfx7-dZieMLuLA","duration":271000},{"youtubeId":"pS-gbqbVd8c","title":"Game of Thrones: Season 6 OST - Light of the Seven (EP 10 Trial scene)","thumbnailUrl":"https://i.ytimg.com/vi/pS-gbqbVd8c/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYZSBgKE0wDw==&rs=AOn4CLDcz585akDtqenu68Tf0AMhrhV-0w","duration":590000},{"youtubeId":"Dnm598Tk4Qo","title":"Goodbye (Official Instrumental) - Bo Burnham \\"Inside\\"","thumbnailUrl":"https://i.ytimg.com/vi/Dnm598Tk4Qo/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4OgAK4CIoCDAgAEAEYTSBKKHIwDw==&rs=AOn4CLBwR9sBtT9LZSe1a-NswkRp9cZtTQ","duration":247000},{"youtubeId":"Zmd2nbHP5kQ","title":"10 - Farewell, Traveller - Tower of Heaven Original Soundtrack","thumbnailUrl":"https://i.ytimg.com/vi/Zmd2nbHP5kQ/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAtholHwL_lSmckhxqEsYBwk0kEHw","duration":82000},{"youtubeId":"Go12Vf6aL60","title":"old enough to understand...","thumbnailUrl":"https://i.ytimg.com/vi/Go12Vf6aL60/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4AdQGgALgA4oCDAgAEAEYSCA6KH8wDw==&rs=AOn4CLBVGubxbFaIyFpsO2EV3PV83whifQ","duration":277000},{"youtubeId":"l7yi9AIfKdc","title":"The legend of Korra | To heal - Erhu cover #1","thumbnailUrl":"https://i.ytimg.com/vi/l7yi9AIfKdc/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBd3rpcrrCM5SwyPjEMv3Jzt9iaLw","duration":202000},{"youtubeId":"5kVe26XQXWo","title":"Service & Sacrifice (The Legend Of Korra OST Book 3)  - Emotional Erhu Cover by Eliott Tordo","thumbnailUrl":"https://i.ytimg.com/vi/5kVe26XQXWo/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBzCN2Gbkto2wcSaWURL4FaVHcn3w","duration":215000},{"youtubeId":"gMljATBd-p4","title":"The legend of Korra | Ending theme - Erhu cover #6","thumbnailUrl":"https://i.ytimg.com/vi/gMljATBd-p4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAQztF1MoEBrc67f6yRsRLidbYWCw","duration":171000},{"youtubeId":"9CQDhqHvn64","title":"The legend of Korra | Service and sacrifice - Erhu cover #3","thumbnailUrl":"https://i.ytimg.com/vi/9CQDhqHvn64/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAenpzH_cUQQz-diOhHu9FRkckpqg","duration":199000},{"youtubeId":"maDU9DdObYE","title":"The legend of Korra | Jinora\'s light - Erhu cover #2","thumbnailUrl":"https://i.ytimg.com/vi/maDU9DdObYE/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLA07fYjUaaHvcWdPyP-An7rcqWe0Q","duration":134000},{"youtubeId":"7RBKwLh-oZI","title":"The legend of Korra | A peaceful place - Erhu cover #0","thumbnailUrl":"https://i.ytimg.com/vi/7RBKwLh-oZI/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBQ70NJMvNA6-cGAROOQt78n1ss8w","duration":148000},{"youtubeId":"cH798GDNxR8","title":"The legend of Korra | Greatest changes - Erhu cover #5","thumbnailUrl":"https://i.ytimg.com/vi/cH798GDNxR8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAka08-tOxBzPl_UH_bZfHP9Oucww","duration":314000},{"youtubeId":"mFsQpCjRyvY","title":"Last Goodbye | D&D/TTRPG Music | 1 Hour","thumbnailUrl":"https://i.ytimg.com/vi/mFsQpCjRyvY/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYciBgKDwwDw==&rs=AOn4CLA0lXWK1mXGLuW0n-p7qXwNhZ5D_A","duration":3830000},{"youtubeId":"csmKUhxXTrA","title":"Pokémon: Evolutions - Sun and Moon Commercial Audio","thumbnailUrl":"https://i.ytimg.com/vi/csmKUhxXTrA/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDx-de4mdMpv8uDHGeAt1HkxtUNPQ","duration":71000},{"youtubeId":"wV5Hb1WxzqU","title":"Sword & Sworcery LP | The Maelstrom","thumbnailUrl":"https://i.ytimg.com/vi/wV5Hb1WxzqU/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBkCVNBNeBYSGHrLTtKX4fdNQeLtw","duration":117000},{"youtubeId":"Hf_me3X7YSE","title":"Golden Sun: Venus Lighthouse Arrangement","thumbnailUrl":"https://i.ytimg.com/vi/Hf_me3X7YSE/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLApvAkemkgV8ooFDZ2tYUZ10ewY6g","duration":300000},{"youtubeId":"x65Lk4HhVc4","title":"Achilles Come Down - Gang of Youths ( Slow version - Instrumental)","thumbnailUrl":"https://i.ytimg.com/vi/x65Lk4HhVc4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDE_GEzHiklp1nOQDjgFLJMN2WAvA","duration":527000}]},{"playlistId":"PLV8C9t518pCIQI83Emr6gLntePk57OYH1","title":"D&D - Peaceful Little Town","musics":[{"youtubeId":"chLZQtCold8","title":"Lord of the Rings - Sound of The Shire (Original)","thumbnailUrl":"https://i.ytimg.com/vi/chLZQtCold8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD6cqIpcKQOnaPsVaBaG-boAs9h_w","duration":819000},{"youtubeId":"fe2wAahCdcc","title":"Mabe Village - The Legend of Zelda: Link\'s Awakening | Piano Cover","thumbnailUrl":"https://i.ytimg.com/vi/fe2wAahCdcc/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDR7hbG3eE4r9Xtaq76pcayV4rKEw","duration":172000},{"youtubeId":"Ud1aRTnQZdk","title":"Peaceful Days Cover - Chrono Trigger","thumbnailUrl":"https://i.ytimg.com/vi/Ud1aRTnQZdk/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLA5MhV2QrkWPxT5tzJrKa_u2rWhqw","duration":229000},{"youtubeId":"VC1D1usCmho","title":"OC ReMix #2196: Pokémon Sapphire Version \'My Friend Mudkip\' [Dewford Town, Surfing] by halc","thumbnailUrl":"https://i.ytimg.com/vi/VC1D1usCmho/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCj_Wsmh7L46BvWwJazGElBhJOQfw","duration":199000},{"youtubeId":"iO7FlB_xpzw","title":"Dustforce music - \\"9-bit Expedition\\"","thumbnailUrl":"https://i.ytimg.com/vi/iO7FlB_xpzw/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBImsiQxOBiMK5gRXGMXFnXPv64-g","duration":180000},{"youtubeId":"BnAIt2dX9EQ","title":"Fate - Town 2/Good Morning To Your Nightcap / Behind the Haystack","thumbnailUrl":"https://i.ytimg.com/vi/BnAIt2dX9EQ/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAWeMx2xVYE8Ew9R05ndtOpKAr_tg","duration":324000},{"youtubeId":"WvBwA4j3HSQ","title":"Fate - Town 1/ The Clergy\'s Lamentation","thumbnailUrl":"https://i.ytimg.com/vi/WvBwA4j3HSQ/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBfmZqdBNPH3eZxwl9LUQJYZef7uw","duration":234000},{"youtubeId":"KcuLupcx174","title":"Kiki\'s Delivery Service - A Town Where You Can See The Ocean Music Box","thumbnailUrl":"https://i.ytimg.com/vi/KcuLupcx174/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCZ8R06-Rq0bUqmcWRY97n-uxdbLQ","duration":213000},{"youtubeId":"R51K9Gn3Nkw","title":"Pokemon G/S/C - National Park (Remix)","thumbnailUrl":"https://i.ytimg.com/vi/R51K9Gn3Nkw/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCSut9bD_LaEvHwnM16-J-CMzuQeA","duration":210000},{"youtubeId":"R0-Q17WChH0","title":"Stardew Valley OST - Settling In","thumbnailUrl":"https://i.ytimg.com/vi/R0-Q17WChH0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD0DAhNAOMK14K7FP51t34XEkA3iQ","duration":111000},{"youtubeId":"Qd96mpRuHtQ","title":"Stardew Valley OST - Fall (Ghost Synth)","thumbnailUrl":"https://i.ytimg.com/vi/Qd96mpRuHtQ/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDxBdYflDF2EgnKToqLlJpLc8E1Rw","duration":160000},{"youtubeId":"fI9QzlD_sm0","title":"Stardew Valley OST - Spring (The Valley Comes Alive)","thumbnailUrl":"https://i.ytimg.com/vi/fI9QzlD_sm0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCPF8WlY2beI6OlR4kIMVGhgTVPXw","duration":263000},{"youtubeId":"z_8YSubNZwM","title":"Avalon - a Celtic Legend (07 - The Round Table)","thumbnailUrl":"https://i.ytimg.com/vi/z_8YSubNZwM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLC9pp8ujjckcITaX9lNYkx5FsfMWQ","duration":290000},{"youtubeId":"MmbqeMTfoXs","title":"Super Mario RPG - Forest Maze Extended (15 Minutes)","thumbnailUrl":"https://i.ytimg.com/vi/MmbqeMTfoXs/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4EgALgA4oCDAgAEAEYfyAsKCAwDw==&rs=AOn4CLCqCcpVpS4ZbCQ9wflnsQDRzQtwSA","duration":897000},{"youtubeId":"qgUBNeGLPWs","title":"Whimsical Fantasy Music: \\"Fantasy Journey\\" by Crypt of Insomnia","thumbnailUrl":"https://i.ytimg.com/vi/qgUBNeGLPWs/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLA1wfgwR2kWDTLWybAYrqMbin0-lA","duration":141000},{"youtubeId":"sneCd-SN_T4","title":"Soldier, Poet, King - Cullen Vance","thumbnailUrl":"https://i.ytimg.com/vi/sneCd-SN_T4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLALdND9argWXYl1Aclsfpn_tcIbpg","duration":157000},{"youtubeId":"e0D9xOE7A6c","title":"\'Korok Forest\' - Zelda: Breath of the Wild","thumbnailUrl":"https://i.ytimg.com/vi/e0D9xOE7A6c/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAwGt2tMT7ql0Aor4vE3Jy-VQCQFQ","duration":101000}]},{"playlistId":"PLV8C9t518pCJq5EMcfJFUYfx7oEVDdRPV","title":"D&D - Optimistic Overworld","musics":[{"youtubeId":"kfy59wAbbd4","title":"Potionomics Main Theme","thumbnailUrl":"https://i.ytimg.com/vi/kfy59wAbbd4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCuqbom0KCpcbeehQYAGZ7J0J22QA","duration":100000},{"youtubeId":"hfiyMxIfqTQ","title":"Fire Emblem Heroes OST - Map (Prologue)","thumbnailUrl":"https://i.ytimg.com/vi/hfiyMxIfqTQ/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCdtAIqHB7l3SrbghNfplRPeSPQbg","duration":338000},{"youtubeId":"aBtz2glZNuw","title":"Adventuring Across Rafta","thumbnailUrl":"https://i.ytimg.com/vi/aBtz2glZNuw/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBmPxlCtlNnS57vB70WNMIOhc0GzQ","duration":138000},{"youtubeId":"05APBqE3TZo","title":"Fire Emblem Heroes OST - Map 2","thumbnailUrl":"https://i.ytimg.com/vi/05APBqE3TZo/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD9x8n_-mENggeyI_Fth7OSqxeFeQ","duration":329000},{"youtubeId":"NgpWhd80ldQ","title":"Bravely Default - Flying Fairy OST - 08 Land of Light and Shadow","thumbnailUrl":"https://i.ytimg.com/vi/NgpWhd80ldQ/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBC84hWSkKqRfAayR4C5lrBwdseIQ","duration":168000},{"youtubeId":"fZJPqrSCScc","title":"Générique - The Legend of Zelda Link\'s Awakening (Nintendo Switch) OST","thumbnailUrl":"https://i.ytimg.com/vi/fZJPqrSCScc/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAoAUDD3aDPN0ZJ96_PczmJoYSkMA","duration":223000},{"youtubeId":"vnk41KJ9afM","title":"World Map","thumbnailUrl":"https://i.ytimg.com/vi/vnk41KJ9afM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBSCqc8o3KOAghQvJu0xd9se1K4IA","duration":217000},{"youtubeId":"BZqWUyh1ugw","title":"Fire Emblem Three Houses - Fódlan Winds","thumbnailUrl":"https://i.ytimg.com/vi/BZqWUyh1ugw/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4EgALoAooCDAgAEAEYZSBZKEYwDw==&rs=AOn4CLDCIy68hgg0pp_OjNy0B7buklJQMQ","duration":332000},{"youtubeId":"keWPlHvFpj8","title":"Fire Emblem Heroes Soundtrack Home Menu/Castle","thumbnailUrl":"https://i.ytimg.com/vi/keWPlHvFpj8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDu85MW0BhGuKtx9xjGEqrZ0JnLhw","duration":301000},{"youtubeId":"reYVpE8KxZw","title":"Fire Emblem Fates - Dusk Falls","thumbnailUrl":"https://i.ytimg.com/vi/reYVpE8KxZw/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLC_38Wgc1NygeoyHKJY80B6rQTXDQ","duration":312000},{"youtubeId":"BVK-x0Gnbog","title":"The Legend of Zelda: Spirit Tracks - Realm Overworld [Remix]","thumbnailUrl":"https://i.ytimg.com/vi/BVK-x0Gnbog/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCIPhZw10EH_Y3XHX3TP_8pgnLarw","duration":264000},{"youtubeId":"PHlTZDdZ7dk","title":"Essence of Lime 1-06: Past, Present and Future Perfect (Overworld (Present)) [PROTODOME]","thumbnailUrl":"https://i.ytimg.com/vi/PHlTZDdZ7dk/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLA-6WcqL9qzL5xz_Z3Ud4uLug8cLg","duration":156000},{"youtubeId":"tv9SdT-Ipa4","title":"Strong Desire","thumbnailUrl":"https://i.ytimg.com/vi/tv9SdT-Ipa4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAToFXZJ7af15v8ATqcqqWZyj1mCQ","duration":138000},{"youtubeId":"zHnQ_m7eWDw","title":"Fire Emblem Fates OST ~Resolve (Dark)~ Prepare for Battle: Nohr","thumbnailUrl":"https://i.ytimg.com/vi/zHnQ_m7eWDw/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDsHPICiLJw48HNkAMT-lUY_aID5A","duration":307000},{"youtubeId":"sRvBX4mVo8c","title":"With Hammer and Hope | Sea of Thieves OST","thumbnailUrl":"https://i.ytimg.com/vi/sRvBX4mVo8c/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDfCS-k3P06pRDAhH0UoZpKNuP5DA","duration":208000},{"youtubeId":"rZ9Feac3Pf4","title":"The Eleventh Reel","thumbnailUrl":"https://i.ytimg.com/vi/rZ9Feac3Pf4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBOpTKbz-AD9mHlHPKXCh7K0P6rpA","duration":209000},{"youtubeId":"_YjwXKqDOYw","title":"Punch Brothers - Squirrel of Possibility","thumbnailUrl":"https://i.ytimg.com/vi/_YjwXKqDOYw/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBACgmRSnjHJPXqGyHZmXz7vTnXxA","duration":169000},{"youtubeId":"8TTUBMTInVE","title":"Pirates of the Caribbean - Soundtr 02 - The Medallion Calls","thumbnailUrl":"https://i.ytimg.com/vi/8TTUBMTInVE/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBqZ3AvEPASi-2PJc1zOH5csBUg2A","duration":113000},{"youtubeId":"Wtc5glDZ8wA","title":"Shroudbroken (Original Game Soundtrack)","thumbnailUrl":"https://i.ytimg.com/vi/Wtc5glDZ8wA/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAsXKr9eXR9SocQAUicp5RlLhCpPg","duration":169000},{"youtubeId":"Z7klyQsmVa8","title":"Gurren Lagann OST Disc 1 - 07 - Drill to Heaven with Your XXX!! -First Time Outside Version- / Om...","thumbnailUrl":"https://i.ytimg.com/vi/Z7klyQsmVa8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLA_J7lL7Yzq7VVlPdLW4Raqdjrhug","duration":138000},{"youtubeId":"Mm0YmRHdyz4","title":"No Helping It! (Extended Version) - Gurren Lagann OST","thumbnailUrl":"https://i.ytimg.com/vi/Mm0YmRHdyz4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCAt1mNukOoYEsHFSf0_aEQ4PwGVQ","duration":108000},{"youtubeId":"FZnwxSF2sCs","title":"Magic Knight Rayearth OST 1 - Main Theme (Instrumental)","thumbnailUrl":"https://i.ytimg.com/vi/FZnwxSF2sCs/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAentpO9G3Xfc-pHBw8TMGSXqXxpQ","duration":246000},{"youtubeId":"O8IBoFIFE-E","title":"Final Fantasy Main Theme (Orchestral)","thumbnailUrl":"https://i.ytimg.com/vi/O8IBoFIFE-E/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYRiBUKGUwDw==&rs=AOn4CLCGnZ_jc1aTFBLEktUH6j27o4fP3Q","duration":157000},{"youtubeId":"BieT4vpPVKI","title":"Into the Unknown (From \\"Frozen 2\\"/Instrumental/Audio Only)","thumbnailUrl":"https://i.ytimg.com/vi/BieT4vpPVKI/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCk_X_SD-Hy1XWIWdMpNZZmgCoJ4A","duration":202000},{"youtubeId":"OLTZbJMQiD4","title":"Gladiator Soundtrack - Victory Theme","thumbnailUrl":"https://i.ytimg.com/vi/OLTZbJMQiD4/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYZSBHKFUwDw==&rs=AOn4CLDZGeSMq-kcnoEnDt06UYdEX2zVCg","duration":209000},{"youtubeId":"8iz4UbpRZD4","title":"Most Epic Heroic Music: Never Give Up","thumbnailUrl":"https://i.ytimg.com/vi/8iz4UbpRZD4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDrBoVdB9m8MYuI8yoZwMlTqSvWmg","duration":248000},{"youtubeId":"4PuP7IkpRLU","title":"05.  Counterattack Mankind - High Quality","thumbnailUrl":"https://i.ytimg.com/vi/4PuP7IkpRLU/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYZSBZKFcwDw==&rs=AOn4CLCJBgUiStGpVKBQTeox9yMNpSCYAQ","duration":367000},{"youtubeId":"E5J0wqxRiuQ","title":"How To Train Your Dragon... But It\'s A Tavern Song","thumbnailUrl":"https://i.ytimg.com/vi/E5J0wqxRiuQ/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBrBf1Uxvbv8j9bu_Ew-G0shvfMfw","duration":148000},{"youtubeId":"SuX1SXRzQy4","title":"How to Train Your Dragon - Flying Theme (HQ)","thumbnailUrl":"https://i.ytimg.com/vi/SuX1SXRzQy4/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYciBLKD4wDw==&rs=AOn4CLA-XolY45cDruvj5rfb3a4shNdh3w","duration":211000},{"youtubeId":"HIZ35jJ79xU","title":"Romantic Flight (How To Train Your Dragon) | CINEMATIC VERSION","thumbnailUrl":"https://i.ytimg.com/vi/HIZ35jJ79xU/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAmhDZGhZQ74ts-6HTDUxQ8mrELOg","duration":191000},{"youtubeId":"5eTXcbrx9Cc","title":"Where No One Goes [Deluxe Reprise]","thumbnailUrl":"https://i.ytimg.com/vi/5eTXcbrx9Cc/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAlbA_ep5JSfpVnRhIj4eTipXnT2A","duration":228000},{"youtubeId":"YVtrB8k6iK4","title":"Forbidden Friendship (How To Train Your Dragon) | EPIC CINEMATIC VERSION","thumbnailUrl":"https://i.ytimg.com/vi/YVtrB8k6iK4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAfUGWb-RgzC27CwAkj6opR_G7bJA","duration":189000},{"youtubeId":"3MwX5CHG6WE","title":"How To Train Your Dragon Theme - Epic Orchestra Remix","thumbnailUrl":"https://i.ytimg.com/vi/3MwX5CHG6WE/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYZSBHKEMwDw==&rs=AOn4CLBdZubkJJlKHfU5Jn76rAMDXYQbpg","duration":226000},{"youtubeId":"tZocFBV_tF0","title":"Take To The Sky - A How To Train Your Dragon Orchestration","thumbnailUrl":"https://i.ytimg.com/vi/tZocFBV_tF0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDdyBRvqErIMY8vHhhIVtMOCGhhcA","duration":399000},{"youtubeId":"105e998i_oo","title":"True Strength - A One Punch Man Orchestration","thumbnailUrl":"https://i.ytimg.com/vi/105e998i_oo/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLARRIBOoKrXugXWfKUzjFhLWFUEGw","duration":283000},{"youtubeId":"TLriq2U_OYU","title":"Dungeons and Dragons Adventure Music | \\"Land of Lore\\" | Travel Theme","thumbnailUrl":"https://i.ytimg.com/vi/TLriq2U_OYU/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYTyBlKDQwDw==&rs=AOn4CLBfo92Hnz6-yiUNSLBZsJaofReFqA","duration":182000},{"youtubeId":"lXYCqSF4weo","title":"Pathfinder: Kingmaker - Celtic Style Barbarian Music Mix - Fantasy RPG & DnD Primal Adventure Music","thumbnailUrl":"https://i.ytimg.com/vi/lXYCqSF4weo/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCdyYEJtmxXTB4P55T7h0a1pkYOmA","duration":365000},{"youtubeId":"juQzyXGDeD8","title":"Golden Sun: The Lost Age - Overworld Theme One [Extended]","thumbnailUrl":"https://i.ytimg.com/vi/juQzyXGDeD8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCUb1Rs2DOhtB2VIlB6s1-11s8gBQ","duration":906000},{"youtubeId":"Vwy3rYFUayc","title":"The Witcher 3: Blood & Wine Battle Theme (For Honor! For Toussaint!) (Custom Version)","thumbnailUrl":"https://i.ytimg.com/vi/Vwy3rYFUayc/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLB4jXNAk-CMn757l6J_1iKFwQRwTg","duration":239000},{"youtubeId":"YF9IuXQ3o40","title":"Opening Travel Music","thumbnailUrl":"https://i.ytimg.com/vi/YF9IuXQ3o40/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLB58Dmo1pecQpsNb4cR3EqDOgzE0A","duration":78000},{"youtubeId":"rvLs-9SA9i0","title":"Maiden Voyage (Original Game Soundtrack)","thumbnailUrl":"https://i.ytimg.com/vi/rvLs-9SA9i0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCM61GhUr-BqKtxazMobNi8LGMdxQ","duration":159000},{"youtubeId":"1jIOpuqRhEg","title":"One Piece - Music & Song Collection 1 - To the Grand Line","thumbnailUrl":"https://i.ytimg.com/vi/1jIOpuqRhEg/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBa2muwjV_W-VHfkGqyAB9LtYOAAQ","duration":225000},{"youtubeId":"IzDdXCPSJrY","title":"Muppet Treasure Island OST,T15 Honest,Brave & True","thumbnailUrl":"https://i.ytimg.com/vi/IzDdXCPSJrY/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDQctxbuRoApU9jFng5M9EVvlOVJA","duration":235000}]},{"playlistId":"PLV8C9t518pCLJVekMt-g8kIx4-4mibhDm","title":"D&D - Vamping","musics":[{"youtubeId":"DOZlBcXE_FI","title":"Zelda Link\'s Awakening Ballad of the Wind Fish Orchestrated","thumbnailUrl":"https://i.ytimg.com/vi/DOZlBcXE_FI/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLB38widXir-HeM3F5miesRAx9tmWw","duration":138000},{"youtubeId":"cTpcW603Ds0","title":"Final Fantasy I ost - Game Over","thumbnailUrl":"https://i.ytimg.com/vi/cTpcW603Ds0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCvtEFQSeC-qaOWadICRNHBPB3Exw","duration":56000},{"youtubeId":"Ly6jrzTMs7Y","title":"History Has Its Eyes on You (Instrumental)","thumbnailUrl":"https://i.ytimg.com/vi/Ly6jrzTMs7Y/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLC_xVJn0jcsnIYllQfuBjqXMm5_vA","duration":99000},{"youtubeId":"GLjHB86hn34","title":"Who Lives, Who Dies, Who Tells Your Story (Instrumental)","thumbnailUrl":"https://i.ytimg.com/vi/GLjHB86hn34/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAUL7ZvhWjK4R5fVxB7XfAkh5H2hQ","duration":217000},{"youtubeId":"Wxav9Jj7R68","title":"Zelda x Ghibli Film Trailer","thumbnailUrl":"https://i.ytimg.com/vi/Wxav9Jj7R68/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDWT0NkzJCObaGdtn0YbFsK4mduKg","duration":106000},{"youtubeId":"X_KSzLYzr90","title":"The Divine Princess","thumbnailUrl":"https://i.ytimg.com/vi/X_KSzLYzr90/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBHm6WxaEgjJ6Ox1s113cNKrX5Tzg","duration":156000},{"youtubeId":"uU3XREoeiHw","title":"FINAL FANTASY I \\"Game Over\\" Metal Version by Ferdk","thumbnailUrl":"https://i.ytimg.com/vi/uU3XREoeiHw/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLChhaiUci0Hvl4vM2ftzv-JelOzjQ","duration":169000},{"youtubeId":"tDMtam4-tYQ","title":"Adventure Cinematic Orchestral by Infraction [No Copyright Music] / Story of Us","thumbnailUrl":"https://i.ytimg.com/vi/tDMtam4-tYQ/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYLCBWKH8wDw==&rs=AOn4CLBauBfY34_LnROsEWqYEp_z8E_mRw","duration":147000},{"youtubeId":"ljXdDidDS3g","title":"🎥 Epic Trailer (Royalty Free Music) - \\"Myths\\" by Alex Productions 🇮🇹","thumbnailUrl":"https://i.ytimg.com/vi/ljXdDidDS3g/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCAxaG5dwE4587MNWaUWa51puGctg","duration":82000},{"youtubeId":"CoUBgjX0nvU","title":"Daniel Yount - Call Of The Heroes","thumbnailUrl":"https://i.ytimg.com/vi/CoUBgjX0nvU/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAqJq22nmCAEn2eGl-HZiQyb0LctQ","duration":148000},{"youtubeId":"rZH5qYo3MvM","title":"Epic Heroic Trailer by Infraction [No Copyright Music] / New Hero","thumbnailUrl":"https://i.ytimg.com/vi/rZH5qYo3MvM/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYWCBiKGUwDw==&rs=AOn4CLClbHS4_iIdapQ1qzi0I-bFk2lxbQ","duration":126000},{"youtubeId":"1roy1N4UOp8","title":"Epic Trailer Teaser by Infraction [No Copyright Music] / The Dark Land","thumbnailUrl":"https://i.ytimg.com/vi/1roy1N4UOp8/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4AdQGgALgA4oCDAgAEAEYRiBGKHIwDw==&rs=AOn4CLCCSs5wkSh3-GsdOmlIarrti1SQ_A","duration":79000},{"youtubeId":"TtndG3uvdM4","title":"Trailer Cinematic Intro by Infraction [No Copyright Music] / Wicked","thumbnailUrl":"https://i.ytimg.com/vi/TtndG3uvdM4/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4OgAK4CIoCDAgAEAEYRSBZKGUwDw==&rs=AOn4CLBC7LI5bA0haMHQKR_pBIB-BZsCZw","duration":77000},{"youtubeId":"Bln0BEv5AJ0","title":"♩♫ Epic Trailer Music ♪♬ - Fall (Copyright and Royalty Free)","thumbnailUrl":"https://i.ytimg.com/vi/Bln0BEv5AJ0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLB5Le0_3e-bRgZdg_8OEQK9NuMskA","duration":116000},{"youtubeId":"Go12Vf6aL60","title":"old enough to understand...","thumbnailUrl":"https://i.ytimg.com/vi/Go12Vf6aL60/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4AdQGgALgA4oCDAgAEAEYSCA6KH8wDw==&rs=AOn4CLBVGubxbFaIyFpsO2EV3PV83whifQ","duration":277000},{"youtubeId":"XvCKe_kI0g0","title":"Cinematic Uplifting Emotional by Infraction [No Copyright Music] / Oslo","thumbnailUrl":"https://i.ytimg.com/vi/XvCKe_kI0g0/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4AdQGgALgA4oCDAgAEAEYOiBTKHIwDw==&rs=AOn4CLD2OqsA_zWaeTVufq56mw9X19RIFg","duration":114000},{"youtubeId":"ho53yIWVQXc","title":"(No Copyright Music) Dramatic Epic [Epic Music] by MokkaMusic / Invasion","thumbnailUrl":"https://i.ytimg.com/vi/ho53yIWVQXc/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYZSBGKEMwDw==&rs=AOn4CLDD2Vq2n3uLWbgwosW55a6vBYpMjg","duration":109000},{"youtubeId":"HX70Cor5Ol0","title":"Cinematic Dramatic Trailer by Infraction [No Copyright Music] / Waiting For The Storm","thumbnailUrl":"https://i.ytimg.com/vi/HX70Cor5Ol0/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4OgAK4CIoCDAgAEAEYZSBlKGUwDw==&rs=AOn4CLCWfyvgaF5NbVstfPOJcfLI9M4_Lg","duration":99000},{"youtubeId":"FV2ndwzA5cg","title":"Epic Trailer Intro Teaser by Infraction [No Copyright Music] / Backfire","thumbnailUrl":"https://i.ytimg.com/vi/FV2ndwzA5cg/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4OgAK4CIoCDAgAEAEYSyBfKGUwDw==&rs=AOn4CLDAQjSeGVMm3TJycUdeB1SS-KD4Ew","duration":77000},{"youtubeId":"YyLRofvgzrU","title":"😟 Tense & Orchestral (Royalty Free Music) - \\"REFUSING THE ULTIMATUM\\" by Arthur Vyncke 🇧🇪","thumbnailUrl":"https://i.ytimg.com/vi/YyLRofvgzrU/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDqBMEAMX2zY63bbVkmQNmkDB6E5A","duration":99000},{"youtubeId":"c-XpTMGPQvI","title":"Epic Cinematic Dramatic Adventure Trailer (Creative Commons)","thumbnailUrl":"https://i.ytimg.com/vi/c-XpTMGPQvI/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCQVRW_Wxkn2Rr-W-1ylhmJcnoaQw","duration":137000},{"youtubeId":"A0WiYP2N2Iw","title":"Epic Heroic Trailer Music Royalty Free | Dragonheart by Talekeeper Music","thumbnailUrl":"https://i.ytimg.com/vi/A0WiYP2N2Iw/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLChhN6iwvwZxO74CkpIjqVNta5IXg","duration":158000},{"youtubeId":"BtrnX8q-6mw","title":"Three Houses Main Theme","thumbnailUrl":"https://i.ytimg.com/vi/BtrnX8q-6mw/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDEN6ILefcY8LHMosNdm4nS1hv5fA","duration":256000},{"youtubeId":"4DuHmfq7t_I","title":"Twilight Princess OST-Trailer Music","thumbnailUrl":"https://i.ytimg.com/vi/4DuHmfq7t_I/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLB1KehDi1LS1lqSdZ8laKevtrJuIw","duration":127000},{"youtubeId":"Ac8sWSV_5Ts","title":"The Legend of Zelda WITHOUT LYRICS","thumbnailUrl":"https://i.ytimg.com/vi/Ac8sWSV_5Ts/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAbH-YSMGFWUfslKFiQqKAor06WzA","duration":134000},{"youtubeId":"aBmjFrx3Tr0","title":"Loch Lomond (Accompaniment & Lyrics)","thumbnailUrl":"https://i.ytimg.com/vi/aBmjFrx3Tr0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCMMDMYsmtIZW1vBe88pkoBenLDkw","duration":238000},{"youtubeId":"9QIs-lqR58c","title":"FE Three Hopes Trailer (Nintendo Direct 09/02/22) Music","thumbnailUrl":"https://i.ytimg.com/vi/9QIs-lqR58c/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCaNNYk6PWN9mQZgPajWr7u5I9Vww","duration":98000},{"youtubeId":"BieT4vpPVKI","title":"Into the Unknown (From \\"Frozen 2\\"/Instrumental/Audio Only)","thumbnailUrl":"https://i.ytimg.com/vi/BieT4vpPVKI/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCk_X_SD-Hy1XWIWdMpNZZmgCoJ4A","duration":202000},{"youtubeId":"6_nXJy2aNHU","title":"The Legend of Zelda Breath of the Wild 2 (E3 2021 Trailer) Music","thumbnailUrl":"https://i.ytimg.com/vi/6_nXJy2aNHU/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4OgAK4CIoCDAgAEAEYciBOKD8wDw==&rs=AOn4CLDv8nMB5dAKGJ5vcAxhS4Zyc77BrA","duration":62000},{"youtubeId":"Yx45D7T6HZU","title":"Epilogue (The Legend of Zelda: Breath of the Wild OST)","thumbnailUrl":"https://i.ytimg.com/vi/Yx45D7T6HZU/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYZSBSKE0wDw==&rs=AOn4CLBgrImeRyxBanbCmmOibCOf7uYi3w","duration":110000},{"youtubeId":"w7gic_50GUs","title":"Sea Of Thieves OST - Arriving The Sea Of Thieves","thumbnailUrl":"https://i.ytimg.com/vi/w7gic_50GUs/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDzjbd7S6v-OVIsCIETEZ1U9r3WFg","duration":63000},{"youtubeId":"V8RkqQ8fQs4","title":"Switch Presentation 2017 Trailer Music | The Legend of Zelda: Breath of the Wild Soundtrack OST","thumbnailUrl":"https://i.ytimg.com/vi/V8RkqQ8fQs4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAkuhi3D8PDPRkPitiwSxWqmmaYBQ","duration":202000},{"youtubeId":"v4ReyoNpyrM","title":"The Legend of Zelda 25th Anniversary Symphony: Ballad of the Goddess (Skyward Sword)","thumbnailUrl":"https://i.ytimg.com/vi/v4ReyoNpyrM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLB80R9gU-eXnErJcz3Ox2T26oxobw","duration":130000},{"youtubeId":"L2avHInwkGk","title":"Staff Credits Title Looped   The Legend of Zelda The Wind Waker HD Music Extended","thumbnailUrl":"https://i.ytimg.com/vi/L2avHInwkGk/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCtQA1s-CCjcPMQ0BICXveHdg3TdA","duration":931000},{"youtubeId":"qrnFMTVBBgI","title":"The Legendary Hero","thumbnailUrl":"https://i.ytimg.com/vi/qrnFMTVBBgI/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAMjOp54vp6eTtd4uC-6YlhBF7RJg","duration":183000},{"youtubeId":"V3w4FI3v6Rw","title":"Fódlan Winds (Fire Emblem Three Houses) - Rozen & Reven","thumbnailUrl":"https://i.ytimg.com/vi/V3w4FI3v6Rw/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDZgEFE-cuMdGxhudyR9q47P2tUwg","duration":235000},{"youtubeId":"ukEAC1NBJJw","title":"Klagmar\'s Top VGM #2,189 - Hyrule Warriors Legends - Title & Dragon","thumbnailUrl":"https://i.ytimg.com/vi/ukEAC1NBJJw/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBLP081MdNw0MzqmIeocwpFlU1JAA","duration":211000},{"youtubeId":"QdXh5ntqEk4","title":"Final Fantasy: Main Theme","thumbnailUrl":"https://i.ytimg.com/vi/QdXh5ntqEk4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLALdkdXo5HVwpJJzI6J14yU8WLugQ","duration":165000},{"youtubeId":"Mm7DHztmPF8","title":"Zelda: Link\'s Awakening - Ballad of the Wind Fish feat. Amaterasu (Piano/Violin Cover)","thumbnailUrl":"https://i.ytimg.com/vi/Mm7DHztmPF8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD0K7ayUcRKK78ub67BgKiCskq1Dw","duration":165000},{"youtubeId":"tOfU-6f2zhI","title":"Castle in the Sky Theme 1080P HQ","thumbnailUrl":"https://i.ytimg.com/vi/tOfU-6f2zhI/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYEyBRKH8wDw==&rs=AOn4CLBIJRhTCFlEpHyiQZYh4ccpN7c1qA","duration":406000},{"youtubeId":"nk2pbzJDmnE","title":"Jorge Rivera-Herrans - Warrior of the Mind ft.Teagan Earley (Instrumental) | EPIC the Musical","thumbnailUrl":"https://i.ytimg.com/vi/nk2pbzJDmnE/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDQNPCvHmh3_R481ezdGpAQHnNgKw","duration":228000},{"youtubeId":"wIs279NTi9Y","title":"Zelda: Twilight Princess - Midna\'s Desperate Hour (Piano Cover)","thumbnailUrl":"https://i.ytimg.com/vi/wIs279NTi9Y/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLABs4Bs8g-qE4QRCMzItrEzOrgs1g","duration":127000},{"youtubeId":"C1fq4Z08JLI","title":"The Legend of Zelda: Breath of the WIld 2017 Trailer (Remix) - Super Smash Bros. Ultimate Soundtrack","thumbnailUrl":"https://i.ytimg.com/vi/C1fq4Z08JLI/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBcKP_5BteMAnNALDtPHiA0PJ6Sqg","duration":291000},{"youtubeId":"cgXGfYsz0k8","title":"My Shot [Rise Up Remix] (Karaoke/Instrumental) - The Hamilton Mixtape","thumbnailUrl":"https://i.ytimg.com/vi/cgXGfYsz0k8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLC1NT5jcKaV4ubfr0wqgrCATu-XWg","duration":273000},{"youtubeId":"JNwAR1phXq0","title":"My Shot (Instrumental)","thumbnailUrl":"https://i.ytimg.com/vi/JNwAR1phXq0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCXB3gqVBRNBrEDZQrdaaqG6Seeww","duration":340000},{"youtubeId":"3DlgJH-LO14","title":"Remember the Bastion","thumbnailUrl":"https://i.ytimg.com/vi/3DlgJH-LO14/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCMmYQ_IDxf6BG8Ml9KTkpRPOyZtg","duration":522000},{"youtubeId":"NWOJvEQE4D0","title":"Good Riddance (Instrumental) - Hades","thumbnailUrl":"https://i.ytimg.com/vi/NWOJvEQE4D0/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYciBSKEEwDw==&rs=AOn4CLApicvOdn4LWSWs9YUo2NsjOY5KpQ","duration":178000},{"youtubeId":"Yy8MEO_2AYo","title":"2: The Girl Who Fell from the Sky CitS OST","thumbnailUrl":"https://i.ytimg.com/vi/Yy8MEO_2AYo/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Ab4CgALwAYoCDAgAEAEYfyATKBMwDw==&rs=AOn4CLCe49ebFICtgc4zWcf0X090rxoM9w","duration":159000},{"youtubeId":"ipbQ6a1sOZo","title":"The Legend of Zelda: Tears of the Kingdom | Trailer Music (Re-Created)","thumbnailUrl":"https://i.ytimg.com/vi/ipbQ6a1sOZo/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBQH1XTqywN8SEZXs2py9zUodtmZg","duration":151000},{"youtubeId":"fk21Avbqjlk","title":"The Legend of Zelda Tears of the Kingdom: E3 Trailer Music (No SFX)","thumbnailUrl":"https://i.ytimg.com/vi/fk21Avbqjlk/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDlgV03lJAgVIWkXRqC92vOh7h4vw","duration":63000},{"youtubeId":"nEfIqVLD7hM","title":"Jorge Rivera-Herrans – Just A Man (Instrumental) | EPIC The Musical","thumbnailUrl":"https://i.ytimg.com/vi/nEfIqVLD7hM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDsabX5OyRk3UMTrTwzct7WzUFszA","duration":170000},{"youtubeId":"56MheSmFwGg","title":"WORLD OF WARCRAFT - Warbringers: Jaina - Daughter Of The Sea - Violin and guitar Cover","thumbnailUrl":"https://i.ytimg.com/vi/56MheSmFwGg/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDqck1tam_tsnCv2NmK-2GKWJic2A","duration":231000},{"youtubeId":"AxyMzkRJLYI","title":"We Shall Sail Together (Original Game Soundtrack) (Instrumental)","thumbnailUrl":"https://i.ytimg.com/vi/AxyMzkRJLYI/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLC02uHfx6M70YYlUonYeTakMU-sBg","duration":127000},{"youtubeId":"ffNxnz6iLgc","title":"\\"We Shall Sail Together\\" Shanty Soundtrack Sea Of Thieves","thumbnailUrl":"https://i.ytimg.com/vi/ffNxnz6iLgc/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAVCFwwuc6TTspizToXGe-ndgZ_PA","duration":128000},{"youtubeId":"98lluY4c6bY","title":"Spaghetti Western Theme Trailer Music | Western DUEL Battle Music","thumbnailUrl":"https://i.ytimg.com/vi/98lluY4c6bY/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCMcnvC_llhqlEeRObS4uE5g_lCxg","duration":183000},{"youtubeId":"tYtGqTpvI3s","title":"Tenacious D - Tribute (Instrumental)","thumbnailUrl":"https://i.ytimg.com/vi/tYtGqTpvI3s/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAxTygFP1P3vRAnkZ8fEGcRvAteyQ","duration":247000},{"youtubeId":"fAeDrNo9-Lo","title":"SPIDER-MAN: Across The Spider-Verse | TRAILER 2 MUSIC SONG (What\'s Up Danger Epic Version Remix)","thumbnailUrl":"https://i.ytimg.com/vi/fAeDrNo9-Lo/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAbF5rNXjBkXglpSEtfeIr8GtmwJQ","duration":344000},{"youtubeId":"3qpA1gCfTg0","title":"Mako & Ray Chen - Awaken [Official Clear Instrumental]","thumbnailUrl":"https://i.ytimg.com/vi/3qpA1gCfTg0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDrWOf73jye_UHMpA83wWs7R-FSuw","duration":199000},{"youtubeId":"xcc2muKNaH8","title":"Arcane Theme - ENEMY | EPIC VERSION (Imagine Dragons Cover)","thumbnailUrl":"https://i.ytimg.com/vi/xcc2muKNaH8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLC_a6idq2PVSO27Lqg6QteFzUcKiA","duration":344000},{"youtubeId":"rVfE1-85ETA","title":"Turnabout Sisters - Phoenix Wright: Ace Attorney | Jazz Cover","thumbnailUrl":"https://i.ytimg.com/vi/rVfE1-85ETA/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDO1a5Fd8FODiwtoz_4GKx9cGnJBA","duration":325000},{"youtubeId":"8ICFY8XvZIU","title":"Caravan Palace -  Lone Digger Instrumental","thumbnailUrl":"https://i.ytimg.com/vi/8ICFY8XvZIU/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAbWRY-fjdbdqzY9ThHYYTZ9szyug","duration":226000},{"youtubeId":"sJAiNs8Sf9s","title":"Cave Story WITHOUT LYRICS (Title Theme Remix) - brentalfloss","thumbnailUrl":"https://i.ytimg.com/vi/sJAiNs8Sf9s/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLB_PLM_SVUdzz0RLHfS2sq4GdoTag","duration":114000},{"youtubeId":"KGCWnMXICrg","title":"Professor Layton and the Eternal Diva OST- The Eternal Diva","thumbnailUrl":"https://i.ytimg.com/vi/KGCWnMXICrg/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCSb7NrdolZc7ssD72f8kgo99uCgg","duration":424000},{"youtubeId":"GwS-48nIVDc","title":"Professor Layton and the Eternal Diva OST- Song of the Sea","thumbnailUrl":"https://i.ytimg.com/vi/GwS-48nIVDc/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCOKxEDIiTS3iKFNDcirs6vsIAfdw","duration":49000},{"youtubeId":"iTNsI34lbWc","title":"Professor Layton and the Eternal Diva OST 3 Cold Open Professor Layton\'s Theme","thumbnailUrl":"https://i.ytimg.com/vi/iTNsI34lbWc/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCQqp4QPburb8ZiVYzsXzNDZNNmmQ","duration":159000},{"youtubeId":"Gafc5QoUvIg","title":"Mewmore // Professor Layton\'s Theme (Professor Layton and the Curious Village Remix)","thumbnailUrl":"https://i.ytimg.com/vi/Gafc5QoUvIg/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDAJ6CtOcLDMCYKtTF_tP814IzrEg","duration":194000},{"youtubeId":"rDOtrjBDUEE","title":"Eternal Diva- Karaoke Version (Professor Layton and the Eternal Diva)","thumbnailUrl":"https://i.ytimg.com/vi/rDOtrjBDUEE/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDILrvc9V1KKzsO_EK3tXITYHsvbQ","duration":421000},{"youtubeId":"FH01VPhpcbo","title":"Prologue - Beauty and the Beast  (Only music)","thumbnailUrl":"https://i.ytimg.com/vi/FH01VPhpcbo/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4AZoEgALgA4oCDAgAEAEYfyA5KEAwDw==&rs=AOn4CLBy5p9UuPD8feC2PHPnlM8JtW2aOQ","duration":156000},{"youtubeId":"DjT2ePlCI4A","title":"Beauty and the Beast - Prologue - Scene with Score Only HD","thumbnailUrl":"https://i.ytimg.com/vi/DjT2ePlCI4A/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAwmuwdxSQA1eqJMo799M4BPHz_Ug","duration":154000},{"youtubeId":"a1tuVXbxN-A","title":"Beauty and the Beast (2017) Prologue | Trailer Music","thumbnailUrl":"https://i.ytimg.com/vi/a1tuVXbxN-A/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAvSryVuVHpbdAzfhT94iaJrTGukg","duration":162000},{"youtubeId":"kVZCyfHrMtg","title":"OC ReMix #2452: Final Fantasy \'Secrets Abound\' [Matoya\'s Cave] by Midgarian Sky","thumbnailUrl":"https://i.ytimg.com/vi/kVZCyfHrMtg/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBwo2Sh-QIbFZ6iVJGvLCdxvwECpA","duration":197000}]},{"playlistId":"PLV8C9t518pCJXjNed2p60cLVcWXDQCeQ6","title":"D&D - Theros - Ominous","musics":[{"youtubeId":"YU1cAM_0yYg","title":"Lord of the Mountain - The Legend of Zelda: Breath of the Wild Music Extended","thumbnailUrl":"https://i.ytimg.com/vi/YU1cAM_0yYg/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDwedJ1JYZzLwCK8mLznL6zzhoa5w","duration":1801000},{"youtubeId":"slvejIelzio","title":"A Cruel Angel\'s Thesis but it\'s actually dark and depressive (Evangelion OP)","thumbnailUrl":"https://i.ytimg.com/vi/slvejIelzio/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDZE67EKlLZUIvxyQQk5KhKwjGbZw","duration":310000},{"youtubeId":"VQasoV1Vg1U","title":"Stolas Speaks","thumbnailUrl":"https://i.ytimg.com/vi/VQasoV1Vg1U/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAe7Udd9fCsTHN5XgLL1e1diUHWyg","duration":79000},{"youtubeId":"C3XqMaY4_Ig","title":"Sea of Thieves OST - A Mysterious Ambience","thumbnailUrl":"https://i.ytimg.com/vi/C3XqMaY4_Ig/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4AdQGgALgA4oCDAgAEAEYZSBJKFMwDw==&rs=AOn4CLBR8qXZWpzQPazH-aU6cwYauuJQvA","duration":204000},{"youtubeId":"gu99_LbYwWA","title":"Hearthstone - Theme of Raza the Chained (Cursed)","thumbnailUrl":"https://i.ytimg.com/vi/gu99_LbYwWA/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAji1rE2dk7dNYDLHmK2bEcqvYrvg","duration":780000},{"youtubeId":"ttxtf6NfvR4","title":"Sanctuary Dungeon","thumbnailUrl":"https://i.ytimg.com/vi/ttxtf6NfvR4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBPHLmlmDoajnJyWOe32nQtFrxKxA","duration":220000},{"youtubeId":"9G6CskLxgMI","title":"Ravenloft- Traveling the roads of Barovia","thumbnailUrl":"https://i.ytimg.com/vi/9G6CskLxgMI/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYZSBlKGUwDw==&rs=AOn4CLDlhq4CrVD0EcaLv6XIIZlxLu4oSA","duration":3186000},{"youtubeId":"rwyIdsnPJ6E","title":"The Passion of Souls (Original Game Soundtrack)","thumbnailUrl":"https://i.ytimg.com/vi/rwyIdsnPJ6E/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLATChzCJIq0crdfHHa59FQjUUX6Sg","duration":251000},{"youtubeId":"YPLMZfkDmeA","title":"Sea of Thieves - OST | The Kraken","thumbnailUrl":"https://i.ytimg.com/vi/YPLMZfkDmeA/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBI6cXXWagxVF6c7M5fwaMu75-6Dw","duration":549000},{"youtubeId":"Un3XOZUri64","title":"Arena Ending Theme | Sea of Thieves","thumbnailUrl":"https://i.ytimg.com/vi/Un3XOZUri64/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBQkZfp9bnHEWbh374pr8apw7ahYA","duration":203000},{"youtubeId":"3T2P98dFbJk","title":"Spectral Sails (Original Game Soundtrack)","thumbnailUrl":"https://i.ytimg.com/vi/3T2P98dFbJk/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAat921Zz6XicvodBVRnL3hXhnseg","duration":390000},{"youtubeId":"Ao-atEjWI-4","title":"Orchestral \\"Summon The Megalodon\\" Sea Of Thieves Soundtrack","thumbnailUrl":"https://i.ytimg.com/vi/Ao-atEjWI-4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDoLTY5Ey4ixarHoMGyMzC7dTRaVw","duration":145000},{"youtubeId":"K8vNEtXOGMM","title":"\\"The Legend Of The Veil\\" Sea Of Thieves Unofficial Soundtrack","thumbnailUrl":"https://i.ytimg.com/vi/K8vNEtXOGMM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLC_A7SaaTEQ9spjQNgtpkZlDUjrLw","duration":166000},{"youtubeId":"7olkJqawq2I","title":"\\"On The Ancient Warpath\\" Sea Of Thieves Unofficial Soundtrack","thumbnailUrl":"https://i.ytimg.com/vi/7olkJqawq2I/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAHEReLP6OgCZqGbUIZipBM4FAU-A","duration":187000},{"youtubeId":"SiyOajnJnTg","title":"The Witcher 3 OST - Ladies of the Woods (Extended)","thumbnailUrl":"https://i.ytimg.com/vi/SiyOajnJnTg/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDVgHbBVMK8XEYnZp9pci9m4if_6w","duration":516000},{"youtubeId":"T_RRYfztxa0","title":"31 - The Forbidden Forest - Harry Potter and the Sorcerer\'s Stone Soundtrack","thumbnailUrl":"https://i.ytimg.com/vi/T_RRYfztxa0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDvAh-cFSgFyDLUrPG8pskv1tPpZQ","duration":314000},{"youtubeId":"ho5KJ-bva9Y","title":"The Lord of the Rings: The Fellowship of the Ring CR - 02. Caras Galadhon","thumbnailUrl":"https://i.ytimg.com/vi/ho5KJ-bva9Y/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBtcaKT2TItA8Vvpsws1s6ck1IYRw","duration":564000},{"youtubeId":"LI9DKV0_110","title":"The Forests of Ithilien","thumbnailUrl":"https://i.ytimg.com/vi/LI9DKV0_110/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBXnUmuekOM8d0EIEgNVahxNKGXtQ","duration":398000},{"youtubeId":"Z3dJnmZmv14","title":"\\"Ancient Awakenings\\" Sea Of Thieves Unofficial Soundtrack","thumbnailUrl":"https://i.ytimg.com/vi/Z3dJnmZmv14/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCv8T-q_IQfe6aKeFUsli7LMSxS1w","duration":83000},{"youtubeId":"N9Clmr94zGY","title":"Sacred Grove - The Legend of Zelda: Twilight Princess","thumbnailUrl":"https://i.ytimg.com/vi/N9Clmr94zGY/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4OgAK4CIoCDAgAEAEYfyApKBMwDw==&rs=AOn4CLCaWtjJtZb3Nr5Ja1ZD7jBFcu3k8Q","duration":181000},{"youtubeId":"a0Av2XNPd_g","title":"Obscura | 1 hour of Dark Ambient Fantasy Music | RPG Dungeon Ambience | D&D Audio | ASKII","thumbnailUrl":"https://i.ytimg.com/vi/a0Av2XNPd_g/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDuQn-6xEqBFb5tDUZA_1GXCEg4_Q","duration":3733000},{"youtubeId":"bjqo9cLX2Dg","title":"\\"Protect The Tributes\\" Sea Of Thieves OST","thumbnailUrl":"https://i.ytimg.com/vi/bjqo9cLX2Dg/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLB1B4DqCngCxjacM6iwzRk4zbUafg","duration":248000},{"youtubeId":"K_jp-nAzdu0","title":"Gold Hoarder (Original Game Soundtrack)","thumbnailUrl":"https://i.ytimg.com/vi/K_jp-nAzdu0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCJUTVAR_pxLwjQGI1luVsTUpUUmA","duration":208000},{"youtubeId":"oaq6PuvIZyM","title":"Morrow and Pendragon - Sea of Thieves : Heart of Fire OST","thumbnailUrl":"https://i.ytimg.com/vi/oaq6PuvIZyM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLA96dTNjILjaubdzbuPmmDbFd1GFQ","duration":110000},{"youtubeId":"HWJEpS4jcbk","title":"Shores of Gold (Original Game Soundtrack)","thumbnailUrl":"https://i.ytimg.com/vi/HWJEpS4jcbk/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCXqyMBNPpuYwNfdO_v6imWleX2pQ","duration":109000},{"youtubeId":"9goA-NFA8_0","title":"Sea of Thieves: Cursed Sails Skeleton Ship Music","thumbnailUrl":"https://i.ytimg.com/vi/9goA-NFA8_0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBLJIZSbTO_HGSH_gnoACipMRqF4Q","duration":210000},{"youtubeId":"TyuBraP1aLc","title":"\\"The Battle Of The Ghostly Souls\\" Sea Of Thieves Ghost Ship OST","thumbnailUrl":"https://i.ytimg.com/vi/TyuBraP1aLc/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBpUXM-yKsrtPBu7mhERwAPWOFoRw","duration":151000},{"youtubeId":"TtjveTbaLIY","title":"\\"The Battle Of The Flaming Heart\\" Sea Of Thieves Ghost Ship OST","thumbnailUrl":"https://i.ytimg.com/vi/TtjveTbaLIY/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCLtQtiMTv854QS2kzbLjCfQs7cNQ","duration":137000},{"youtubeId":"cEYuGNbeeBk","title":"Force of Flame (Original Game Soundtrack)","thumbnailUrl":"https://i.ytimg.com/vi/cEYuGNbeeBk/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLB0KNlNJFDe_3oLl8QOJN6fdSJGgw","duration":260000},{"youtubeId":"cjjSU9JQb2Y","title":"\\"Bring The Sky To Worlds End\\" Sea Of Thieves Ashen Lords OST","thumbnailUrl":"https://i.ytimg.com/vi/cjjSU9JQb2Y/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDtKN7Xa_hvhzMsOw9JjJKMf24zCA","duration":122000},{"youtubeId":"XCXLG6IzDuM","title":"\\"A Reign Of Ash Forever\\" Sea Of Thieves Ashen Lords OST","thumbnailUrl":"https://i.ytimg.com/vi/XCXLG6IzDuM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDOlho4Pa7uKBhrXWuBQdQJaa9flA","duration":163000},{"youtubeId":"15l778QqdZg","title":"Sea of Thieves OST - Approaching the Storm (unlisted music)","thumbnailUrl":"https://i.ytimg.com/vi/15l778QqdZg/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAae7itZ77B0emruLgSG3SJWtuITw","duration":226000},{"youtubeId":"Ydgt8iC9Azs","title":"\\"Forts Of The Forgotten\\" Sea Of Thieves Unofficial Soundtrack","thumbnailUrl":"https://i.ytimg.com/vi/Ydgt8iC9Azs/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDVfJ5Zpv6DdM8xckVKDhkLKGgVJQ","duration":129000},{"youtubeId":"0DMAS5g-_8Y","title":"\\"Spectral Spanish Summons\\" Sea Of Thieves Unofficial Soundtrack","thumbnailUrl":"https://i.ytimg.com/vi/0DMAS5g-_8Y/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDiB7FuIAa8_HLxfJGnqYI-HvP2nA","duration":233000},{"youtubeId":"XHrSwKWINwk","title":"\\"The Hungering War\\" Sea Of Thieves Unofficial Soundtrack","thumbnailUrl":"https://i.ytimg.com/vi/XHrSwKWINwk/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD7WAiF1P7CojKKS7ZCNLZgN-BrKQ","duration":153000},{"youtubeId":"saZ3EHWFZSY","title":"Fly Me to the Moon but it actually fits Evangelion vibe (Evangelion, Frank Sinatra)","thumbnailUrl":"https://i.ytimg.com/vi/saZ3EHWFZSY/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLB9pBY0nFa8hvW15hl_6Hy8KgY9jQ","duration":350000},{"youtubeId":"L8YIB2L6g3E","title":"Attack on Titan OST - Vogel im Käfig (Piano)","thumbnailUrl":"https://i.ytimg.com/vi/L8YIB2L6g3E/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLChC6R0TL35gQAhFEdN2q76RhA_sw","duration":243000},{"youtubeId":"uGoQV6D-5xA","title":"The Lord of the Rings: The Fellowship of the Ring CR - 12. Moria","thumbnailUrl":"https://i.ytimg.com/vi/uGoQV6D-5xA/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD65Vt12pYi2C5rt570ILuKVr9Gcw","duration":150000},{"youtubeId":"jXYocUd6fR4","title":"Master Mirror Main Menu Music || Gwent: The Witcher Card Game","thumbnailUrl":"https://i.ytimg.com/vi/jXYocUd6fR4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAwVxXukPoCYVRFWhFwckeGZMzxtA","duration":141000},{"youtubeId":"gokhBJWSjeM","title":"The Witcher 3: Wild Hunt OST - The Fields of Ard Skellig","thumbnailUrl":"https://i.ytimg.com/vi/gokhBJWSjeM/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYZiBmKGYwDw==&rs=AOn4CLB12DBCcyNyfOhWmvWkR-V0kRFvrA","duration":190000},{"youtubeId":"_0L5kf0DdAk","title":"Pillars of Eternity Soundtrack - The Endless Paths I","thumbnailUrl":"https://i.ytimg.com/vi/_0L5kf0DdAk/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDMt7HduYfl5Hw9NqkpuYZaKHKAiA","duration":153000},{"youtubeId":"WYZ9S0w2Z1w","title":"Castlevania  Lords of Shadow OST - Lake of Oblivion","thumbnailUrl":"https://i.ytimg.com/vi/WYZ9S0w2Z1w/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBN7wnj3gJ3EAqzkXwzVvjQD1uiTA","duration":47000},{"youtubeId":"5cj-IcbiWe4","title":"D&D Official Roleplaying Soundtrack - Prelude","thumbnailUrl":"https://i.ytimg.com/vi/5cj-IcbiWe4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD6i8K2CgfMd1f1XLxVpAykm1-MPQ","duration":135000},{"youtubeId":"dyWVZxnpnPo","title":"D&D Official Roleplaying Soundtrack - Craft of the Wizard","thumbnailUrl":"https://i.ytimg.com/vi/dyWVZxnpnPo/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDov419UoSpiWQTmUl9OHLWSyP2Qw","duration":204000},{"youtubeId":"dyWVZxnpnPo","title":"D&D Official Roleplaying Soundtrack - Craft of the Wizard","thumbnailUrl":"https://i.ytimg.com/vi/dyWVZxnpnPo/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDov419UoSpiWQTmUl9OHLWSyP2Qw","duration":204000},{"youtubeId":"fmeBFW4YuxE","title":"World of Warcraft Soundtrack   Haunted 02","thumbnailUrl":"https://i.ytimg.com/vi/fmeBFW4YuxE/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCLFeG-5i0sHWVAKap3OkWX9t-LkQ","duration":61000},{"youtubeId":"oZOLnp5yQ4Y","title":"Puss in Boots: Death Theme Whistle | EPIC VERSION (The Last Wish Soundtrack)","thumbnailUrl":"https://i.ytimg.com/vi/oZOLnp5yQ4Y/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD9SxOiSlVcspITafG2IV9dajTZ8w","duration":350000}]},{"playlistId":"PLV8C9t518pCKAKuh-e4jUrbMNLh8Lcpfz","title":"D&D - Podari - Let\'s Fucking Go","musics":[{"youtubeId":"_leOWa4qw9Y","title":"Donkey Kong Country - Gang-Plank Galleon (Final Boss remix/cover)","thumbnailUrl":"https://i.ytimg.com/vi/_leOWa4qw9Y/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBPeDGsmCASsMo5sxBoOsfCcVjWgQ","duration":191000},{"youtubeId":"ylssgHLVZaE","title":"One Piece OST: The Very Very Very Strongest | EPIC VERSION","thumbnailUrl":"https://i.ytimg.com/vi/ylssgHLVZaE/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDrjLMbREhjZ1xLJHmyw-LltbnDJA","duration":317000},{"youtubeId":"ukEAC1NBJJw","title":"Klagmar\'s Top VGM #2,189 - Hyrule Warriors Legends - Title & Dragon","thumbnailUrl":"https://i.ytimg.com/vi/ukEAC1NBJJw/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBLP081MdNw0MzqmIeocwpFlU1JAA","duration":211000},{"youtubeId":"GIN_cpdLyw4","title":"FantomenK - A Tiny Spaceship\'s Final Mission","thumbnailUrl":"https://i.ytimg.com/vi/GIN_cpdLyw4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAHlCVzyBVv1Ddx0tEktsYK_h5lBQ","duration":235000},{"youtubeId":"O1psuRNXq94","title":"[2-15] Last Battle - Cave Story Remastered Soundtrack","thumbnailUrl":"https://i.ytimg.com/vi/O1psuRNXq94/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBLpPXr-O5Smz9W3lABLZrKg0x5ow","duration":192000},{"youtubeId":"Fy7O5NrKjDA","title":"OC ReMix #3202: Super Smash Bros. Melee \'Together, We Fly\' [Fire Emblem] by Nabeel Ansari","thumbnailUrl":"https://i.ytimg.com/vi/Fy7O5NrKjDA/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDh4OfkIyFa5yTMZl5CRs-lEtg5OQ","duration":261000},{"youtubeId":"4CeO4S0wON0","title":"Now or Never! - Splatoon 2 OST","thumbnailUrl":"https://i.ytimg.com/vi/4CeO4S0wON0/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYfyA1KFgwDw==&rs=AOn4CLCkU2ataUYBBV0WFxU_SZ1ZMeUOKQ","duration":63000},{"youtubeId":"kfQ0zm065h0","title":"Bravely Default - Flying Fairy OST - 09 Conflict\'s Chime","thumbnailUrl":"https://i.ytimg.com/vi/kfQ0zm065h0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCmWO7MsqZmXcvRr-gggi1yhor8Tg","duration":164000},{"youtubeId":"eUNw6ka7oTE","title":"Bravely Default - Flying Fairy OST - 15 That Person\'s Name Is","thumbnailUrl":"https://i.ytimg.com/vi/eUNw6ka7oTE/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLChavR2ycGcvjO_MgNrX5xu9DWWfg","duration":338000},{"youtubeId":"UjQ5aKu123g","title":"Bravely Default - Flying Fairy OST - 26 Baby Bird","thumbnailUrl":"https://i.ytimg.com/vi/UjQ5aKu123g/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDlwX_oYVJEIVD6itZ5RfC8ie_VAA","duration":93000},{"youtubeId":"P0Xxnvvykgs","title":"Bravely Default - Flying Fairy OST - 24 You are My Hope","thumbnailUrl":"https://i.ytimg.com/vi/P0Xxnvvykgs/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDIyk2IQSET1EATD8ebIkapuJhAkg","duration":93000},{"youtubeId":"BEgIUiWw42U","title":"Bravely Default - Flying Fairy OST - 27 Love\'s Vagrant","thumbnailUrl":"https://i.ytimg.com/vi/BEgIUiWw42U/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBbb9z3JwNEtmJRsU3W1YuxFlgRXg","duration":97000},{"youtubeId":"aeVFo15FgPg","title":"Bravely Default - Flying Fairy OST - 25 Wind\'s Direction","thumbnailUrl":"https://i.ytimg.com/vi/aeVFo15FgPg/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAyORcYj_qiMSfLQ1IiKbbx_UZ3Kw","duration":92000},{"youtubeId":"KqXQp3_msnA","title":"Bravely Default - Flying Fairy OST - 23 Fighting to the End","thumbnailUrl":"https://i.ytimg.com/vi/KqXQp3_msnA/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAAO0-vXOAXYv9WrLxArBI3qtfWXA","duration":254000},{"youtubeId":"UeGV3MUlSpU","title":"Bravely Default - Flying Fairy OST - 44 Wicked Flight","thumbnailUrl":"https://i.ytimg.com/vi/UeGV3MUlSpU/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLA3UFFBLk28CXzOm-PteR7DWcsEFw","duration":473000},{"youtubeId":"kQUyiDaJxVM","title":"バトル1","thumbnailUrl":"https://i.ytimg.com/vi/kQUyiDaJxVM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAa0wEX6K3IlUDqf6e23-8KpZTcTA","duration":199000},{"youtubeId":"4aKFdpJ4_bo","title":"ボスバトル2","thumbnailUrl":"https://i.ytimg.com/vi/4aKFdpJ4_bo/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDWJw_3_gBrHjPJOSESKoGd39vJeg","duration":207000},{"youtubeId":"4aKFdpJ4_bo","title":"ボスバトル2","thumbnailUrl":"https://i.ytimg.com/vi/4aKFdpJ4_bo/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDWJw_3_gBrHjPJOSESKoGd39vJeg","duration":207000},{"youtubeId":"f3F_xd5R_4I","title":"理を司る者","thumbnailUrl":"https://i.ytimg.com/vi/f3F_xd5R_4I/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBXHcG_9afW2jpzO7QujRjlReaLZQ","duration":281000},{"youtubeId":"EjGmHjQYS2k","title":"旅路の果てに立ちはだかる者","thumbnailUrl":"https://i.ytimg.com/vi/EjGmHjQYS2k/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCp4sSPuIA9UCzPfJzO_51n5nzDCQ","duration":241000},{"youtubeId":"GiXS8qqKnJs","title":"魔女と呼ばれる者","thumbnailUrl":"https://i.ytimg.com/vi/GiXS8qqKnJs/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLB4bmaYvvtxP3obx272qPTvPYRpaQ","duration":249000},{"youtubeId":"AhRjEifd0Go","title":"魔神の血を継ぐ者","thumbnailUrl":"https://i.ytimg.com/vi/AhRjEifd0Go/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAcIQzHU8w5l4D7-pcQNV8huvvy0Q","duration":286000},{"youtubeId":"3MGqsC0fSoM","title":"Demon Slayer Mugen Train OST | EPIC SOUNDTRACK MIX (HQ Fan-Made)","thumbnailUrl":"https://i.ytimg.com/vi/3MGqsC0fSoM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBceXHMqnnFxxGzcfIUGcrG7PUvdg","duration":1527000},{"youtubeId":"zqvpTLTs9Dg","title":"Gurren Lagann OST Shoko Nakagawa - 04 - Sorairo Days [Instrumental]","thumbnailUrl":"https://i.ytimg.com/vi/zqvpTLTs9Dg/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLC-wWsT6Do1SQ405ZLCEcpavvQsGQ","duration":260000},{"youtubeId":"AkTche1J7O0","title":"Gurren Lagann OST Disc 2 - 21 - The Blue Monday E\'r\'ectrical Parade","thumbnailUrl":"https://i.ytimg.com/vi/AkTche1J7O0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAzoOigFW5m_q-CV30Y-D4Or26p9w","duration":290000},{"youtubeId":"_PvR39VWkLQ","title":"Kill La Kill - Ambiguous (Instrumental)","thumbnailUrl":"https://i.ytimg.com/vi/_PvR39VWkLQ/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBkvH4RSvnwmOmelwcyCqMideZjzQ","duration":270000},{"youtubeId":"5JygRcDzikA","title":"Jam Project - The Hero [Instrumental]","thumbnailUrl":"https://i.ytimg.com/vi/5JygRcDzikA/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDDP0MH-0PN-mo2bfKmLs0SsXuTQA","duration":229000},{"youtubeId":"4PuP7IkpRLU","title":"05.  Counterattack Mankind - High Quality","thumbnailUrl":"https://i.ytimg.com/vi/4PuP7IkpRLU/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYZSBZKFcwDw==&rs=AOn4CLCJBgUiStGpVKBQTeox9yMNpSCYAQ","duration":367000},{"youtubeId":"ddon3hc2MrE","title":"KATSUO ONO ( Detective Conan-OST 1) official MAIN THEME","thumbnailUrl":"https://i.ytimg.com/vi/ddon3hc2MrE/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCIZA88R3SZD8bMdl1wiRpp-GHuFQ","duration":154000},{"youtubeId":"LCIY41hopq4","title":"Mad Max - Brothers In Arms \\"Epic Rock\\" Cover (Little V)","thumbnailUrl":"https://i.ytimg.com/vi/LCIY41hopq4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBgw5a8xqQhKlT4E8c5X-dGk5Hyhw","duration":269000},{"youtubeId":"PQ0FNJJSL_U","title":"Splatoon 3 - Now or Never! (Full version)","thumbnailUrl":"https://i.ytimg.com/vi/PQ0FNJJSL_U/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYQyApKH8wDw==&rs=AOn4CLAattLp8TjfET9RXMAKXovkyH4eIg","duration":66000},{"youtubeId":"zmo0bMoony8","title":"Flying Battery Zone Act 1 - Sonic Mania [OST]","thumbnailUrl":"https://i.ytimg.com/vi/zmo0bMoony8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLA0E8SdyFfJJTSExYQAA-0chZGMQQ","duration":179000},{"youtubeId":"s7GE2aLKPgU","title":"Judy and Mary - Sobakasu (Opening Samurai X) [Instrumental]","thumbnailUrl":"https://i.ytimg.com/vi/s7GE2aLKPgU/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDyZZFixKE7yOeJalPXMhquIpOZqQ","duration":255000},{"youtubeId":"lM3DfSxWRYY","title":"One Punch Man OST -1080p- Inferiority (Original)","thumbnailUrl":"https://i.ytimg.com/vi/lM3DfSxWRYY/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLChs1iEedGk9JtYXNCt6WL5judrxg","duration":109000},{"youtubeId":"rW7OB_HDCGQ","title":"One Punch Man OST -1080p- Seigi Shikkou (Original)","thumbnailUrl":"https://i.ytimg.com/vi/rW7OB_HDCGQ/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYZSBbKFUwDw==&rs=AOn4CLCj0PVjMWcwIHMZ243TjxIaww-8Zw","duration":112000},{"youtubeId":"52LDf77XQ8g","title":"Imagine Dragons   Warriors INSTRUMENTAL Thing","thumbnailUrl":"https://i.ytimg.com/vi/52LDf77XQ8g/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBRuwo6WV-U8kq8SLivdT2iwe8O4g","duration":171000},{"youtubeId":"YVGBQ-vdOvI","title":"Imagine Dragons   Believer Official Instrumental","thumbnailUrl":"https://i.ytimg.com/vi/YVGBQ-vdOvI/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYIiBjKGUwDw==&rs=AOn4CLAbPp5zVZjMJ5sjOCJ73Hfei58fmg","duration":205000},{"youtubeId":"98fWhV-LIDk","title":"9mm Parabellum Bullet - Inferno [INSTRUMENTAL]","thumbnailUrl":"https://i.ytimg.com/vi/98fWhV-LIDk/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4EgALgA4oCDAgAEAEYYSBhKGEwDw==&rs=AOn4CLB4FAMpYsPftrKgv6fQLqpx-iQTVw","duration":91000},{"youtubeId":"3SDBTVcBUVs","title":"My Hero Academia OST - You Say Run + Jet Set Run (You Say Run v2)","thumbnailUrl":"https://i.ytimg.com/vi/3SDBTVcBUVs/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBz2UwzIyYeH04Bht2BiD1OWJvcyg","duration":455000},{"youtubeId":"ATS78TYGHLA","title":"Before My Body is Dry -Karaoke Version","thumbnailUrl":"https://i.ytimg.com/vi/ATS78TYGHLA/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAyJtNPbIpcrxYv6PE6gMGnWUhsOA","duration":249000},{"youtubeId":"z20ZJByZPLE","title":"The Rising of the Shield Hero OP Instrumental","thumbnailUrl":"https://i.ytimg.com/vi/z20ZJByZPLE/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDsxQ8F9Q_P-6Cn0bES_tat4fwlQw","duration":205000},{"youtubeId":"8fQx66J1jdg","title":"Bravely Default Remix - Love\'s Vagrant (Ringabel\'s Theme) - Dj CUTMAN & Ralfington - GameChops","thumbnailUrl":"https://i.ytimg.com/vi/8fQx66J1jdg/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD85f6YLcsCh9380o_e323LtuPFuw","duration":208000},{"youtubeId":"jBO07j8Unqc","title":"Bravely Default Remix - Beneath a Hollow Moon (Agnès Theme) - Dj CUTMAN & Ralfington - GameChops","thumbnailUrl":"https://i.ytimg.com/vi/jBO07j8Unqc/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAJJLZr69yt26xpR_JAa4VPT0m-5A","duration":175000},{"youtubeId":"8XbrLUTwsyw","title":"Bravely Default Remix - You Are My Hope (Tiz\'s Theme) - Dj CUTMAN & Ralfington - GameChops","thumbnailUrl":"https://i.ytimg.com/vi/8XbrLUTwsyw/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBE3kY2WhNyx83Umsn5bWky-2exLQ","duration":196000},{"youtubeId":"s7B8mMKZacg","title":"Bravely Default Remix - Baby Bird (Edea\'s Theme) - Dj CUTMAN & Ralfington - GameChops","thumbnailUrl":"https://i.ytimg.com/vi/s7B8mMKZacg/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBvLA1SEvq3HGn8C7_rLmyzVesz9w","duration":175000},{"youtubeId":"q657rEkgfKs","title":"Doom - At Doom\'s Gate E1M1 remake by Andrew Hulshult","thumbnailUrl":"https://i.ytimg.com/vi/q657rEkgfKs/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYfyA-KDAwDw==&rs=AOn4CLDl52ucERcoiopVwZ2LXkqJhkQCsw","duration":199000},{"youtubeId":"8aQSl-s_jqM","title":"Gurren Lagann OST Disc 2 - 06 - BafBaf! Burning Like that... Likable? / BafBaf! Sonna ni Moeru ...","thumbnailUrl":"https://i.ytimg.com/vi/8aQSl-s_jqM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAowtVxeEd-ekstuRcY6Zfn9a4m9g","duration":337000},{"youtubeId":"xgkhSTIlAxA","title":"Kill la Kill - Opening Theme, \\"Sirius\\" Instrumental","thumbnailUrl":"https://i.ytimg.com/vi/xgkhSTIlAxA/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4AdgDgALgA4oCDAgAEAEYZSBfKFMwDw==&rs=AOn4CLD4WpFg4GZ-yvyoDRdL6vA2YAY9nA","duration":266000},{"youtubeId":"GChbMAAHIJs","title":"Gurren Lagann OST Disc 2 - 08 - Spin, Spin, Spin, Spi!? / Mawatte Mawatte Mawatte Mawaa!? / ...","thumbnailUrl":"https://i.ytimg.com/vi/GChbMAAHIJs/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBouffZtJXNBSPWobW7QVgA0URTxw","duration":186000},{"youtubeId":"d23giya974M","title":"Hades OST... but it\'s Funky","thumbnailUrl":"https://i.ytimg.com/vi/d23giya974M/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBN8BxXznI7DySaZIJj_i8BneT-Cg","duration":151000},{"youtubeId":"UIex7GcuC2M","title":"DuckTales - Moon Theme (Sim Gretina Remix)","thumbnailUrl":"https://i.ytimg.com/vi/UIex7GcuC2M/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLB30tC9k-l3GQbMBxFHrr-xWohHTQ","duration":153000}]},{"playlistId":"PLV8C9t518pCJVX2o3tmvpYJhWADDl2DnG","title":"D&D - Dangerous Battle","musics":[{"youtubeId":"lAGm9MTyRJ8","title":"Combat Music Megamix - The Witcher 3: Wild Hunt","thumbnailUrl":"https://i.ytimg.com/vi/lAGm9MTyRJ8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCThMfOzW_ILm2kxBehGhxFgGFgjQ","duration":3502000},{"youtubeId":"QV5ZBuNJMx0","title":"Attack On Titan - Vogel im Käfig Re-Mastered (Epic sound quality)","thumbnailUrl":"https://i.ytimg.com/vi/QV5ZBuNJMx0/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYciBQKDUwDw==&rs=AOn4CLBaYGE06kmcBiZotd3_zlldNRZ_xQ","duration":243000},{"youtubeId":"BdgH0gFGVqs","title":"Attack on Titan Theme (ətˈæk 0N tάɪtn WMId) | EPIC ORCHESTRAL VERSION","thumbnailUrl":"https://i.ytimg.com/vi/BdgH0gFGVqs/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCfoN82DeZqmy-WvNL6b2z8WgS_Aw","duration":303000},{"youtubeId":"TQUsnto_3pw","title":"Shingeki no Kyojin - Attack on Titan Fight Theme","thumbnailUrl":"https://i.ytimg.com/vi/TQUsnto_3pw/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4AdQGgALgA4oCDAgAEAEYZSBkKFkwDw==&rs=AOn4CLDwQcxLDfelFqzWnoEmmRZJHvpjUQ","duration":261000},{"youtubeId":"i_0P1TOFwE8","title":"Chopin - Funeral March but it\'s ATTACK ON TITAN STYLE (feat. Before Lights Out)","thumbnailUrl":"https://i.ytimg.com/vi/i_0P1TOFwE8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCqw5-0UPtSvQ4GE_JqOeHwspmsyw","duration":351000},{"youtubeId":"id72AIxqH_c","title":"THE APOCALYPSE - Attack on Titan Inspired Epic Dark Original Music | @RokNardin & Samuel Kim","thumbnailUrl":"https://i.ytimg.com/vi/id72AIxqH_c/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAw1brJf9SOK6_6tWwHpWZZSv9CQg","duration":246000},{"youtubeId":"3TX7ca4QC9M","title":"Beethoven - Moonlight Sonata but it\'s ATTACK ON TITAN STYLE (Rumbling Sonata)","thumbnailUrl":"https://i.ytimg.com/vi/3TX7ca4QC9M/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCVdG0WRPBGwRjHqAUINriS-ewdKQ","duration":253000},{"youtubeId":"qBSkCfJ6oOk","title":"Attack on Titan S4: Footsteps of Doom | EPIC COVER (feat. Ashes on The Fire)","thumbnailUrl":"https://i.ytimg.com/vi/qBSkCfJ6oOk/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCfUxPTSVnLOVqrUxVRIEiyh_xryg","duration":306000},{"youtubeId":"9HaB4cVSNnw","title":"Attack on Titan: YOUSEEBIGGIRL/T:T (Apple Seed x Vogel Im Kafig) | EPIC COVER","thumbnailUrl":"https://i.ytimg.com/vi/9HaB4cVSNnw/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLC2EdkfHh5gRfJQfz3is2skU-zcfw","duration":368000},{"youtubeId":"9uatm_Q_a2U","title":"Mozart - Lacrimosa but it\'s ATTACK ON TITAN STYLE","thumbnailUrl":"https://i.ytimg.com/vi/9uatm_Q_a2U/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAU1H2-o1L-WW44R_44nO0F1YQjWw","duration":316000},{"youtubeId":"Gs-zRlcL2V0","title":"Wagner - Ride of The Valkyries but it\'s ATTACK ON TITAN STYLE (feat. ətˈæk 0N tάɪtn)","thumbnailUrl":"https://i.ytimg.com/vi/Gs-zRlcL2V0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAKgOfNHKUE-EXFW_vNrMXESooJHA","duration":307000},{"youtubeId":"INqk7yT5tYs","title":"Fire Emblem Three Houses - Descent","thumbnailUrl":"https://i.ytimg.com/vi/INqk7yT5tYs/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCx3X4yCE7UNhtLWfwAjtJl6Ki2Hw","duration":159000},{"youtubeId":"SJXwqcbrCjo","title":"Fire Emblem - The Apex of the World (Rain/Thunder/Inferno)","thumbnailUrl":"https://i.ytimg.com/vi/SJXwqcbrCjo/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDNBuzcw8U2wGc6H8H30seLgNEEzQ","duration":1103000},{"youtubeId":"jNzaHzO4DC0","title":"Fire Emblem - Roar of Dominion (Rain/Thunder/Inferno/Embers)","thumbnailUrl":"https://i.ytimg.com/vi/jNzaHzO4DC0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLC5qXAPWzZ8sFMQ98lbMnyjoRxuRg","duration":684000},{"youtubeId":"TOrp-dXKLiM","title":"Fire Emblem - Blue Skies and a Battle / Between Heaven and Earth (Rain/Thunder/Inferno/Embers)","thumbnailUrl":"https://i.ytimg.com/vi/TOrp-dXKLiM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBVGNg1itZj0JB5SbLjHX0EP-CJtw","duration":1083000},{"youtubeId":"TetmGhV1L7Q","title":"Fire Emblem - Corridor of the Tempest (Rain/Thunder/Inferno/Embers)","thumbnailUrl":"https://i.ytimg.com/vi/TetmGhV1L7Q/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLB_FVnrOm9HEnPeliGIm5UvQLiFdA","duration":750000},{"youtubeId":"0upUS7ro6i0","title":"Fire Emblem - Chasing Daybreak (Rain/Thunder/Inferno/Embers)","thumbnailUrl":"https://i.ytimg.com/vi/0upUS7ro6i0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBMfV2SmFG8NhmDAL0Y3a0R0AcalQ","duration":622000},{"youtubeId":"PWJUr33FINQ","title":"Fire Emblem - Fódlan Winds (Rain/Thunder/Inferno/Embers)","thumbnailUrl":"https://i.ytimg.com/vi/PWJUr33FINQ/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDbBwhMG9Mxqcze9Dal0AJaEeWXMg","duration":609000},{"youtubeId":"768cMj36p3o","title":"Attack on Titan S4 OST: Mikasa x Levi Ackerman Charge Theme (Levi vs Female Titan Theme & MORE)","thumbnailUrl":"https://i.ytimg.com/vi/768cMj36p3o/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDtXUXuHnM8L-UXJYfjs4TzDslTDA","duration":332000},{"youtubeId":"D6TtASxc6d4","title":"Attack on Titan S4 Episode 14 OST: Levi vs Zeke Theme (HQ COVER)","thumbnailUrl":"https://i.ytimg.com/vi/D6TtASxc6d4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAWagcwI-asCjkj44QKCOO_GXrmgA","duration":334000},{"youtubeId":"50NUVyTO0Dc","title":"E・M・A - Attack on Titan Original Soundtrack Vol. 1","thumbnailUrl":"https://i.ytimg.com/vi/50NUVyTO0Dc/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDN_BnPXOuWjM6SDN_6HIv_uOMWmQ","duration":345000},{"youtubeId":"rKNQHBl_Zmk","title":"Attack on Titan Season 4 Episode 6 OST: Mikasa vs Warhammer Titan Theme (Devils of Paradis Island)","thumbnailUrl":"https://i.ytimg.com/vi/rKNQHBl_Zmk/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLC6-5022P4V5DfPiVTmS9kDJ0Ji1g","duration":277000},{"youtubeId":"SAZzSt8UBUw","title":"Shadows of Hyrule (feat. Celica Soldream)","thumbnailUrl":"https://i.ytimg.com/vi/SAZzSt8UBUw/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBqbclRyYOVI5l0hX4mmoZpdcpCvg","duration":478000},{"youtubeId":"k5tIGl7wqCg","title":"Demon Slayer: Rengoku Theme | EPIC MUSIC MIX (Set Your Heart Ablaze)","thumbnailUrl":"https://i.ytimg.com/vi/k5tIGl7wqCg/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLATzEGdyt68b8RtXqlu7btr05LorA","duration":794000},{"youtubeId":"ZAsB1X14tHY","title":"Shingekin no Kyojin OST CD1   04  立body機motion","thumbnailUrl":"https://i.ytimg.com/vi/ZAsB1X14tHY/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDlsrlJXTAMgVAuNehwcCgyOYLEoA","duration":343000},{"youtubeId":"Y1CyocdPQyE","title":"Daniel Yount - The Yogscast - Call of The Heroes","thumbnailUrl":"https://i.ytimg.com/vi/Y1CyocdPQyE/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCw0R2-WfgV8Sd_vPj0NU1PQtAeYw","duration":149000},{"youtubeId":"cej2O-mem64","title":"TO KILL A GOD | Epic Battle Dark Heroic Music | Epic Music Mix by @audiomachine","thumbnailUrl":"https://i.ytimg.com/vi/cej2O-mem64/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCCyftwMP9ZiswoX9FZyzQxD3QmkA","duration":1803000},{"youtubeId":"U_vB6sMbRb4","title":"Mayhem - Rome Total War Original Soundtrack - Jeff van Dyck","thumbnailUrl":"https://i.ytimg.com/vi/U_vB6sMbRb4/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4AdQGgALgA4oCDAgAEAEYfyBDKCgwDw==&rs=AOn4CLD5fMuMLqohtsdc8QOYZmG9NePInA","duration":220000},{"youtubeId":"A0xTx2BsLRc","title":"MHW: Iceborne OST [Disc 2] - Nay! The Honor is All Ours","thumbnailUrl":"https://i.ytimg.com/vi/A0xTx2BsLRc/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYPyBMKH8wDw==&rs=AOn4CLC62aXaHIkQ-3d0fAIoZCGcEJ_f6g","duration":297000},{"youtubeId":"6N9SS6L0TDU","title":"Avatar: The Last Airbender Theme | EPIC VERSION","thumbnailUrl":"https://i.ytimg.com/vi/6N9SS6L0TDU/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBM4fvBaYeTR7YjQujRkroADtBrIg","duration":199000},{"youtubeId":"trjssvsw6Lw","title":"Fire Emblem - Tempest of Seasons  (Rain/Thunder/Inferno/Embers)","thumbnailUrl":"https://i.ytimg.com/vi/trjssvsw6Lw/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLA9m19t3XXveO0ERij2CyiydjXAtw","duration":578000},{"youtubeId":"IbBE3WcY6y0","title":"Fire Emblem - Melody of Clarity (Inferno/Embers)","thumbnailUrl":"https://i.ytimg.com/vi/IbBE3WcY6y0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDMbo9ghOeoervERKYxvdAc-NrLcg","duration":551000},{"youtubeId":"JtpNjJ_EGm4","title":"Fire Emblem - The Long Road (Rain/Thunder/Inferno/Embers)","thumbnailUrl":"https://i.ytimg.com/vi/JtpNjJ_EGm4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAvDAlsAhSKp2XpLs2KTLxm0lEpZg","duration":637000},{"youtubeId":"vJ840kU38pE","title":"The Dragon | God of War OST","thumbnailUrl":"https://i.ytimg.com/vi/vJ840kU38pE/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4AdQGgALgA4oCDAgAEAEYRyBgKGUwDw==&rs=AOn4CLAUgZ91lEv-stD6KJK6Ytv0ZbZWeQ","duration":257000},{"youtubeId":"CtD132lmQGc","title":"\\"The Fight With Death\\" by Heitor Pereira from PUSS IN BOOTS   THE LAST WISH","thumbnailUrl":"https://i.ytimg.com/vi/CtD132lmQGc/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYciBUKDQwDw==&rs=AOn4CLDWqM3SMbWkDytgg-3fpw5cPVFohw","duration":144000},{"youtubeId":"8aQSl-s_jqM","title":"Gurren Lagann OST Disc 2 - 06 - BafBaf! Burning Like that... Likable? / BafBaf! Sonna ni Moeru ...","thumbnailUrl":"https://i.ytimg.com/vi/8aQSl-s_jqM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAowtVxeEd-ekstuRcY6Zfn9a4m9g","duration":337000},{"youtubeId":"ngMk0oAiyZI","title":"Demon Slayer S2: Inosuke Theme V3 | EPIC VERSION (Inosuke, Tanjiro, & Zenitsu vs Daki)","thumbnailUrl":"https://i.ytimg.com/vi/ngMk0oAiyZI/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCSsNaY6tH6Z6G1bX3hETdqdc6lyg","duration":266000},{"youtubeId":"xe5E6PjR9sg","title":"Demon Slayer S2: Zenitsu Theme V3 | EPIC VERSION (Zenitsu vs Daki)","thumbnailUrl":"https://i.ytimg.com/vi/xe5E6PjR9sg/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLB-TGeQYj41dkIRc5e66RYnMxXo_A","duration":320000},{"youtubeId":"s04a9Kif1WM","title":"Demon Slayer S3: Swordsmith Village Arc Trailer Music | EPIC VERSION (Muichiro Theme Extended)","thumbnailUrl":"https://i.ytimg.com/vi/s04a9Kif1WM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBT3M8RlIPvkZgCd_MfN96GNiqitQ","duration":249000},{"youtubeId":"4cPvtOfkkIM","title":"Attack on Titan Theme (ətˈæk 0N tάɪtn x Footsteps of Doom) | EPIC FINALE VERSION","thumbnailUrl":"https://i.ytimg.com/vi/4cPvtOfkkIM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBSlcZweWcb01ba0L0uhemv8nZEgg","duration":249000},{"youtubeId":"4uvqbpkowLA","title":"DRAGON\'S WRATH | Intense Dark Apocalyptic Battle Mix | 1 Hour Epic Music","thumbnailUrl":"https://i.ytimg.com/vi/4uvqbpkowLA/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDC9pftjU8VYkwpdHnwF08kbfUZlA","duration":3637000},{"youtubeId":"UopuMvi0SCw","title":"Wondrous Battle Music: \\"They Fought As Legends\\"","thumbnailUrl":"https://i.ytimg.com/vi/UopuMvi0SCw/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDU3gxWBXwJsVnXxbnhrA2uqJPEGw","duration":140000},{"youtubeId":"prvAdHXUvbs","title":"The Witcher 3 OST - Hunt or Be Hunted (Extended)","thumbnailUrl":"https://i.ytimg.com/vi/prvAdHXUvbs/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBoJI970ECLqWE0OC3GvAuuAK9Njg","duration":559000}]},{"playlistId":"PLV8C9t518pCInIaeVhXxFiHdcVctaDDqB","title":"D&D - Theros - Boss Battle","musics":[{"youtubeId":"UjBTtNU27Ec","title":"09 Gods & Glory (Hollow Knight: Gods & Nightmares)","thumbnailUrl":"https://i.ytimg.com/vi/UjBTtNU27Ec/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBREHT_TuUop4_oB8C523SIDpCvdQ","duration":173000},{"youtubeId":"Ftd5d8_8Bgg","title":"RWBY - Red Like Roses Part II Instrumental - complete edit","thumbnailUrl":"https://i.ytimg.com/vi/Ftd5d8_8Bgg/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4EgALuAooCDAgAEAEYfyATKDIwDw==&rs=AOn4CLDUidvwovEGJEEJRqHByl-L7FkEmw","duration":261000},{"youtubeId":"ut_RjDGUJoY","title":"14 Furious Gods (Hollow Knight: Gods & Nightmares)","thumbnailUrl":"https://i.ytimg.com/vi/ut_RjDGUJoY/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDv-uSvuo_p82kE-jPi_f1ECSc4dg","duration":68000},{"youtubeId":"TgxPkXjcwSA","title":"GODLIKE | 1 HOUR Of Epic Dramatic Action Music","thumbnailUrl":"https://i.ytimg.com/vi/TgxPkXjcwSA/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBc6ofG--nbXmCKKYSpe6bOkiDG6w","duration":2981000},{"youtubeId":"GiXS8qqKnJs","title":"魔女と呼ばれる者","thumbnailUrl":"https://i.ytimg.com/vi/GiXS8qqKnJs/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLB4bmaYvvtxP3obx272qPTvPYRpaQ","duration":249000},{"youtubeId":"o5_nMrARi-k","title":"10 Daughter of Hallownest (Hollow Knight: Gods & Nightmares)","thumbnailUrl":"https://i.ytimg.com/vi/o5_nMrARi-k/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYfyAiKEswDw==&rs=AOn4CLBpwPLM-m5HVRlOaV4tSX5MNIDoWg","duration":177000},{"youtubeId":"Mm0YmRHdyz4","title":"No Helping It! (Extended Version) - Gurren Lagann OST","thumbnailUrl":"https://i.ytimg.com/vi/Mm0YmRHdyz4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCAt1mNukOoYEsHFSf0_aEQ4PwGVQ","duration":108000},{"youtubeId":"AkTche1J7O0","title":"Gurren Lagann OST Disc 2 - 21 - The Blue Monday E\'r\'ectrical Parade","thumbnailUrl":"https://i.ytimg.com/vi/AkTche1J7O0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAzoOigFW5m_q-CV30Y-D4Or26p9w","duration":290000},{"youtubeId":"A_ndaumP7zE","title":"Spinning, Spinning, Spinning, Spiii!? - Gurren Lagann OST","thumbnailUrl":"https://i.ytimg.com/vi/A_ndaumP7zE/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCaFWuY4q1dN3fLiAep3bsBCyV3sg","duration":177000},{"youtubeId":"tnU7zf9YVoA","title":"Darkest Dungeon Soundtrack: Return to the Warrens (Extended Version)","thumbnailUrl":"https://i.ytimg.com/vi/tnU7zf9YVoA/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDm8gpnglurH23F-rpz6y3rmcm5eQ","duration":780000},{"youtubeId":"ja1texxSyj8","title":"Darkest Dungeon Soundtrack: The Cove Battle (Extended Version)","thumbnailUrl":"https://i.ytimg.com/vi/ja1texxSyj8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDcXACucgxLiMIWpKYh2bKbWoPx9A","duration":795000},{"youtubeId":"ja1texxSyj8","title":"Darkest Dungeon Soundtrack: The Cove Battle (Extended Version)","thumbnailUrl":"https://i.ytimg.com/vi/ja1texxSyj8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDcXACucgxLiMIWpKYh2bKbWoPx9A","duration":795000},{"youtubeId":"MlG0XKBeD2k","title":"Darkest Dungeon Soundtrack: Mournweald Encounter (Extended Version)","thumbnailUrl":"https://i.ytimg.com/vi/MlG0XKBeD2k/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAco2pohwkZcgJIfs1XNDNBu-Iphw","duration":822000},{"youtubeId":"4EIAcIjnnQM","title":"Darkest Dungeon Soundtrack: The Final Combat (Extended Version)","thumbnailUrl":"https://i.ytimg.com/vi/4EIAcIjnnQM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDHUc7f41V16GYW7cT4-kbQzBnNuA","duration":882000},{"youtubeId":"45YbWPmTMdA","title":"Darkest Dungeon OST - Bloodletting (hallway version)","thumbnailUrl":"https://i.ytimg.com/vi/45YbWPmTMdA/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCAIxy3KUnjJY1TtKv1N7LWMCdaBw","duration":831000},{"youtubeId":"Nf4O9iS3NeM","title":"Darkest Dungeon Soundtrack: Battle in the Ruins (Extended Version)","thumbnailUrl":"https://i.ytimg.com/vi/Nf4O9iS3NeM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCc1aWeZvclX5F_5fT26zoz5e1hOg","duration":779000},{"youtubeId":"NXnxsETdSJ8","title":"Fire Emblem Heroes Music; Enemy Phase","thumbnailUrl":"https://i.ytimg.com/vi/NXnxsETdSJ8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD072Ov3LMs06jw4hSNXHx_0azZ6g","duration":81000},{"youtubeId":"NYvX-NmWwOs","title":"Fire Emblem Heroes Music; Player Phase","thumbnailUrl":"https://i.ytimg.com/vi/NYvX-NmWwOs/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDasWROrbDuW4tiM2Ua_ZBoIyiLVA","duration":92000},{"youtubeId":"lAGm9MTyRJ8","title":"Combat Music Megamix - The Witcher 3: Wild Hunt","thumbnailUrl":"https://i.ytimg.com/vi/lAGm9MTyRJ8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCThMfOzW_ILm2kxBehGhxFgGFgjQ","duration":3502000},{"youtubeId":"pHUHdprKIwo","title":"The witcher 3: Wild Hunt - Cloak and Dagger Extended","thumbnailUrl":"https://i.ytimg.com/vi/pHUHdprKIwo/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYTyBeKGUwDw==&rs=AOn4CLCcN0YbZJRLET6UIjliyxz_aiQtYA","duration":507000},{"youtubeId":"cVukkhUI-xM","title":"Hades - God of the Dead","thumbnailUrl":"https://i.ytimg.com/vi/cVukkhUI-xM/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYfyAnKEQwDw==&rs=AOn4CLAwaX14JairIFor7x05wJRpF62g6Q","duration":542000},{"youtubeId":"vqKoFKVxTYM","title":"Hades - The Painful Way","thumbnailUrl":"https://i.ytimg.com/vi/vqKoFKVxTYM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAvewaFhJHpoErzRINpU3LgCvhFmw","duration":414000},{"youtubeId":"leHkDJRKGY8","title":"Hades - Wretched Shades","thumbnailUrl":"https://i.ytimg.com/vi/leHkDJRKGY8/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYLCBlKFQwDw==&rs=AOn4CLBZ82CvKdnuEkw-pdc7_sGBZT8gTg","duration":176000},{"youtubeId":"oksESAMg7WM","title":"Hades - No Escape","thumbnailUrl":"https://i.ytimg.com/vi/oksESAMg7WM/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYEiBlKFYwDw==&rs=AOn4CLDCyS4oIMj6tC3LwV39KJPt61W-Wg","duration":146000},{"youtubeId":"OZfe_M8WoQQ","title":"Demon Slayer: Mugen Train - Rengoku Theme (Epic Suite) 【Intense Symphonic Metal Cover】","thumbnailUrl":"https://i.ytimg.com/vi/OZfe_M8WoQQ/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD0cUtySOBULq25g46JcqwfZfFmsA","duration":338000},{"youtubeId":"IopCxEnVgYg","title":"Combat Mosh","thumbnailUrl":"https://i.ytimg.com/vi/IopCxEnVgYg/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBs3meQjIgeHVn2UyZLxHfUpaPcIw","duration":280000},{"youtubeId":"2IkI8YXIwzM","title":"Gloryhammer - Beneath Cowdenbeath","thumbnailUrl":"https://i.ytimg.com/vi/2IkI8YXIwzM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLB-kisFfA57_JAfMce0Ye6kStN_zg","duration":143000},{"youtubeId":"wrkqBg4-OME","title":"Beorn -  Riders of the Sky (instrumental)","thumbnailUrl":"https://i.ytimg.com/vi/wrkqBg4-OME/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBeKX-cWJpcJBVpYtzzQw-3UsUy6Q","duration":291000},{"youtubeId":"_2IFWIOjOnA","title":"Ascension - Orb Of The Moons","thumbnailUrl":"https://i.ytimg.com/vi/_2IFWIOjOnA/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCyoNZi5OB9zxDeFAXFyj1QBgRylw","duration":288000},{"youtubeId":"HT2WV0cGi_Y","title":"Warmen - Warcry of Salieri","thumbnailUrl":"https://i.ytimg.com/vi/HT2WV0cGi_Y/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBSCONNyuRTSARcZiyi-KJBNBuE4w","duration":357000},{"youtubeId":"bMOa3rjtHkE","title":"Final Fantasy III - The Decisive Battle (SNES)","thumbnailUrl":"https://i.ytimg.com/vi/bMOa3rjtHkE/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAtPh_sKdnNsg_pMuUJCFVnHzyFCA","duration":117000},{"youtubeId":"E3RLz4umNo0","title":"Rival Battle - Pokémon Gold/Silver/Crystal Soundtrack","thumbnailUrl":"https://i.ytimg.com/vi/E3RLz4umNo0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDHf9Kml7boEiNMX0Tqn4iB_ID0-A","duration":128000},{"youtubeId":"IEsdTqfoOc4","title":"The Adventure Zone Wonderland Megamix","thumbnailUrl":"https://i.ytimg.com/vi/IEsdTqfoOc4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAX6EhNo7d8fv_Wm4hoKs3ELrypow","duration":402000},{"youtubeId":"MpHkH4ayBYc","title":"No Healing in Wonderland [TAZ Medley]","thumbnailUrl":"https://i.ytimg.com/vi/MpHkH4ayBYc/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAYe_nbkM0IuMqm00nho6XJhLh7qQ","duration":228000},{"youtubeId":"XTHYdavCy5w","title":"Yu-Gi-Oh! The Unreleased Scores- Egyptian God Monsters","thumbnailUrl":"https://i.ytimg.com/vi/XTHYdavCy5w/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD6z2gdlKzGZajlWUis5earRTc56Q","duration":123000},{"youtubeId":"G22gUee8ijU","title":"\'Thor: Ragnarok\' Main Theme by Mark Mothersbaugh","thumbnailUrl":"https://i.ytimg.com/vi/G22gUee8ijU/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAWtESYyt9DIMrH4t9G8pxZWeL0dg","duration":195000},{"youtubeId":"1OfYcfmmawE","title":"Undertale - Finale 【Intense Symphonic Metal Cover】","thumbnailUrl":"https://i.ytimg.com/vi/1OfYcfmmawE/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAnQg1MHv9MBqojsQbXs33aRjrzgA","duration":332000},{"youtubeId":"mWNKFBeYVxw","title":"DELTARUNE: The World Revolving || Metal Cover by RichaadEB","thumbnailUrl":"https://i.ytimg.com/vi/mWNKFBeYVxw/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD-IJTFaHwHbJz9Iyn-7mYA9N3gdA","duration":219000},{"youtubeId":"m5Akp2MWCD0","title":"Shovel Knight: Specter of Torment - HIDDEN BY NIGHT -- Metal Cover by J-Trigger","thumbnailUrl":"https://i.ytimg.com/vi/m5Akp2MWCD0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCdtqhjwRCVdpwIeKAfIo0nz4e9dA","duration":201000},{"youtubeId":"i_exNaxGFqE","title":"The Price of Doing Business [Iron Whale] (Shovel Knight: Specter of Torment) - GaMetal Remix","thumbnailUrl":"https://i.ytimg.com/vi/i_exNaxGFqE/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLASDIroy-qK5JkSJvHPiVz-GNoc1A","duration":196000},{"youtubeId":"IN13LHwt7Gk","title":"Chrono Trigger - Boss Battle 2 - Symphonic Metal Cover","thumbnailUrl":"https://i.ytimg.com/vi/IN13LHwt7Gk/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBbT8Jnumcd1gQi8F_45SXtFYE_ig","duration":156000},{"youtubeId":"gt7PkxBF7Fc","title":"Chrono Trigger BOSS THEME - METAL Cover by ToxicxEternity feat. FamilyJules","thumbnailUrl":"https://i.ytimg.com/vi/gt7PkxBF7Fc/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD6dhbySR5D7sIXnoIYyGw_F3ktXQ","duration":235000},{"youtubeId":"fKEKMUSxk_4","title":"Final Fantasy VI - Dancing Mad 【Intense Symphonic Metal Cover】","thumbnailUrl":"https://i.ytimg.com/vi/fKEKMUSxk_4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAw1jkWZ83Rnn46eGhnIIrDiylnhQ","duration":1060000},{"youtubeId":"2uzgv3Oz2gw","title":"But The Earth Was Determined. (Battle Against a True Hero Remix)","thumbnailUrl":"https://i.ytimg.com/vi/2uzgv3Oz2gw/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYZSBlKGUwDw==&rs=AOn4CLDWuWSgRnA0gVwafV6OAYbo_VIPsg","duration":264000},{"youtubeId":"bMfvZmhqW0A","title":"God Shattering Star","thumbnailUrl":"https://i.ytimg.com/vi/bMfvZmhqW0A/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYZSBgKFcwDw==&rs=AOn4CLAqvydFowOBe_ubPUuzyGdN40YlQw","duration":500000},{"youtubeId":"gP50CftITkE","title":"Chill Touch - Keen-Eyed Huntress - Pantheon","thumbnailUrl":"https://i.ytimg.com/vi/gP50CftITkE/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBE0CZG6JyKFYm2FK2f9QDV2lIwRg","duration":262000},{"youtubeId":"VAxI4YAULOk","title":"Chill Touch - Victory is Eternal - Pantheon","thumbnailUrl":"https://i.ytimg.com/vi/VAxI4YAULOk/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4AdQGgALgA4oCDAgAEAEYSCBFKGUwDw==&rs=AOn4CLC3XuT21EWilCgEVAZhkpvuR3tuPg","duration":246000},{"youtubeId":"_3TQa3M5Kwc","title":"Chill Touch - Bleak-Hearted One - Pantheon","thumbnailUrl":"https://i.ytimg.com/vi/_3TQa3M5Kwc/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD2D_IdLOw3t5L0LkW2ROyGH8oG7w","duration":448000},{"youtubeId":"tKJM1Exp49s","title":"Chill Touch - Ferryman - Pantheon","thumbnailUrl":"https://i.ytimg.com/vi/tKJM1Exp49s/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCZtDgl_2qUUTXX64Nr4-SVyLelRg","duration":591000},{"youtubeId":"wxLmav6K6p0","title":"Chill Touch - Son of Suns, King of Gods - Pantheon","thumbnailUrl":"https://i.ytimg.com/vi/wxLmav6K6p0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCSXpXcPJao7Ka8IOayBfL7LXtdqQ","duration":442000},{"youtubeId":"j2wUjcWtYL8","title":"Chill Touch - Lord of Carnage - Pantheon","thumbnailUrl":"https://i.ytimg.com/vi/j2wUjcWtYL8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBIIy_M0amHLirim5ntvBCd_fRt3g","duration":395000},{"youtubeId":"jAm3f6HDmN4","title":"Chill Touch - Goddess of the Briny Deep - Pantheon","thumbnailUrl":"https://i.ytimg.com/vi/jAm3f6HDmN4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLALN9kLcZ7l6WbASnsaFOIY7-UWMg","duration":213000},{"youtubeId":"b_oEDGONSc4","title":"[Official] Celeste Original Soundtrack - 16 - Confronting Myself","thumbnailUrl":"https://i.ytimg.com/vi/b_oEDGONSc4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBCSJcONIJf_IiAoap3hlxEt3IGog","duration":250000},{"youtubeId":"Cx_CUbCesR8","title":"[Top 100 RPG Battle Themes]#17 Chrono Trigger","thumbnailUrl":"https://i.ytimg.com/vi/Cx_CUbCesR8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBD5zUKpqnqzK39Ju4jKrWJtb6G5A","duration":212000},{"youtubeId":"0ly8Q3MieZk","title":"[Top 100 RPG Battle]#45 Fire Emblem: Mystery of the Emblem","thumbnailUrl":"https://i.ytimg.com/vi/0ly8Q3MieZk/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLA_JdQi-qi6nyV5gAI3KWCkNcLGqQ","duration":75000},{"youtubeId":"TQUsnto_3pw","title":"Shingeki no Kyojin - Attack on Titan Fight Theme","thumbnailUrl":"https://i.ytimg.com/vi/TQUsnto_3pw/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4AdQGgALgA4oCDAgAEAEYZSBkKFkwDw==&rs=AOn4CLDwQcxLDfelFqzWnoEmmRZJHvpjUQ","duration":261000},{"youtubeId":"BdgH0gFGVqs","title":"Attack on Titan Theme (ətˈæk 0N tάɪtn WMId) | EPIC ORCHESTRAL VERSION","thumbnailUrl":"https://i.ytimg.com/vi/BdgH0gFGVqs/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCfoN82DeZqmy-WvNL6b2z8WgS_Aw","duration":303000},{"youtubeId":"QV5ZBuNJMx0","title":"Attack On Titan - Vogel im Käfig Re-Mastered (Epic sound quality)","thumbnailUrl":"https://i.ytimg.com/vi/QV5ZBuNJMx0/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYciBQKDUwDw==&rs=AOn4CLBaYGE06kmcBiZotd3_zlldNRZ_xQ","duration":243000},{"youtubeId":"ZAsB1X14tHY","title":"Shingekin no Kyojin OST CD1   04  立body機motion","thumbnailUrl":"https://i.ytimg.com/vi/ZAsB1X14tHY/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDlsrlJXTAMgVAuNehwcCgyOYLEoA","duration":343000}]},{"playlistId":"PLV8C9t518pCJ7Ymh3qHv5iqha9F-3n2J7","title":"D&D - Victory","musics":[{"youtubeId":"PraIkvq2n8s","title":"Bravely Default - Flying Fairy OST - 10 Victory\'s Delight","thumbnailUrl":"https://i.ytimg.com/vi/PraIkvq2n8s/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBubvbBFaAK51gKPVW5PlGHCoFyzg","duration":38000},{"youtubeId":"sneCd-SN_T4","title":"Soldier, Poet, King - Cullen Vance","thumbnailUrl":"https://i.ytimg.com/vi/sneCd-SN_T4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLALdND9argWXYl1Aclsfpn_tcIbpg","duration":157000},{"youtubeId":"v2RC7FlaH9U","title":"The Adventure Zone: Lucretia - Griffin McElroy","thumbnailUrl":"https://i.ytimg.com/vi/v2RC7FlaH9U/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4AeYCgALoAooCDAgAEAEYciBYKDQwDw==&rs=AOn4CLC5lYcICIPvrvs_wGQmKs_rtKpgzQ","duration":173000},{"youtubeId":"9uCwsMWMny0","title":"[Karaoke] \\"Zankoku na Tenshi no TE-ZE\\" by Takahashi Youko","thumbnailUrl":"https://i.ytimg.com/vi/9uCwsMWMny0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAUSH5e5DW9grnU_etOUsen_wvjeQ","duration":249000},{"youtubeId":"mnfNWe-HHsI","title":"Hyper Potions - Time Trials (Sonic Mania Pre-Order Trailer Song)","thumbnailUrl":"https://i.ytimg.com/vi/mnfNWe-HHsI/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBKNmJpYyTTnUeJHuIMOKW-AtcHCw","duration":203000},{"youtubeId":"OEboG4LnUBI","title":"Hyper Potions - Friends (Sonic Mania Opening Animation Song)","thumbnailUrl":"https://i.ytimg.com/vi/OEboG4LnUBI/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDFrsuId8h-hiGFZs5-fH2J8bPiRQ","duration":221000},{"youtubeId":"tA-frKY2zJA","title":"Nichijou Songs - Hyadain no Kakakata☆Kataomoi C (off vocal)","thumbnailUrl":"https://i.ytimg.com/vi/tA-frKY2zJA/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD43FZEFteSdcR8CSDKLU54Rb8Ukg","duration":234000},{"youtubeId":"ghk8O1yiY0I","title":"Overwatch Soundtracks - Victory Theme","thumbnailUrl":"https://i.ytimg.com/vi/ghk8O1yiY0I/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCXse3vEmbmSf3ad3irwCktVHlYqw","duration":115000},{"youtubeId":"HYmn5BQIxdQ","title":"Hopes and Dreams \\"Orchestrated\\"","thumbnailUrl":"https://i.ytimg.com/vi/HYmn5BQIxdQ/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYfyAzKGIwDw==&rs=AOn4CLDLhwJDsAajAZwpNNOcK81WYKydXg","duration":453000},{"youtubeId":"9NmE8h5ANsM","title":"Final Fantasy series victory theme - Super Smash Bros. Ultimate","thumbnailUrl":"https://i.ytimg.com/vi/9NmE8h5ANsM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLB_cfCWMa88MaMiFV4NPwheUTincw","duration":28000},{"youtubeId":"9Hvk33iZ_9k","title":"Hopes and Dreams and a cup of latte","thumbnailUrl":"https://i.ytimg.com/vi/9Hvk33iZ_9k/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD9TLGxXKELeIDuMe-kVL-Tx3mUjA","duration":270000},{"youtubeId":"hN0k8qmgyKQ","title":"KANA-BOON - Silhouette (Filtered Instrumental)","thumbnailUrl":"https://i.ytimg.com/vi/hN0k8qmgyKQ/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4AdQGgALgA4oCDAgAEAEYZCBkKGQwDw==&rs=AOn4CLBYkyL3fJBVYstQs0UqfU6IQwzPGA","duration":242000},{"youtubeId":"CcVDlTld0Ks","title":"Offenbach - Can-Can Music / Galop Infernal 【Intense Symphonic Metal Cover】","thumbnailUrl":"https://i.ytimg.com/vi/CcVDlTld0Ks/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBXd3RerPjAchgvltMkZrIK-MtLKA","duration":368000},{"youtubeId":"e98NxwsaZpQ","title":"ONE PIECE OP - We Are! | EPIC VERSION (Drums of Liberation)","thumbnailUrl":"https://i.ytimg.com/vi/e98NxwsaZpQ/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLC3awN_8BJ-pTKkKRQnYaEYvdRQ5g","duration":314000},{"youtubeId":"D60B_RSAp3Q","title":"One Piece - We Go (Full Instrumental)","thumbnailUrl":"https://i.ytimg.com/vi/D60B_RSAp3Q/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCF4j0ZDUa9mjpr3tUeUMkI6r6BSA","duration":248000},{"youtubeId":"zvakA3ZAiAU","title":"One Piece - Believe - Instrumental","thumbnailUrl":"https://i.ytimg.com/vi/zvakA3ZAiAU/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAHajP6jKvFcbqqZtZBdlec7v4XXQ","duration":231000},{"youtubeId":"h0Lfb2CKS0U","title":"One Piece We Are! Instrumental","thumbnailUrl":"https://i.ytimg.com/vi/h0Lfb2CKS0U/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLC1kgsmvoD1zJ0kso6v2_2DRw78bw","duration":239000},{"youtubeId":"WglgwAwaW1g","title":"A Crap Guide to D&D Full Theme by TheMusicReborn and JoCat","thumbnailUrl":"https://i.ytimg.com/vi/WglgwAwaW1g/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLADkwKTW11-iZSBvuoFvqN_OdT6yQ","duration":171000},{"youtubeId":"GCodx-yXph8","title":"Ending Theme","thumbnailUrl":"https://i.ytimg.com/vi/GCodx-yXph8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLB2Cvus3BaWzR1qKwgJfK6WEJGnbw","duration":188000}]},{"playlistId":"PLV8C9t518pCKUyv6nH6e6-8ki3aj_CUzD","title":"D&D - Theros - Darkish Forest","musics":[{"youtubeId":"QVYwqQVcB8U","title":"The Lord of the Rings: The Forest of Fangorn Ambience & Music","thumbnailUrl":"https://i.ytimg.com/vi/QVYwqQVcB8U/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCYg0vHAh4W7uCZku6dfMS3FYzizA","duration":11422000},{"youtubeId":"qgUBNeGLPWs","title":"Whimsical Fantasy Music: \\"Fantasy Journey\\" by Crypt of Insomnia","thumbnailUrl":"https://i.ytimg.com/vi/qgUBNeGLPWs/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLA1wfgwR2kWDTLWybAYrqMbin0-lA","duration":141000},{"youtubeId":"92At2Eoj-co","title":"Golden Sun: Forest\'s Requiem (Track 80)","thumbnailUrl":"https://i.ytimg.com/vi/92At2Eoj-co/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDS6E3gimHkDTUbCW_PRKG-JLsBGA","duration":178000},{"youtubeId":"gokhBJWSjeM","title":"The Witcher 3: Wild Hunt OST - The Fields of Ard Skellig","thumbnailUrl":"https://i.ytimg.com/vi/gokhBJWSjeM/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYZiBmKGYwDw==&rs=AOn4CLB12DBCcyNyfOhWmvWkR-V0kRFvrA","duration":190000},{"youtubeId":"T_RRYfztxa0","title":"31 - The Forbidden Forest - Harry Potter and the Sorcerer\'s Stone Soundtrack","thumbnailUrl":"https://i.ytimg.com/vi/T_RRYfztxa0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDvAh-cFSgFyDLUrPG8pskv1tPpZQ","duration":314000},{"youtubeId":"N9Clmr94zGY","title":"Sacred Grove - The Legend of Zelda: Twilight Princess","thumbnailUrl":"https://i.ytimg.com/vi/N9Clmr94zGY/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4OgAK4CIoCDAgAEAEYfyApKBMwDw==&rs=AOn4CLCaWtjJtZb3Nr5Ja1ZD7jBFcu3k8Q","duration":181000},{"youtubeId":"LI9DKV0_110","title":"The Forests of Ithilien","thumbnailUrl":"https://i.ytimg.com/vi/LI9DKV0_110/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBXnUmuekOM8d0EIEgNVahxNKGXtQ","duration":398000},{"youtubeId":"YHLhKAdiJeU","title":"Armello Soundtrack - Dagger & Rose","thumbnailUrl":"https://i.ytimg.com/vi/YHLhKAdiJeU/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDlACcFw3t9jv_XH5fEZL4ORpaKqQ","duration":118000},{"youtubeId":"2Ni4EQeANXk","title":"Armello Soundtrack - A Tale of Tails","thumbnailUrl":"https://i.ytimg.com/vi/2Ni4EQeANXk/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLByKMJyUj89rCnc4va2gc0pQKR3Qw","duration":114000},{"youtubeId":"d8RMl61CMNY","title":"Armello Soundtrack - Beyond Burrow","thumbnailUrl":"https://i.ytimg.com/vi/d8RMl61CMNY/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDW2BbHLYywHq8lAzO-tUTg6WLohQ","duration":135000},{"youtubeId":"rtHLKZAsscM","title":"Armello Soundtrack - Adventure Untold","thumbnailUrl":"https://i.ytimg.com/vi/rtHLKZAsscM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBf84hAdhBn0QuQ0hj2JYxAY2j6Hg","duration":147000},{"youtubeId":"SIZh6CLwkpY","title":"Armello Soundtrack - Dawn\'s Sunset","thumbnailUrl":"https://i.ytimg.com/vi/SIZh6CLwkpY/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBlFulRbGQFtSg0LIhxjRG5oAN8kg","duration":128000},{"youtubeId":"-7xQF4nFI-0","title":"Armello Soundtrack - Far From Home","thumbnailUrl":"https://i.ytimg.com/vi/-7xQF4nFI-0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCsxU6gG23hQrTJ8xvmb7sISfF3sA","duration":268000},{"youtubeId":"xWtfo9kuRTU","title":"Skyrim Exploration Suite","thumbnailUrl":"https://i.ytimg.com/vi/xWtfo9kuRTU/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDu5LJt0Gle2QMCuCG_HODqoeas4Q","duration":6478000},{"youtubeId":"aVFlL4Hk6ik","title":"Wisps Of Nibel - An Ori & The Blind Forest Orchestration","thumbnailUrl":"https://i.ytimg.com/vi/aVFlL4Hk6ik/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD_yWB9Hn10TlmFyUvWvC_powLsJQ","duration":371000},{"youtubeId":"qOjTUCVaO6U","title":"Relic Forest Remake [Pokémon Colosseum]","thumbnailUrl":"https://i.ytimg.com/vi/qOjTUCVaO6U/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLA0U7cgfWu_c53ptjg-jT-0AFxooQ","duration":357000},{"youtubeId":"TFHUcmiouVo","title":"Final Fantasy Orchestral Forest Theme Medley","thumbnailUrl":"https://i.ytimg.com/vi/TFHUcmiouVo/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBrwm7JDnCBkquU9R_sqC75iGLgRA","duration":399000},{"youtubeId":"EUer-Tto1ZA","title":"DARK FOREST Ambience and Music - sounds of dark misty forest with ambient music","thumbnailUrl":"https://i.ytimg.com/vi/EUer-Tto1ZA/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLA_Og6aAsTRmvXWZDJZx_mt8G0ZxA","duration":3677000},{"youtubeId":"z_8YSubNZwM","title":"Avalon - a Celtic Legend (07 - The Round Table)","thumbnailUrl":"https://i.ytimg.com/vi/z_8YSubNZwM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLC9pp8ujjckcITaX9lNYkx5FsfMWQ","duration":290000},{"youtubeId":"VuYsiQyahB4","title":"WITCHER 3 Music & Ambience 🎵 Forest Peace (Relaxing Gaming Music | Witcher 3 Soundtrack | OST)","thumbnailUrl":"https://i.ytimg.com/vi/VuYsiQyahB4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBw28KchrK3MJUn2JUp2IsGdquaaQ","duration":3601000},{"youtubeId":"8dGZsyV8WgU","title":"10 Hours of Celtic Music by Adrian von Ziegler","thumbnailUrl":"https://i.ytimg.com/vi/8dGZsyV8WgU/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4OgAK4CIoCDAgAEAEYTSBlKCYwDw==&rs=AOn4CLAQckTVzCCcODKNg38JsM2FN22HYg","duration":36008000},{"youtubeId":"vUN_puxFydk","title":"MAGICAL RPG Music & Enchanting Forest Music - GREAT for gaming ✨","thumbnailUrl":"https://i.ytimg.com/vi/vUN_puxFydk/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCGxHP788EUcEnn4Cce4mTtw9gPNQ","duration":3765000},{"youtubeId":"XxEhuSJF780","title":"Enchanted Forest - Music & Ambience ✨🌲🧚🏻","thumbnailUrl":"https://i.ytimg.com/vi/XxEhuSJF780/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD5XaLCpjv2sdbbXCSn_4XWYbja4Q","duration":7301000},{"youtubeId":"xHP2GgxYddY","title":"Forest Music & Relaxing Magical Music - Elven Woods","thumbnailUrl":"https://i.ytimg.com/vi/xHP2GgxYddY/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBUrZzr7dcoB9b4sAGgxoapThl25A","duration":3683000},{"youtubeId":"ApCCuqQBhi4","title":"Forbidden Forest | Harry Potter Music and Ambience | Fantasy Worlds","thumbnailUrl":"https://i.ytimg.com/vi/ApCCuqQBhi4/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDinVoDc_IiovGfsR67Xl_fLug0Tg","duration":3608000},{"youtubeId":"x5l4Cc9TCC8","title":"A new Adventure - Fantasy Music Mix","thumbnailUrl":"https://i.ytimg.com/vi/x5l4Cc9TCC8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDYpOp8P8Teqw0iDS_g4xzet4NHwQ","duration":3602000},{"youtubeId":"_pYG3JvaF4g","title":"Hearthstone: The Witchwood - Menu Music","thumbnailUrl":"https://i.ytimg.com/vi/_pYG3JvaF4g/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBHRGj54yPMaL8XbbHyO9iwRsxksw","duration":103000},{"youtubeId":"idOmc35hlhU","title":"Stardew Valley OST - Fall (Raven\'s Descent)","thumbnailUrl":"https://i.ytimg.com/vi/idOmc35hlhU/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBU7-__uql9u5oDyIcVnTTOOcKyMQ","duration":173000},{"youtubeId":"TibaxLKJM6s","title":"Stardew Valley - Nocturne of Ice - Celtic harp cover by Šedovous","thumbnailUrl":"https://i.ytimg.com/vi/TibaxLKJM6s/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCt6IXDM8zg6K27P71nKAo6MZJ6-Q","duration":187000}]},{"playlistId":"PLV8C9t518pCIXlZj1-Hqn4LMK_JjPVutV","title":"D&D - Wild West (Pirate?)","musics":[{"youtubeId":"3PbAebwc2zE","title":"OC ReMix #2687: Final Fantasy VI \'A Fistful of Nickels\' [Shadow] by zircon, XPRTNovice...","thumbnailUrl":"https://i.ytimg.com/vi/3PbAebwc2zE/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDFym6mD808GWV6kGnL-FWQC6zcfQ","duration":215000},{"youtubeId":"-6FXeupOp04","title":"Dwarf Fortress - Dwarf Fortress Mode theme","thumbnailUrl":"https://i.ytimg.com/vi/-6FXeupOp04/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLC2YbdQA_E1T_uMdjgKp-j7oDKc4g","duration":490000},{"youtubeId":"dp4ZzZ4pvLk","title":"West of Loathing (Main Theme)","thumbnailUrl":"https://i.ytimg.com/vi/dp4ZzZ4pvLk/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLA9wpjn1ObXA7kDIOguYnM-OvkRtQ","duration":243000},{"youtubeId":"ci6FnyS3jUE","title":"OC ReMix #189: Gun.Smoke \'Spaghetti Cowboy\' [Stage 1 BGM] by Gux","thumbnailUrl":"https://i.ytimg.com/vi/ci6FnyS3jUE/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAT1Clu3OmSttBO6WUMzAVaT9ZwJw","duration":262000},{"youtubeId":"tt1EqFY_uqk","title":"Star Wars: The Mandalorian Theme | EPIC VERSION","thumbnailUrl":"https://i.ytimg.com/vi/tt1EqFY_uqk/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAtEYZ4FvszTvrDkeLWW1opI9OD0g","duration":169000},{"youtubeId":"3Fbu52eARrU","title":"Ninja Gaiden ReMix by Vijay van der Weijden: \\"The Cost of Vengeance\\" [multiple] (#3604)","thumbnailUrl":"https://i.ytimg.com/vi/3Fbu52eARrU/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCcrO0eg9Sewus3uyQanik9XxE7pA","duration":290000},{"youtubeId":"hYSdKtXTumI","title":"Rimworld - \\"Rough Trail\\" Guitar Cover | FamilyJules","thumbnailUrl":"https://i.ytimg.com/vi/hYSdKtXTumI/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDNnbtX7spDRD3d2drPhj6ZeNBKuw","duration":273000},{"youtubeId":"R9x9DesNHoU","title":"Cardboard Cowboy Theme song.","thumbnailUrl":"https://i.ytimg.com/vi/R9x9DesNHoU/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD4XSdonQ_10o66MbD3YCjCEx-vjg","duration":60000},{"youtubeId":"lX50_C5EckI","title":"Divinity: Original Sin 2 - Main Theme (Gingertail Cover)","thumbnailUrl":"https://i.ytimg.com/vi/lX50_C5EckI/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAXlQ2PpKve_7aI4iYscy2uKBYwJA","duration":206000},{"youtubeId":"ypvsPO2K9mI","title":"Pyre Original Soundtrack - Surviving Exile","thumbnailUrl":"https://i.ytimg.com/vi/ypvsPO2K9mI/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBjzM8YIsBTQrRXYOJXglwRKYHvpQ","duration":208000},{"youtubeId":"CE9Y0VDVAT0","title":"Pyre Original Soundtrack - Through the Valley","thumbnailUrl":"https://i.ytimg.com/vi/CE9Y0VDVAT0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBN48qVDkrwlKgpZBS2N9Nzrri0nA","duration":218000},{"youtubeId":"AMPFutkr_-g","title":"Pyre Original Soundtrack - The Herald","thumbnailUrl":"https://i.ytimg.com/vi/AMPFutkr_-g/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDRZ1jxSbCTtOXNnoFg2moyqHLiaw","duration":81000},{"youtubeId":"3ZtfoghP6_M","title":"Pyre Original Soundtrack - Glorious Tradition","thumbnailUrl":"https://i.ytimg.com/vi/3ZtfoghP6_M/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAJ9498DxSfvZRHIcqrjRo8oxMc4g","duration":206000},{"youtubeId":"JmUuY_4Iqlk","title":"Pyre Original Soundtrack - Flutter Fly","thumbnailUrl":"https://i.ytimg.com/vi/JmUuY_4Iqlk/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD8Mk20MG3ODfWQDqB6TZELnPJRpA","duration":81000},{"youtubeId":"mU7TRcfZU_A","title":"Pyre Original Soundtrack - Shattered Lands","thumbnailUrl":"https://i.ytimg.com/vi/mU7TRcfZU_A/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCCf_BT62xYxW1QKbOsR3KWyGqMiw","duration":226000},{"youtubeId":"aWXoU25KyKE","title":"Pyre Original Soundtrack - Sky Dance","thumbnailUrl":"https://i.ytimg.com/vi/aWXoU25KyKE/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD14Orl1hBIKTGC5G-iNL65y4fMWQ","duration":222000},{"youtubeId":"VI5aGnwopP8","title":"Pyre Original Soundtrack - To the Stars","thumbnailUrl":"https://i.ytimg.com/vi/VI5aGnwopP8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAYvsvbN9yHrkkCFz6pfY7dFLg-jQ","duration":240000},{"youtubeId":"dVD2lSJnTpg","title":"Lost Ember - OST - 07 Hummingbird","thumbnailUrl":"https://i.ytimg.com/vi/dVD2lSJnTpg/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAmjKQTqzFFXaY0FF9K7YTBYy9i5w","duration":149000},{"youtubeId":"Q1ne9IRQSRo","title":"Western Showdown (Mario Enters) - Paper Mario: The Origami King OST","thumbnailUrl":"https://i.ytimg.com/vi/Q1ne9IRQSRo/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDxDmvT9GuxqhBnCp4a371tNfeffA","duration":92000},{"youtubeId":"m86b89ByliU","title":"The Western Begins - Paper Mario: The Origami King OST","thumbnailUrl":"https://i.ytimg.com/vi/m86b89ByliU/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDeGqqpWBVxfl_3HrDtmF4CnYeS_g","duration":29000},{"youtubeId":"oOZbSplvNmA","title":"The Western Ends - Paper Mario: The Origami King OST","thumbnailUrl":"https://i.ytimg.com/vi/oOZbSplvNmA/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDtkCAGoLfCmlg0Q5DEyAttHriThA","duration":86000},{"youtubeId":"GMmWg031HrI","title":"Bob-omb\'s Determination - Paper Mario: The Origami King OST","thumbnailUrl":"https://i.ytimg.com/vi/GMmWg031HrI/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAFGfsFAzSjWYL0HaCFPDm3o9oIjQ","duration":168000},{"youtubeId":"8btcuIWT7zw","title":"Sweetpaper Valley - Paper Mario: The Origami King OST","thumbnailUrl":"https://i.ytimg.com/vi/8btcuIWT7zw/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLA0gxNkztyopgq6__x914a9zkBYJA","duration":128000},{"youtubeId":"3obqiaHzQwQ","title":"Fae Tactics Original Soundtrack - Main Theme","thumbnailUrl":"https://i.ytimg.com/vi/3obqiaHzQwQ/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD5ZiD1c9P3DHdR7WEXsIkhCc7-Qg","duration":146000},{"youtubeId":"hxKu8RVCMko","title":"Bravely Default - Flying Fairy OST - 32 Land of Glaze","thumbnailUrl":"https://i.ytimg.com/vi/hxKu8RVCMko/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDIr3EkBD-PFbjaMM7LE2Y2fBwLzA","duration":223000},{"youtubeId":"K5fTT8pWSmQ","title":"High-Noon Hoopla | Cuphead: The Delicious Last Course","thumbnailUrl":"https://i.ytimg.com/vi/K5fTT8pWSmQ/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYUiBlKFcwDw==&rs=AOn4CLDwnquAxAiY_09WXIIFNE2M4s6ypw","duration":189000},{"youtubeId":"PQhtR-yoObs","title":"OC ReMix #2180: Secret of Monkey Island \'Voodoo, Roots \'n Grog\' [LeChuck\'s Theme] by Diggi Dis...","thumbnailUrl":"https://i.ytimg.com/vi/PQhtR-yoObs/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDeysN6vwqtdoqFbExtFgUlRW9lmw","duration":231000},{"youtubeId":"FgaOFVuf1q0","title":"Rowdy Saloon Ambience | Ragtime Piano I Bar Ambience","thumbnailUrl":"https://i.ytimg.com/vi/FgaOFVuf1q0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLA4QIIokdzu_92GAb44quYGr00ORg","duration":4173000},{"youtubeId":"MjH3hZnospE","title":"Red Dead Redemption 2 - Gambling Riverboat Ambiance (chips, piano, talking)","thumbnailUrl":"https://i.ytimg.com/vi/MjH3hZnospE/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCHy7dkxlmADVtK_VyPC2TL1Y9K7Q","duration":5406000},{"youtubeId":"Zb1mSGhyido","title":"Sonic Mania OST - Mirage Saloon Act 2","thumbnailUrl":"https://i.ytimg.com/vi/Zb1mSGhyido/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLALMAb7AHiiH9Of0vfwqZhvwqtvMg","duration":143000},{"youtubeId":"Y2anE5IKTwU","title":"Guacamelee Soundtrack - Pueblucho","thumbnailUrl":"https://i.ytimg.com/vi/Y2anE5IKTwU/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBIrsEnqF6y6gSWE6euPh79X2yxvw","duration":171000},{"youtubeId":"xpkcnnaA5IE","title":"Sonic Mania - Mirage Saloon (James Wong Remix)","thumbnailUrl":"https://i.ytimg.com/vi/xpkcnnaA5IE/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDA48wpPAdGibO1ogeihtXMEqC1Nw","duration":195000},{"youtubeId":"VDPMAuv-3nk","title":"♩♫ Adventure Western Music ♪♬ - The Wild West (Copyright and Royalty Free)","thumbnailUrl":"https://i.ytimg.com/vi/VDPMAuv-3nk/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAZAYvdHmCSRmtQ8pCFrqrrxzKFvA","duration":286000},{"youtubeId":"hUXf1TDEuFM","title":"Epic Wild Western Music - Cowboys & Outlaws","thumbnailUrl":"https://i.ytimg.com/vi/hUXf1TDEuFM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAHDb9qfMca6vM6WcV9ErQAWKXlyQ","duration":3892000},{"youtubeId":"dDJQ-jqHFm0","title":"Old Western Music & Cowboy Music","thumbnailUrl":"https://i.ytimg.com/vi/dDJQ-jqHFm0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCOOnQPgy2DDfPPFvNReNenCNT1mg","duration":3752000},{"youtubeId":"XMIhX69bXVs","title":"The Wildaback - The Seeker\'s Guide to Twisted Taverns OST (Music by John Theodore)","thumbnailUrl":"https://i.ytimg.com/vi/XMIhX69bXVs/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCQwp-nJp8gFFOHZvmH7c5XSQymhw","duration":186000},{"youtubeId":"1McPiczNkGg","title":"JoJo\'s Bizarre Adventure: Steel Ball Run OST: Main Theme ~ Johnny\'s Theme | Fan Made","thumbnailUrl":"https://i.ytimg.com/vi/1McPiczNkGg/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCqIHow-HdSwxEeQn8EHhEYnTfp7A","duration":283000},{"youtubeId":"WR7fwMM5ccc","title":"Starbound OST - Novakid Theme- I was the Sun (Before it was Cool)","thumbnailUrl":"https://i.ytimg.com/vi/WR7fwMM5ccc/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYRiBGKFkwDw==&rs=AOn4CLC2U6iGS5rlF3vR85R_iF-Rtryckw","duration":290000},{"youtubeId":"oSYZmTguXP8","title":"Cowboy Bebop OST 2 No Disc - Don\'t Bother None","thumbnailUrl":"https://i.ytimg.com/vi/oSYZmTguXP8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCpfgDXhO0fC-drFKt3WJcrwklX0w","duration":222000},{"youtubeId":"jxPAVXVak_U","title":"America Ambient - Valley Forge (Civilization 6 OST)","thumbnailUrl":"https://i.ytimg.com/vi/jxPAVXVak_U/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDR55BH-ABUcMZszSI2WinNREU2oA","duration":244000},{"youtubeId":"PfWg9WqSY8g","title":"42 - Serenity Theme","thumbnailUrl":"https://i.ytimg.com/vi/PfWg9WqSY8g/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCzohaMg0JbReeyzBRDguvscHQ-Uw","duration":123000},{"youtubeId":"ohU7ui8SZPM","title":"41 - Ballad Of Serenity (Big Damn Movie version)","thumbnailUrl":"https://i.ytimg.com/vi/ohU7ui8SZPM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAA7MAW-MVy_vJuj2hPqxg4nCljqQ","duration":53000},{"youtubeId":"fjTmadE19HQ","title":"37 - Jayne\'s Guitar","thumbnailUrl":"https://i.ytimg.com/vi/fjTmadE19HQ/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLC5DmH3JYvbpxrFsyKwMTBF8sBELw","duration":44000},{"youtubeId":"FACQqIPIdFI","title":"Wild Western Music - Ghost Canyon","thumbnailUrl":"https://i.ytimg.com/vi/FACQqIPIdFI/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDgnCyCpxJsGPtE3wL11z62ohEHpg","duration":369000},{"youtubeId":"rvLs-9SA9i0","title":"Maiden Voyage (Original Game Soundtrack)","thumbnailUrl":"https://i.ytimg.com/vi/rvLs-9SA9i0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCM61GhUr-BqKtxazMobNi8LGMdxQ","duration":159000},{"youtubeId":"3nuL6WSaKjg","title":"Escape from Monkey Island OC ReMix by Yffisch: \\"Rum Barrel\\" [Scumm Bar] (#3921)","thumbnailUrl":"https://i.ytimg.com/vi/3nuL6WSaKjg/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLD14eZNkr5Zdcl9CbScgjH_Mgyu_g","duration":126000},{"youtubeId":"p9JR45U0PjY","title":"Adventure Awaits | Sea of Thieves OST","thumbnailUrl":"https://i.ytimg.com/vi/p9JR45U0PjY/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLB4oHHwoI1flACqawzjEwoYYTWMmg","duration":140000},{"youtubeId":"aqg9AqAJ17w","title":"Unassuming Docks (Bright) - Tiny Tina\'s Assault on Dragon Keep - Borderlands 2 Soundtrack","thumbnailUrl":"https://i.ytimg.com/vi/aqg9AqAJ17w/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDVopijAC8PlhmI2fzwGUcXPDjM9g","duration":66000},{"youtubeId":"9Mi7NUIpLA8","title":"Hearthstone Main Theme (Gingertail Cover)","thumbnailUrl":"https://i.ytimg.com/vi/9Mi7NUIpLA8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDgSEcnXQ9SUkndgKc98rl4Dxnx1w","duration":135000},{"youtubeId":"d7YPcRnKG08","title":"Goblin Slayer Original Soundtrack - 05. Guild","thumbnailUrl":"https://i.ytimg.com/vi/d7YPcRnKG08/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDKpYOGucP-ofG_pd9UYnNZwLnHZw","duration":141000},{"youtubeId":"ElO4EtPQv8E","title":"Bosun Bill","thumbnailUrl":"https://i.ytimg.com/vi/ElO4EtPQv8E/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLABCJQYnmMM3Xm6WGvEd4cC1J9M8A","duration":145000},{"youtubeId":"X2GKOh7Mrhw","title":"Pirates of the Caribbean 3 - Soundtr 07 - The Brethren Court","thumbnailUrl":"https://i.ytimg.com/vi/X2GKOh7Mrhw/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDZkN-W9O6PsBOG81Q9tseVMZ7Vgg","duration":142000},{"youtubeId":"-eR26nzi7Mw","title":"Naruto Main Theme Medieval Style - Cover by Alina Gingertail & Dryante [Bardcore]","thumbnailUrl":"https://i.ytimg.com/vi/-eR26nzi7Mw/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCak6ncH9Bl9yFDAfsbwT83R3AjvA","duration":210000},{"youtubeId":"T8tf284ZOCM","title":"Goblin Slayer Original Soundtrack- 04. Request Extension","thumbnailUrl":"https://i.ytimg.com/vi/T8tf284ZOCM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCn_JfLYUd7ql96gy1Kw9x9pnYMrA","duration":139000},{"youtubeId":"dkhwPNZt0jI","title":"Hearthstone: Heroes of WarCraft - Don\'t Let Your Guard Down","thumbnailUrl":"https://i.ytimg.com/vi/dkhwPNZt0jI/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDfqE9tSZbyfoEyTfDlb_YakAFrAg","duration":196000},{"youtubeId":"9kdISyENACM","title":"Hearthstone OST: #1 - Pull up a Chair","thumbnailUrl":"https://i.ytimg.com/vi/9kdISyENACM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBUIytW5snSDRD_6DsbDaLX6UDuAw","duration":140000},{"youtubeId":"cHJLdF2WNxI","title":"World of Warcraft Soundtrack - Tavern (Pirate)","thumbnailUrl":"https://i.ytimg.com/vi/cHJLdF2WNxI/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLC26qHbt-LUD0jwJRronAZfyikrag","duration":503000},{"youtubeId":"drRs-L27KGs","title":"Hearthstone OST: #2 - Tricks of the Trade","thumbnailUrl":"https://i.ytimg.com/vi/drRs-L27KGs/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAN1KHwRzRNgMBPCzSwBe1lG2mnJw","duration":252000},{"youtubeId":"U4KqgOqjZZg","title":"Hearthstone: Heroes of WarCraft - Bad Reputation","thumbnailUrl":"https://i.ytimg.com/vi/U4KqgOqjZZg/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDr-xQH6X2ffQDMbf99tC7EYJx2Nw","duration":250000},{"youtubeId":"--qu-sGOTBQ","title":"Tavern Brawl - Main Theme Background Music","thumbnailUrl":"https://i.ytimg.com/vi/--qu-sGOTBQ/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAYVHv2LrZV7lbGQkePh6x4uafVYg","duration":91000},{"youtubeId":"r3j0ZbwzpCY","title":"Sea of Thieves - Grogg Mayles (Classical Guitar Cover + Tabs)","thumbnailUrl":"https://i.ytimg.com/vi/r3j0ZbwzpCY/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAO2x9NcWrZwwEe20IqtEkETbsAIQ","duration":116000},{"youtubeId":"fyYnrwC-qSs","title":"The Summoning (Original Game Soundtrack)","thumbnailUrl":"https://i.ytimg.com/vi/fyYnrwC-qSs/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDYV3N50Mv6YTsEAxjYIHBKDxF3qQ","duration":126000},{"youtubeId":"4l1U8oTZ7UA","title":"Assassin\'s Creed IV Black Flag - The British Empire (Track 21)","thumbnailUrl":"https://i.ytimg.com/vi/4l1U8oTZ7UA/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCQq-aEpDgvVou0qEFQtnIk0ERh3Q","duration":191000},{"youtubeId":"a35l5lKYkvo","title":"Witcher 3 Gwent Flute Song Extendo","thumbnailUrl":"https://i.ytimg.com/vi/a35l5lKYkvo/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAHShvRzc_8il_M6hEW2dl1V5lH-Q","duration":586000},{"youtubeId":"uTnB-Wn0b0Q","title":"Divinity Original Sin 2  - Tavern Fight Music (+Download Link)","thumbnailUrl":"https://i.ytimg.com/vi/uTnB-Wn0b0Q/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBAAlhmXOC2gRB9wji6cMXMQIiBZQ","duration":178000},{"youtubeId":"7jW-JX3b6P0","title":"The Sea of Thieves | Sea of Thieves OST","thumbnailUrl":"https://i.ytimg.com/vi/7jW-JX3b6P0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLChVDv82LFrSIENEjgwiPNwWWpKLA","duration":146000},{"youtubeId":"3i7g7xeLGi0","title":"Beltaine - Bring to the Boil (The Witcher inspired)","thumbnailUrl":"https://i.ytimg.com/vi/3i7g7xeLGi0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCeuQoqmXpo_VdMDP-Jgaz50UGcWw","duration":276000},{"youtubeId":"yu197hlNWK0","title":"The Witcher 3: Wild Hunt OST - Skellige Tavern | Extended","thumbnailUrl":"https://i.ytimg.com/vi/yu197hlNWK0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBXqzWJBZeqQJPq2Jr-CcXhVb9Z7g","duration":220000},{"youtubeId":"nbqDu4TAoYs","title":"[Extended] The Witcher: Tavern at the End of the World","thumbnailUrl":"https://i.ytimg.com/vi/nbqDu4TAoYs/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBRY-hTCJ_tc4qndIRlSNrmtMlRvQ","duration":239000},{"youtubeId":"NwAzE9wRpFw","title":"The Witcher 3: Wild Hunt (Blood & Wine Expansion) - Em Bard Group, Tavern 03","thumbnailUrl":"https://i.ytimg.com/vi/NwAzE9wRpFw/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAnON2CmLRTfnT2_VO62W4xIT0SFA","duration":105000},{"youtubeId":"UU9aOjw_MDI","title":"Yo Ho (A Pirate\'s Life) Sea Shanty | Sea of Thieves","thumbnailUrl":"https://i.ytimg.com/vi/UU9aOjw_MDI/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDVESAL7MQRhBcIjpe1TiuD-FkxHg","duration":62000},{"youtubeId":"w7gic_50GUs","title":"Sea Of Thieves OST - Arriving The Sea Of Thieves","thumbnailUrl":"https://i.ytimg.com/vi/w7gic_50GUs/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDzjbd7S6v-OVIsCIETEZ1U9r3WFg","duration":63000},{"youtubeId":"DjBlqN3ulBo","title":"Sea of Thieves Music: \\"We Shall Sail Together\\" on Hurdy Gurdy | Sea Shanty","thumbnailUrl":"https://i.ytimg.com/vi/DjBlqN3ulBo/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAqVIGOicTSBKa0QzyE_tlUst4j8A","duration":132000},{"youtubeId":"4CaLY-ocROo","title":"\\"Who Shall Not Be Returning\\" Shanty Soundtrack Sea Of Thieves","thumbnailUrl":"https://i.ytimg.com/vi/4CaLY-ocROo/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDbRjUoR2BHyMu5B3rRMgFYE_G4eg","duration":159000},{"youtubeId":"hbuHtoNMYrk","title":"[Music box melodies] - Sea of Thieves by Becalmed","thumbnailUrl":"https://i.ytimg.com/vi/hbuHtoNMYrk/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDaOhMqX-PFW7csCD1KXcPxG4RREw","duration":160000},{"youtubeId":"NTP7OLnchOA","title":"We Shall Sail Together (Sea of Thieves) - Epic Orchestral Arrangement #WeShallSail","thumbnailUrl":"https://i.ytimg.com/vi/NTP7OLnchOA/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLC-fvv9_bo4xAiGVH6RsWbTXL9kZQ","duration":143000},{"youtubeId":"oZrg3bXOxl0","title":"The Sticks-For-Hands Rag","thumbnailUrl":"https://i.ytimg.com/vi/oZrg3bXOxl0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCq3xyR0uQcs2z2iLIzbrAB9LvZIw","duration":154000},{"youtubeId":"6RjHYn-pJ5s","title":"Tavern Crawl (Twisted Taverns) - Instrumental Version","thumbnailUrl":"https://i.ytimg.com/vi/6RjHYn-pJ5s/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAaoYW8CD5bpUzzDfxWDNGe2Ku23Q","duration":227000},{"youtubeId":"95hZTEOsTpQ","title":"Skeewiff, Tommy Dorsey, Humphrey Lyttelton, Kid Ory & The Dukes Of Dixieland - Maple Leaf Rag","thumbnailUrl":"https://i.ytimg.com/vi/95hZTEOsTpQ/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDIWMSawJ2yhH6er0tzlYHiU2wGcg","duration":356000}]},{"playlistId":"PLV8C9t518pCK8wM8cEV3RAmk-BJae0PEQ","title":"D&D - Pirate Tavern Brawl","musics":[{"youtubeId":"ep_ilhipgOE","title":"Sea Of Thieves : \\"A Pirates Life\\" Main Theme","thumbnailUrl":"https://i.ytimg.com/vi/ep_ilhipgOE/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBS13KAs1CaWtfSetZJHN7Hw-FQBg","duration":133000},{"youtubeId":"NnfQu8Ob34g","title":"Pirates of the Caribbean - Up is Down (Gingertail & Sofia Taro)","thumbnailUrl":"https://i.ytimg.com/vi/NnfQu8Ob34g/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLC5N9Qvca9LaLLfSmCUwjtDbNsUcw","duration":169000},{"youtubeId":"gq8WuXsg65w","title":"LittleBigPlanet Soundtrack (Pirates DLC) - The Tale Of Sack Sparrow","thumbnailUrl":"https://i.ytimg.com/vi/gq8WuXsg65w/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCl5NkTTu0l1niTNEX6a4HPmYZSpg","duration":161000},{"youtubeId":"dFBBKfw59kA","title":"Pirates of the Caribbean - Soundtrack 15 - He\'s a Pirate","thumbnailUrl":"https://i.ytimg.com/vi/dFBBKfw59kA/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4EgALgA4oCDAgAEAEYfyAwKBowDw==&rs=AOn4CLBDqEb7QGluq933kdBkkdW0XjJCog","duration":91000},{"youtubeId":"dFBBKfw59kA","title":"Pirates of the Caribbean - Soundtrack 15 - He\'s a Pirate","thumbnailUrl":"https://i.ytimg.com/vi/dFBBKfw59kA/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4EgALgA4oCDAgAEAEYfyAwKBowDw==&rs=AOn4CLBDqEb7QGluq933kdBkkdW0XjJCog","duration":91000},{"youtubeId":"sosj7fH1uBU","title":"One Piece: Overtaken [Epic Choir Remix]","thumbnailUrl":"https://i.ytimg.com/vi/sosj7fH1uBU/hqdefault.jpg?sqp=-oaymwE9CNACELwBSFryq4qpAy8IARUAAAAAGAElAADIQj0AgKJDeAHwAQH4Af4JgALQBYoCDAgAEAEYfyA_KDYwDw==&rs=AOn4CLCFwcdzQxEE_jdACxnLkVBFV9wEIw","duration":211000},{"youtubeId":"4J6RCGfr0HE","title":"One Piece Epic Battle Theme [REMIX]","thumbnailUrl":"https://i.ytimg.com/vi/4J6RCGfr0HE/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLB0lLd7tGbiVM5DrBDXtrCatEGsnA","duration":158000},{"youtubeId":"JPUMnIe9iN8","title":"Assassin\'s Creed IV Black Flag OST - The High Seas ( Brian Tyler )","thumbnailUrl":"https://i.ytimg.com/vi/JPUMnIe9iN8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAsJw9ma4nEPeScoBpMgL9sQkWKQA","duration":166000},{"youtubeId":"fW6HbQg-qlQ","title":"Assassin\'s Creed 4 Black Flag - Ship Board Battle Theme (Vylents Version)","thumbnailUrl":"https://i.ytimg.com/vi/fW6HbQg-qlQ/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLATqLzj51LRb5NBk9Gevka6SePWEw","duration":217000},{"youtubeId":"swNepqn7ySU","title":"Darkest Dungeon II OST - \\"The Shroud of the Deep\\" (2022) HQ Official","thumbnailUrl":"https://i.ytimg.com/vi/swNepqn7ySU/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCdSrVgSuoPXrAGO5JwZGwGMrqJiQ","duration":513000},{"youtubeId":"h1W65_NmhqE","title":"Pirates of the Caribbean: He\'s a Pirate | EPIC VERSION (Johnny Depp Victory)","thumbnailUrl":"https://i.ytimg.com/vi/h1W65_NmhqE/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCLIIXvfVsC7GmpRVXQMIWzoS16Qw","duration":230000},{"youtubeId":"7O2lu3y3_HQ","title":"Sea of Thieves OC ReMix by DusK: \\"A Shark Hunter\'s Tale\\" [Summon the Megalodon] (#3975)","thumbnailUrl":"https://i.ytimg.com/vi/7O2lu3y3_HQ/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAfJQEYnPZOYpmaX0I0vU9kZl_-aw","duration":260000},{"youtubeId":"HH4EcpUnbXY","title":"Muppet Treasure Island OST,T9 The Map","thumbnailUrl":"https://i.ytimg.com/vi/HH4EcpUnbXY/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDWzY1XComn6qIL4b6JJH4WNvW8Gw","duration":278000},{"youtubeId":"GRgzQvIKynM","title":"Muppet Treasure Island OST,T1 \\"Treasure Island\\"","thumbnailUrl":"https://i.ytimg.com/vi/GRgzQvIKynM/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDMSy6HI5NG7meiZpWKw3dN59LAoQ","duration":68000},{"youtubeId":"Ojyai1u2Hj8","title":"Epic Pirate Music - Buccaneer Island (Brand X Music)","thumbnailUrl":"https://i.ytimg.com/vi/Ojyai1u2Hj8/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDQ_SdkycaqqPvCy4mZJ9Rq56gPfA","duration":114000},{"youtubeId":"jvipPYFebWc","title":"Lindsey Stirling - Roundtable Rival (Official Music Video)","thumbnailUrl":"https://i.ytimg.com/vi/jvipPYFebWc/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAc9Pnjjz0GxsSfw-Iye1v0XxirIQ","duration":219000},{"youtubeId":"7o0-vYD1clg","title":"Wild Iron (Wild Western cowboy metal)","thumbnailUrl":"https://i.ytimg.com/vi/7o0-vYD1clg/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLB_QTns_bHdk2NQ0LesK52BeHnJOA","duration":305000},{"youtubeId":"VJSLx5hFIeA","title":"Saloon Showdown (Spaghetti Western metal)","thumbnailUrl":"https://i.ytimg.com/vi/VJSLx5hFIeA/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBG4pi51N-VsWADPqDIHJG0aoHFzw","duration":326000},{"youtubeId":"Yprqi8rBfQ0","title":"Katekyo Hitman Reborn! // Target 1 OST - 18 REBORN! Time For The Last Will","thumbnailUrl":"https://i.ytimg.com/vi/Yprqi8rBfQ0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLBmOmxpUhj6QBYGml93UhLXvELOsg","duration":91000},{"youtubeId":"i5Le0etfieA","title":"Katekyo Hitman Reborn! // Target 1 OST - 17 Bonds Between Friends","thumbnailUrl":"https://i.ytimg.com/vi/i5Le0etfieA/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLCOP9c2QP936yFKm4HAo2t7_HgrkQ","duration":108000},{"youtubeId":"zV6vE1fBapA","title":"Adelle Special Theme (Final Ver.) | Bravely Default II OST","thumbnailUrl":"https://i.ytimg.com/vi/zV6vE1fBapA/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLAIzUdRhefuTD6pFRw4A1SvkSzDNg","duration":96000},{"youtubeId":"gyCA2ShhRu0","title":"Snow Mountain Theme (スーパーマリオ64) sight-read by Tom Brier","thumbnailUrl":"https://i.ytimg.com/vi/gyCA2ShhRu0/hqdefault.jpg?sqp=-oaymwEjCNACELwBSFryq4qpAxUIARUAAAAAGAElAADIQj0AgKJDeAE=&rs=AOn4CLDR7npP2vv3IR26yKHG1ejKbwj9qA","duration":365000}]}]')},function(t,e){t.exports=function(t){!function e(n){t(Math.min(window.performance.now()-n,1e3)),window.requestAnimationFrame(e.bind(this,window.performance.now()))}(window.performance.now())}},function(t,e,n){"use strict";var i=n(19),r=n(27),s=n(31),o=n(32)||0;function a(){return r(o)}t.exports=a,t.exports.generate=a,t.exports.seed=function(e){return i.seed(e),t.exports},t.exports.worker=function(e){return o=e,t.exports},t.exports.characters=function(t){return void 0!==t&&i.characters(t),i.shuffled()},t.exports.isValid=s},function(t,e,n){"use strict";var i=1;t.exports={nextValue:function(){return(i=(9301*i+49297)%233280)/233280},seed:function(t){i=t}}},function(t,e,n){"use strict";var i,r,s=n(28);n(19);t.exports=function(t){var e="",n=Math.floor(.001*(Date.now()-1567752802062));return n===r?i++:(i=0,r=n),e+=s(7),e+=s(t),i>0&&(e+=s(i)),e+=s(n)}},function(t,e,n){"use strict";var i=n(19),r=n(29),s=n(30);t.exports=function(t){for(var e,n=0,o="";!e;)o+=s(r,i.get(),1),e=t<Math.pow(16,n+1),n++;return o}},function(t,e,n){"use strict";var i,r="object"==typeof window&&(window.crypto||window.msCrypto);i=r&&r.getRandomValues?function(t){return r.getRandomValues(new Uint8Array(t))}:function(t){for(var e=[],n=0;n<t;n++)e.push(Math.floor(256*Math.random()));return e},t.exports=i},function(t,e){t.exports=function(t,e,n){for(var i=(2<<Math.log(e.length-1)/Math.LN2)-1,r=-~(1.6*i*n/e.length),s="";;)for(var o=t(r),a=r;a--;)if((s+=e[o[a]&i]||"").length===+n)return s}},function(t,e,n){"use strict";var i=n(19);t.exports=function(t){return!(!t||"string"!=typeof t||t.length<6)&&!new RegExp("[^"+i.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(t)}},function(t,e,n){"use strict";t.exports=0},function(t,e,n){var i=n(9),r=n(34);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var s={insert:"head",singleton:!1};i(r,s);t.exports=r.locals||{}},function(t,e,n){var i=n(10),r=n(11),s=n(12),o=n(13),a=n(14),u=n(15),l=n(16),c=n(17),h=n(18);e=i(!1);var A=r(s),d=r(o),m=r(a),p=r(u),f=r(l),g=r(c),y=r(h);e.push([t.i,'* {\n  margin: 0px;\n  padding: 0px;\n  cursor: default;\n  box-sizing: border-box;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  user-select: none;\n}\nbody {\n  background-color: #111;\n}\n@keyframes fade-in {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@font-face {\n  font-weight: 400;\n  font-family: "comfortaa";\n  src: url('+A+') format("truetype");\n}\n@font-face {\n  font-weight: 400;\n  font-stretch: normal;\n  font-family: "roboto";\n  src: url('+d+') format("truetype");\n}\n@font-face {\n  font-weight: 600;\n  font-stretch: normal;\n  font-family: "roboto";\n  src: url('+m+') format("truetype");\n}\n@font-face {\n  font-weight: 200;\n  font-stretch: normal;\n  font-family: "roboto";\n  src: url('+p+') format("truetype");\n}\n@font-face {\n  font-weight: 400;\n  font-stretch: condensed;\n  font-family: "roboto";\n  src: url('+f+') format("truetype");\n}\n@font-face {\n  font-weight: 600;\n  font-stretch: condensed;\n  font-family: "roboto";\n  src: url('+g+') format("truetype");\n}\n@font-face {\n  font-weight: 200;\n  font-stretch: condensed;\n  font-family: "roboto";\n  src: url('+y+') format("truetype");\n}\n.Mount {\n  top: 0em;\n  left: 0em;\n  right: 0em;\n  bottom: 0em;\n  position: absolute;\n  font-family: Roboto, Helvetica, sans-serif;\n}\n.Embed {\n  top: 0em;\n  left: 0em;\n  right: 0em;\n  bottom: 0em;\n}\n.Embed #youtuber {\n  top: 0em;\n  left: 0em;\n  right: 0em;\n  bottom: 0em;\n  width: 300px;\n  height: 200px;\n  position: fixed;\n  margin: auto;\n  z-index: 10000000;\n  position: absolute;\n  display: none;\n}\n.UploadZone {\n  top: 1em;\n  left: 1em;\n  right: 1em;\n  bottom: 1em;\n  z-index: 9999;\n  position: absolute;\n  border-width: 5px;\n  border-style: dashed;\n  border-color: white;\n  pointer-events: none;\n  display: none;\n}\n.UploadZone[isDragAndDropping] {\n  display: block;\n}\n',""]),t.exports=e},function(t,e,n){var i=n(9),r=n(36);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var s={insert:"head",singleton:!1};i(r,s);t.exports=r.locals||{}},function(t,e,n){var i=n(10),r=n(11),s=n(12),o=n(13),a=n(14),u=n(15),l=n(16),c=n(17),h=n(18),A=n(37),d=n(38),m=n(39);e=i(!1);var p=r(s),f=r(o),g=r(a),y=r(u),E=r(l),w=r(c),b=r(h),I=r(A),C=r(d),v=r(m);e.push([t.i,'* {\n  margin: 0px;\n  padding: 0px;\n  cursor: default;\n  box-sizing: border-box;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  user-select: none;\n}\nbody {\n  background-color: #111;\n}\n@keyframes fade-in {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@font-face {\n  font-weight: 400;\n  font-family: "comfortaa";\n  src: url('+p+') format("truetype");\n}\n@font-face {\n  font-weight: 400;\n  font-stretch: normal;\n  font-family: "roboto";\n  src: url('+f+') format("truetype");\n}\n@font-face {\n  font-weight: 600;\n  font-stretch: normal;\n  font-family: "roboto";\n  src: url('+g+') format("truetype");\n}\n@font-face {\n  font-weight: 200;\n  font-stretch: normal;\n  font-family: "roboto";\n  src: url('+y+') format("truetype");\n}\n@font-face {\n  font-weight: 400;\n  font-stretch: condensed;\n  font-family: "roboto";\n  src: url('+E+') format("truetype");\n}\n@font-face {\n  font-weight: 600;\n  font-stretch: condensed;\n  font-family: "roboto";\n  src: url('+w+') format("truetype");\n}\n@font-face {\n  font-weight: 200;\n  font-stretch: condensed;\n  font-family: "roboto";\n  src: url('+b+') format("truetype");\n}\n.SplashScreen {\n  top: 0em;\n  left: 0em;\n  right: 0em;\n  bottom: 0em;\n  z-index: 1000;\n  position: absolute;\n}\n.SplashScreen * {\n  cursor: pointer;\n}\n.SplashScreen .Background {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  filter: blur(0px);\n  transform: scale(1.1);\n  transform-origin: center;\n  background-size: cover;\n  background-position: center;\n  animation-delay: 0.5s;\n  animation-duration: 2s;\n  animation-name: splash;\n  animation-fill-mode: forwards;\n}\n.SplashScreen .Background[random="1"] {\n  background-image: url('+I+');\n}\n.SplashScreen .Background[random="2"] {\n  background-image: url('+C+');\n}\n.SplashScreen .Background[random="3"] {\n  background-image: url('+v+");\n}\n.SplashScreen .Prompt {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  text-align: center;\n  transform-origin: center;\n  transition-property: transform;\n  transition-duration: 0.5s;\n}\n.SplashScreen .Prompt .Text {\n  color: white;\n  text-shadow: 1px 1px 2px black;\n}\n.SplashScreen .Prompt .Icon {\n  position: relative;\n}\n.SplashScreen .Prompt .Icon .shape {\n  z-index: 20;\n  font-size: 6em;\n  position: relative;\n  color: #fc0404;\n}\n.SplashScreen .Prompt .Icon .fill {\n  top: 0em;\n  left: 0em;\n  right: 0em;\n  bottom: 0em;\n  margin: auto;\n  width: 50%;\n  height: 50%;\n  z-index: 10;\n  position: absolute;\n  background-color: white;\n}\n.SplashScreen:hover .Prompt {\n  transform: scale(1.1);\n  transition-duration: 0.1s;\n}\n@keyframes splash {\n  0% {\n    filter: blur(0px);\n    transform: scale(1.1);\n  }\n  100% {\n    filter: blur(2px);\n    transform: scale(1);\n  }\n}\n",""]),t.exports=e},function(t,e,n){t.exports=n.p+"74159e09f22e07ea61db1e2cd2d2b039.jpg"},function(t,e,n){t.exports=n.p+"67bab044aaa1faa00ef3da3c582173b7.jpg"},function(t,e,n){t.exports=n.p+"b7d80958bc037f9449bf51ae25dedda0.jpg"},function(t,e,n){var i=n(9),r=n(41);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var s={insert:"head",singleton:!1};i(r,s);t.exports=r.locals||{}},function(t,e,n){var i=n(10),r=n(11),s=n(12),o=n(13),a=n(14),u=n(15),l=n(16),c=n(17),h=n(18);e=i(!1);var A=r(s),d=r(o),m=r(a),p=r(u),f=r(l),g=r(c),y=r(h);e.push([t.i,'* {\n  margin: 0px;\n  padding: 0px;\n  cursor: default;\n  box-sizing: border-box;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  user-select: none;\n}\nbody {\n  background-color: #111;\n}\n@keyframes fade-in {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@font-face {\n  font-weight: 400;\n  font-family: "comfortaa";\n  src: url('+A+') format("truetype");\n}\n@font-face {\n  font-weight: 400;\n  font-stretch: normal;\n  font-family: "roboto";\n  src: url('+d+') format("truetype");\n}\n@font-face {\n  font-weight: 600;\n  font-stretch: normal;\n  font-family: "roboto";\n  src: url('+m+') format("truetype");\n}\n@font-face {\n  font-weight: 200;\n  font-stretch: normal;\n  font-family: "roboto";\n  src: url('+p+') format("truetype");\n}\n@font-face {\n  font-weight: 400;\n  font-stretch: condensed;\n  font-family: "roboto";\n  src: url('+f+') format("truetype");\n}\n@font-face {\n  font-weight: 600;\n  font-stretch: condensed;\n  font-family: "roboto";\n  src: url('+g+') format("truetype");\n}\n@font-face {\n  font-weight: 200;\n  font-stretch: condensed;\n  font-family: "roboto";\n  src: url('+y+') format("truetype");\n}\n.PlayScreen {\n  top: 0em;\n  left: 0em;\n  right: 0em;\n  bottom: 0em;\n  z-index: 200;\n  overflow: hidden;\n  position: absolute;\n}\n.PlayScreen .SubmissionForm {\n  display: flex;\n}\n.PlayScreen .SubmissionForm input {\n  height: 2rem;\n  font: inherit;\n  font-size: 12px;\n  display: block;\n}\n.PlayScreen .SubmissionForm input[type=text] {\n  flex: 1;\n}\n.PlayScreen .SubmissionForm input[type=submit] {\n  padding: 0em 1em;\n}\n.PlayScreen .Screenshot {\n  top: 0em;\n  left: 0em;\n  right: 0em;\n  bottom: 0em;\n  z-index: 5;\n  position: absolute;\n  background-size: cover;\n  background-position: center;\n}\n.PlayScreen .Controls {\n  bottom: 0em;\n  z-index: 100;\n  position: fixed;\n  opacity: 0;\n  transition-property: opacity;\n  transition-duration: 0.25s;\n}\n.PlayScreen:hover .Controls {\n  opacity: 1;\n}\n',""]),t.exports=e},function(t,e,n){var i=n(9),r=n(43);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var s={insert:"head",singleton:!1};i(r,s);t.exports=r.locals||{}},function(t,e,n){var i=n(10),r=n(11),s=n(12),o=n(13),a=n(14),u=n(15),l=n(16),c=n(17),h=n(18);e=i(!1);var A=r(s),d=r(o),m=r(a),p=r(u),f=r(l),g=r(c),y=r(h);e.push([t.i,'* {\n  margin: 0px;\n  padding: 0px;\n  cursor: default;\n  box-sizing: border-box;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  user-select: none;\n}\nbody {\n  background-color: #111;\n}\n@keyframes fade-in {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@font-face {\n  font-weight: 400;\n  font-family: "comfortaa";\n  src: url('+A+') format("truetype");\n}\n@font-face {\n  font-weight: 400;\n  font-stretch: normal;\n  font-family: "roboto";\n  src: url('+d+') format("truetype");\n}\n@font-face {\n  font-weight: 600;\n  font-stretch: normal;\n  font-family: "roboto";\n  src: url('+m+') format("truetype");\n}\n@font-face {\n  font-weight: 200;\n  font-stretch: normal;\n  font-family: "roboto";\n  src: url('+p+') format("truetype");\n}\n@font-face {\n  font-weight: 400;\n  font-stretch: condensed;\n  font-family: "roboto";\n  src: url('+f+') format("truetype");\n}\n@font-face {\n  font-weight: 600;\n  font-stretch: condensed;\n  font-family: "roboto";\n  src: url('+g+') format("truetype");\n}\n@font-face {\n  font-weight: 200;\n  font-stretch: condensed;\n  font-family: "roboto";\n  src: url('+y+') format("truetype");\n}\n.EditScreen {\n  top: 0em;\n  left: 0em;\n  right: 0em;\n  bottom: 0em;\n  display: flex;\n  overflow: hidden;\n  position: absolute;\n}\n.EditScreen .PlayingPanel {\n  width: 100%;\n  height: 100%;\n  max-width: 320px;\n  background-color: #444;\n  margin-right: 8px;\n  display: flex;\n  flex-direction: column;\n}\n.EditScreen .PlayingPanel .PlayBox {\n  width: 100%;\n  max-height: 100%;\n  position: relative;\n  padding-bottom: 66%;\n  background-color: green;\n}\n.EditScreen .PlayingPanel .PlayBox .YoutubeScreenshot {\n  top: 0em;\n  left: 0em;\n  right: 0em;\n  bottom: 0em;\n  z-index: 5;\n  position: absolute;\n}\n.EditScreen .PlayingPanel .PlayBox .Controls {\n  z-index: 10;\n  bottom: 0em;\n  position: absolute;\n}\n.EditScreen .PlayingPanel .Queue {\n  flex: 1;\n  overflow-y: scroll;\n}\n.EditScreen .PlayingPanel .Queue .QueuedItem {\n  display: flex;\n  align-items: center;\n}\n.EditScreen .PlayingPanel .Queue .QueuedItem[isOnDeck] {\n  background-color: #777;\n}\n.EditScreen .PlayingPanel .Queue .QueuedItem:hover {\n  background-color: #888;\n}\n.EditScreen .PlayingPanel .Queue .QueuedItem .YoutubeScreenshot {\n  width: 48px;\n  height: 32px;\n  margin-right: 8px;\n}\n.EditScreen .PlayingPanel .Queue .QueuedItem .Text {\n  flex: 1;\n  font-size: 0.7em;\n  text-overflow: ellipsis;\n}\n.EditScreen .SearchPanel {\n  width: 100%;\n  height: 100%;\n  max-width: 320px;\n  background-color: #444;\n  display: flex;\n  flex-direction: column;\n}\n.EditScreen .SearchPanel .SubmissionForm {\n  display: flex;\n}\n.EditScreen .SearchPanel .SubmissionForm input {\n  height: 2rem;\n  font: inherit;\n  font-size: 12px;\n  display: block;\n}\n.EditScreen .SearchPanel .SubmissionForm input[type=text] {\n  flex: 1;\n}\n.EditScreen .SearchPanel .SubmissionForm input[type=submit] {\n  padding: 0em 1em;\n}\n.EditScreen .SearchPanel .Playlists {\n  flex: 1;\n  overflow-y: scroll;\n}\n.EditScreen .SearchPanel .Playlists .Playlist .PlaylistName {\n  display: block;\n  color: inherit;\n  font-weight: bold;\n}\n.EditScreen .SearchPanel .Playlists .Playlist .Musics .Music {\n  display: flex;\n  align-items: center;\n}\n.EditScreen .SearchPanel .Playlists .Playlist .Musics .Music:hover {\n  background-color: #888;\n}\n.EditScreen .SearchPanel .Playlists .Playlist .Musics .Music .YoutubeScreenshot {\n  width: 48px;\n  height: 32px;\n  margin-right: 8px;\n}\n.EditScreen .SearchPanel .Playlists .Playlist .Musics .Music .Text {\n  flex: 1;\n  font-size: 0.7em;\n  text-overflow: ellipsis;\n}\n.YoutubeScreenshot {\n  background-size: cover;\n  background-position: center;\n}\n',""]),t.exports=e},function(t,e,n){var i=n(9),r=n(45);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var s={insert:"head",singleton:!1};i(r,s);t.exports=r.locals||{}},function(t,e,n){var i=n(10),r=n(11),s=n(12),o=n(13),a=n(14),u=n(15),l=n(16),c=n(17),h=n(18);e=i(!1);var A=r(s),d=r(o),m=r(a),p=r(u),f=r(l),g=r(c),y=r(h);e.push([t.i,'* {\n  margin: 0px;\n  padding: 0px;\n  cursor: default;\n  box-sizing: border-box;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  user-select: none;\n}\nbody {\n  background-color: #111;\n}\n@keyframes fade-in {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@font-face {\n  font-weight: 400;\n  font-family: "comfortaa";\n  src: url('+A+') format("truetype");\n}\n@font-face {\n  font-weight: 400;\n  font-stretch: normal;\n  font-family: "roboto";\n  src: url('+d+') format("truetype");\n}\n@font-face {\n  font-weight: 600;\n  font-stretch: normal;\n  font-family: "roboto";\n  src: url('+m+') format("truetype");\n}\n@font-face {\n  font-weight: 200;\n  font-stretch: normal;\n  font-family: "roboto";\n  src: url('+p+') format("truetype");\n}\n@font-face {\n  font-weight: 400;\n  font-stretch: condensed;\n  font-family: "roboto";\n  src: url('+f+') format("truetype");\n}\n@font-face {\n  font-weight: 600;\n  font-stretch: condensed;\n  font-family: "roboto";\n  src: url('+g+') format("truetype");\n}\n@font-face {\n  font-weight: 200;\n  font-stretch: condensed;\n  font-family: "roboto";\n  src: url('+y+') format("truetype");\n}\n.Controls {\n  width: 100%;\n  height: 48px;\n  position: relative;\n}\n.Controls .Timeline {\n  left: 12px;\n  right: 12px;\n  height: 16px;\n  bottom: 40px;\n  position: absolute;\n  cursor: pointer;\n}\n.Controls .Timeline * {\n  cursor: pointer;\n}\n.Controls .Timeline .CurrentTime,\n.Controls .Timeline .HoveredTime,\n.Controls .Timeline .TotalTime {\n  top: 50%;\n  height: 3px;\n  margin-top: -1.5px;\n  position: absolute;\n  transition-duration: 0.1s;\n  transition-property: height, margin-top;\n  width: 100%;\n}\n.Controls .Timeline:hover .CurrentTime,\n.Controls .Timeline:hover .HoveredTime,\n.Controls .Timeline:hover .TotalTime {\n  height: 5px;\n  margin-top: -2.5px;\n}\n.Controls .Timeline:hover .CurrentTime .Dot {\n  opacity: 1;\n}\n.Controls .Timeline:hover .HoveredTime {\n  opacity: 1;\n}\n.Controls .Timeline .TotalTime {\n  z-index: 10;\n  background-color: rgba(51, 51, 51, 0.5);\n}\n.Controls .Timeline .HoveredTime {\n  width: 50%;\n  z-index: 20;\n  opacity: 0;\n  transition-duration: 0.1s;\n  transition-property: opacity;\n  background-color: rgba(204, 204, 204, 0.5);\n}\n.Controls .Timeline .HoveredTime .Timestamp {\n  top: -3em;\n  width: 8em;\n  right: -4em;\n  line-height: 1em;\n  font-size: 12px;\n  position: absolute;\n  color: white;\n  text-align: center;\n  text-shadow: black 3px 0 10px;\n  pointer-events: none;\n}\n.Controls .Timeline .CurrentTime {\n  width: 0%;\n  z-index: 30;\n  background-color: #fc0404;\n}\n.Controls .Timeline .CurrentTime .Dot {\n  top: 50%;\n  width: 12px;\n  height: 12px;\n  right: -6px;\n  margin-top: -6px;\n  margin-left: -6px;\n  position: absolute;\n  border-radius: 100%;\n  background-color: #fc0404;\n  opacity: 0;\n  transition-duration: 0.1s;\n  transition-property: opacity;\n}\n.Controls .Gradient {\n  left: 0em;\n  right: 0em;\n  bottom: 0em;\n  height: 3em;\n  position: absolute;\n  pointer-events: none;\n  background: linear-gradient(0deg, rgba(0, 0, 0, 0.5) 0%, transparent 100%);\n}\n.Controls .Panel {\n  top: 0em;\n  left: 0em;\n  right: 0em;\n  bottom: 0em;\n  display: flex;\n  padding-top: 8px;\n  padding-left: 20px;\n  padding-right: 20px;\n  padding-bottom: 8px;\n  position: absolute;\n  align-items: center;\n}\n.Controls .Panel .PlayButton {\n  margin-right: 16px;\n  color: white;\n}\n.Controls .Panel .PlayButton * {\n  cursor: pointer;\n}\n.Controls .Panel .PlayButton span {\n  margin-top: 3px;\n  font-size: 30px;\n}\n.Controls .Panel .VolumeButton {\n  margin-right: 16px;\n  color: white;\n}\n.Controls .Panel .VolumeButton span {\n  margin-top: 3px;\n}\n.Controls .Panel .VolumeBar {\n  height: 32px;\n  width: 48px;\n  margin-right: 16px;\n  position: relative;\n}\n.Controls .Panel .VolumeBar .Bar {\n  top: 0em;\n  left: 0em;\n  right: 0em;\n  bottom: 0em;\n  height: 3px;\n  margin: auto;\n  position: absolute;\n  background-color: white;\n}\n.Controls .Panel .VolumeBar .Dot {\n  top: 50%;\n  width: 12px;\n  height: 12px;\n  margin-top: -6px;\n  margin-left: -6px;\n  position: absolute;\n  border-radius: 100%;\n  background-color: white;\n}\n.Controls .Panel .Time {\n  color: white;\n  font-size: 12px;\n}\n',""]),t.exports=e},function(t,e,n){"use strict";n.r(e);var i,r,s,o,a,u={},l=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function h(t,e){for(var n in e)t[n]=e[n];return t}function A(t){var e=t.parentNode;e&&e.removeChild(t)}function d(t,e,n){var r,s,o,a={};for(o in e)"key"==o?r=e[o]:"ref"==o?s=e[o]:a[o]=e[o];if(arguments.length>2&&(a.children=arguments.length>3?i.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(o in t.defaultProps)void 0===a[o]&&(a[o]=t.defaultProps[o]);return m(t,a,r,s,null)}function m(t,e,n,i,o){var a={type:t,props:e,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++s:o};return null==o&&null!=r.vnode&&r.vnode(a),a}function p(t){return t.children}function f(t,e){this.props=t,this.context=e}function g(t,e){if(null==e)return t.__?g(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?g(t):null}function y(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return y(t)}}function E(t){(!t.__d&&(t.__d=!0)&&o.push(t)&&!w.__r++||a!==r.debounceRendering)&&((a=r.debounceRendering)||setTimeout)(w)}function w(){for(var t;w.__r=o.length;)t=o.sort((function(t,e){return t.__v.__b-e.__v.__b})),o=[],t.some((function(t){var e,n,i,r,s,o;t.__d&&(s=(r=(e=t).__v).__e,(o=e.__P)&&(n=[],(i=h({},r)).__v=r.__v+1,U(o,r,i,e.__n,void 0!==o.ownerSVGElement,null!=r.__h?[s]:null,n,null==s?g(r):s,r.__h),T(n,r),r.__e!=s&&y(r)))}))}function b(t,e,n,i,r,s,o,a,c,h){var A,d,f,y,E,w,b,v=i&&i.__k||l,q=v.length;for(n.__k=[],A=0;A<e.length;A++)if(null!=(y=n.__k[A]=null==(y=e[A])||"boolean"==typeof y?null:"string"==typeof y||"number"==typeof y||"bigint"==typeof y?m(null,y,null,null,y):Array.isArray(y)?m(p,{children:y},null,null,null):y.__b>0?m(y.type,y.props,y.key,y.ref?y.ref:null,y.__v):y)){if(y.__=n,y.__b=n.__b+1,null===(f=v[A])||f&&y.key==f.key&&y.type===f.type)v[A]=void 0;else for(d=0;d<q;d++){if((f=v[d])&&y.key==f.key&&y.type===f.type){v[d]=void 0;break}f=null}U(t,y,f=f||u,r,s,o,a,c,h),E=y.__e,(d=y.ref)&&f.ref!=d&&(b||(b=[]),f.ref&&b.push(f.ref,null,y),b.push(d,y.__c||E,y)),null!=E?(null==w&&(w=E),"function"==typeof y.type&&y.__k===f.__k?y.__d=c=I(y,c,t):c=C(t,y,f,v,E,c),"function"==typeof n.type&&(n.__d=c)):c&&f.__e==c&&c.parentNode!=t&&(c=g(f))}for(n.__e=w,A=q;A--;)null!=v[A]&&_(v[A],v[A]);if(b)for(A=0;A<b.length;A++)L(b[A],b[++A],b[++A])}function I(t,e,n){for(var i,r=t.__k,s=0;r&&s<r.length;s++)(i=r[s])&&(i.__=t,e="function"==typeof i.type?I(i,e,n):C(n,i,i,r,i.__e,e));return e}function C(t,e,n,i,r,s){var o,a,u;if(void 0!==e.__d)o=e.__d,e.__d=void 0;else if(null==n||r!=s||null==r.parentNode)t:if(null==s||s.parentNode!==t)t.appendChild(r),o=null;else{for(a=s,u=0;(a=a.nextSibling)&&u<i.length;u+=1)if(a==r)break t;t.insertBefore(r,s),o=s}return void 0!==o?o:r.nextSibling}function v(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]=null==n?"":"number"!=typeof n||c.test(e)?n:n+"px"}function q(t,e,n,i,r){var s;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof i&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||v(t.style,e,"");if(n)for(e in n)i&&n[e]===i[e]||v(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?i||t.addEventListener(e,s?S:D,s):t.removeEventListener(e,s?S:D,s);else if("dangerouslySetInnerHTML"!==e){if(r)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&e in t)try{t[e]=null==n?"":n;break t}catch(t){}"function"==typeof n||(null==n||!1===n&&-1==e.indexOf("-")?t.removeAttribute(e):t.setAttribute(e,n))}}function D(t){this.l[t.type+!1](r.event?r.event(t):t)}function S(t){this.l[t.type+!0](r.event?r.event(t):t)}function U(t,e,n,i,s,o,a,u,l){var c,A,d,m,g,y,E,w,I,C,v,q,D,S,U,T=e.type;if(void 0!==e.constructor)return null;null!=n.__h&&(l=n.__h,u=e.__e=n.__e,e.__h=null,o=[u]),(c=r.__b)&&c(e);try{t:if("function"==typeof T){if(w=e.props,I=(c=T.contextType)&&i[c.__c],C=c?I?I.props.value:c.__:i,n.__c?E=(A=e.__c=n.__c).__=A.__E:("prototype"in T&&T.prototype.render?e.__c=A=new T(w,C):(e.__c=A=new f(w,C),A.constructor=T,A.render=x),I&&I.sub(A),A.props=w,A.state||(A.state={}),A.context=C,A.__n=i,d=A.__d=!0,A.__h=[],A._sb=[]),null==A.__s&&(A.__s=A.state),null!=T.getDerivedStateFromProps&&(A.__s==A.state&&(A.__s=h({},A.__s)),h(A.__s,T.getDerivedStateFromProps(w,A.__s))),m=A.props,g=A.state,d)null==T.getDerivedStateFromProps&&null!=A.componentWillMount&&A.componentWillMount(),null!=A.componentDidMount&&A.__h.push(A.componentDidMount);else{if(null==T.getDerivedStateFromProps&&w!==m&&null!=A.componentWillReceiveProps&&A.componentWillReceiveProps(w,C),!A.__e&&null!=A.shouldComponentUpdate&&!1===A.shouldComponentUpdate(w,A.__s,C)||e.__v===n.__v){for(A.props=w,A.state=A.__s,e.__v!==n.__v&&(A.__d=!1),A.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach((function(t){t&&(t.__=e)})),v=0;v<A._sb.length;v++)A.__h.push(A._sb[v]);A._sb=[],A.__h.length&&a.push(A);break t}null!=A.componentWillUpdate&&A.componentWillUpdate(w,A.__s,C),null!=A.componentDidUpdate&&A.__h.push((function(){A.componentDidUpdate(m,g,y)}))}if(A.context=C,A.props=w,A.__v=e,A.__P=t,q=r.__r,D=0,"prototype"in T&&T.prototype.render){for(A.state=A.__s,A.__d=!1,q&&q(e),c=A.render(A.props,A.state,A.context),S=0;S<A._sb.length;S++)A.__h.push(A._sb[S]);A._sb=[]}else do{A.__d=!1,q&&q(e),c=A.render(A.props,A.state,A.context),A.state=A.__s}while(A.__d&&++D<25);A.state=A.__s,null!=A.getChildContext&&(i=h(h({},i),A.getChildContext())),d||null==A.getSnapshotBeforeUpdate||(y=A.getSnapshotBeforeUpdate(m,g)),U=null!=c&&c.type===p&&null==c.key?c.props.children:c,b(t,Array.isArray(U)?U:[U],e,n,i,s,o,a,u,l),A.base=e.__e,e.__h=null,A.__h.length&&a.push(A),E&&(A.__E=A.__=null),A.__e=!1}else null==o&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=j(n.__e,e,n,i,s,o,a,l);(c=r.diffed)&&c(e)}catch(t){e.__v=null,(l||null!=o)&&(e.__e=u,e.__h=!!l,o[o.indexOf(u)]=null),r.__e(t,e,n)}}function T(t,e){r.__c&&r.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){r.__e(t,e.__v)}}))}function j(t,e,n,r,s,o,a,l){var c,h,d,m=n.props,p=e.props,f=e.type,y=0;if("svg"===f&&(s=!0),null!=o)for(;y<o.length;y++)if((c=o[y])&&"setAttribute"in c==!!f&&(f?c.localName===f:3===c.nodeType)){t=c,o[y]=null;break}if(null==t){if(null===f)return document.createTextNode(p);t=s?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,p.is&&p),o=null,l=!1}if(null===f)m===p||l&&t.data===p||(t.data=p);else{if(o=o&&i.call(t.childNodes),h=(m=n.props||u).dangerouslySetInnerHTML,d=p.dangerouslySetInnerHTML,!l){if(null!=o)for(m={},y=0;y<t.attributes.length;y++)m[t.attributes[y].name]=t.attributes[y].value;(d||h)&&(d&&(h&&d.__html==h.__html||d.__html===t.innerHTML)||(t.innerHTML=d&&d.__html||""))}if(function(t,e,n,i,r){var s;for(s in n)"children"===s||"key"===s||s in e||q(t,s,null,n[s],i);for(s in e)r&&"function"!=typeof e[s]||"children"===s||"key"===s||"value"===s||"checked"===s||n[s]===e[s]||q(t,s,e[s],n[s],i)}(t,p,m,s,l),d)e.__k=[];else if(y=e.props.children,b(t,Array.isArray(y)?y:[y],e,n,r,s&&"foreignObject"!==f,o,a,o?o[0]:n.__k&&g(n,0),l),null!=o)for(y=o.length;y--;)null!=o[y]&&A(o[y]);l||("value"in p&&void 0!==(y=p.value)&&(y!==t.value||"progress"===f&&!y||"option"===f&&y!==m.value)&&q(t,"value",y,m.value,!1),"checked"in p&&void 0!==(y=p.checked)&&y!==t.checked&&q(t,"checked",y,m.checked,!1))}return t}function L(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){r.__e(t,n)}}function _(t,e,n){var i,s;if(r.unmount&&r.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||L(i,null,e)),null!=(i=t.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(t){r.__e(t,e)}i.base=i.__P=null,t.__c=void 0}if(i=t.__k)for(s=0;s<i.length;s++)i[s]&&_(i[s],e,n||"function"!=typeof t.type);n||null==t.__e||A(t.__e),t.__=t.__e=t.__d=void 0}function x(t,e,n){return this.constructor(t,n)}function O(t,e,n){var s,o,a;r.__&&r.__(t,e),o=(s="function"==typeof n)?null:n&&n.__k||e.__k,a=[],U(e,t=(!s&&n||e).__k=d(p,null,[t]),o||u,u,void 0!==e.ownerSVGElement,!s&&n?[n]:o?null:e.firstChild?i.call(e.childNodes):null,a,!s&&n?n:o?o.__e:e.firstChild,s),T(a,t)}i=l.slice,r={__e:function(t,e,n,i){for(var r,s,o;e=e.__;)if((r=e.__c)&&!r.__)try{if((s=r.constructor)&&null!=s.getDerivedStateFromError&&(r.setState(s.getDerivedStateFromError(t)),o=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(t,i||{}),o=r.__d),o)return r.__E=r}catch(e){t=e}throw t}},s=0,f.prototype.setState=function(t,e){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=h({},this.state),"function"==typeof t&&(t=t(h({},n),this.props)),t&&h(n,t),null!=t&&this.__v&&(e&&this._sb.push(e),E(this))},f.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),E(this))},f.prototype.render=p,o=[],w.__r=0;var N=n(22),R=n.n(N),k=n(1),B=n(3),F=n(2),Q=n(5);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class M{constructor(t,e){this._delegate=t,this.firebase=e,Object(F._addComponent)(t,new B.a("app-compat",()=>this,"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(t=>{this._delegate.checkDestroyed(),t()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Object(F.deleteApp)(this._delegate)))}_getService(t,e=F._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(t);return i.isInitialized()||"EXPLICIT"!==(null===(n=i.getComponent())||void 0===n?void 0:n.instantiationMode)||i.initialize(),i.getImmediate({identifier:e})}_removeServiceInstance(t,e=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(t).clearInstance(e)}_addComponent(t){Object(F._addComponent)(this._delegate,t)}_addOrOverwriteComponent(t){Object(F._addOrOverwriteComponent)(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},K=new k.b("app-compat","Firebase",G);const P=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function t(){const e=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){const e={},n={__esModule:!0,initializeApp:function(i,r={}){const s=F.initializeApp(i,r);if(Object(k.e)(e,s.name))return e[s.name];const o=new t(s,n);return e[s.name]=o,o},app:i,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function(e){const r=e.name,s=r.replace("-compat","");if(F._registerComponent(e)&&"PUBLIC"===e.type){const o=(t=i())=>{if("function"!=typeof t[s])throw K.create("invalid-app-argument",{appName:r});return t[s]()};void 0!==e.serviceProps&&Object(k.i)(o,e.serviceProps),n[s]=o,t.prototype[s]=function(...t){return this._getService.bind(this,r).apply(this,e.multipleInstances?t:[])}}return"PUBLIC"===e.type?n[s]:null},removeApp:function(t){delete e[t]},useAsService:function(t,e){if("serverAuth"===e)return null;return e},modularAPIs:F}};function i(t){if(t=t||F._DEFAULT_ENTRY_NAME,!Object(k.e)(e,t))throw K.create("no-app",{appName:t});return e[t]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(e).map(t=>e[t])}}),i.App=t,n}(M);return e.INTERNAL=Object.assign(Object.assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(k.i)(e,t)},createSubscribe:k.g,ErrorFactory:k.b,deepExtend:k.i}),e}(),J=new Q.b("@firebase/app-compat");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if(Object(k.n)()&&void 0!==self.firebase){J.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&J.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const V=P;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var H;Object(F.registerVersion)("@firebase/app-compat","0.2.0",H);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
V.registerVersion("firebase","9.15.0","app-compat");var W=n(0);
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Y(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new W.g("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z(){if("undefined"==typeof Uint8Array)throw new W.g("unimplemented","Uint8Arrays are not available in this environment.")}function Z(){if(!Object(W.r)())throw new W.g("unimplemented","Blobs are unavailable in Firestore in this environment.")}class X{constructor(t){this._delegate=t}static fromBase64String(t){return Z(),new X(W.b.fromBase64String(t))}static fromUint8Array(t){return z(),new X(W.b.fromUint8Array(t))}toBase64(){return Z(),this._delegate.toBase64()}toUint8Array(){return z(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,["next","error","complete"])}class tt{enableIndexedDbPersistence(t,e){return Object(W.F)(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return Object(W.G)(t._delegate)}clearIndexedDbPersistence(t){return Object(W.x)(t._delegate)}}class et{constructor(t,e,n){this._delegate=e,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},t instanceof W.m||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();t.merge||e.host===t.host||Object(W.s)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,n={}){Object(W.A)(this._delegate,t,e,n)}enableNetwork(){return Object(W.H)(this._delegate)}disableNetwork(){return Object(W.D)(this._delegate)}enablePersistence(t){let e=!1,n=!1;return t&&(e=!!t.synchronizeTabs,n=!!t.experimentalForceOwningTab,Object(W.t)("synchronizeTabs",e,"experimentalForceOwningTab",n)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Object(W.lb)(this._delegate)}onSnapshotsInSync(t){return Object(W.Y)(this._delegate,t)}get app(){if(!this._appCompat)throw new W.g("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new pt(this,Object(W.y)(this._delegate,t))}catch(t){throw at(t,"collection()","Firestore.collection()")}}doc(t){try{return new ot(this,Object(W.E)(this._delegate,t))}catch(t){throw at(t,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new At(this,Object(W.z)(this._delegate,t))}catch(t){throw at(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return Object(W.db)(this._delegate,e=>t(new it(this,e)))}batch(){return Object(W.K)(this._delegate),new rt(new W.l(this._delegate,t=>Object(W.L)(this._delegate,t)))}loadBundle(t){return Object(W.V)(this._delegate,t)}namedQuery(t){return Object(W.W)(this._delegate,t).then(t=>t?new At(this,t):null)}}class nt extends W.a{constructor(t){super(),this.firestore=t}convertBytes(t){return new X(new W.b(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return ot.forKey(e,this.firestore,null)}}class it{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new nt(t)}get(t){const e=ft(t);return this._delegate.get(e).then(t=>new ct(this._firestore,new W.e(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,e.converter)))}set(t,e,n){const i=ft(t);return n?(Y("Transaction.set",n),this._delegate.set(i,e,n)):this._delegate.set(i,e),this}update(t,e,n,...i){const r=ft(t);return 2===arguments.length?this._delegate.update(r,e):this._delegate.update(r,e,n,...i),this}delete(t){const e=ft(t);return this._delegate.delete(e),this}}class rt{constructor(t){this._delegate=t}set(t,e,n){const i=ft(t);return n?(Y("WriteBatch.set",n),this._delegate.set(i,e,n)):this._delegate.set(i,e),this}update(t,e,n,...i){const r=ft(t);return 2===arguments.length?this._delegate.update(r,e):this._delegate.update(r,e,n,...i),this}delete(t){const e=ft(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class st{constructor(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}fromFirestore(t,e){const n=new W.i(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new ht(this._firestore,n),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const n=st.INSTANCES;let i=n.get(t);i||(i=new WeakMap,n.set(t,i));let r=i.get(e);return r||(r=new st(t,new nt(t),e),i.set(e,r)),r}}st.INSTANCES=new WeakMap;class ot{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new nt(t)}static forPath(t,e,n){if(t.length%2!=0)throw new W.g("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new ot(e,new W.d(e._delegate,n,new W.n(t)))}static forKey(t,e,n){return new ot(e,new W.d(e._delegate,n,t))}get id(){return this._delegate.id}get parent(){return new pt(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new pt(this.firestore,Object(W.y)(this._delegate,t))}catch(t){throw at(t,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=Object(k.l)(t))instanceof W.d&&Object(W.cb)(this._delegate,t)}set(t,e){e=Y("DocumentReference.set",e);try{return e?Object(W.fb)(this._delegate,t,e):Object(W.fb)(this._delegate,t)}catch(t){throw at(t,"setDoc()","DocumentReference.set()")}}update(t,e,...n){try{return 1===arguments.length?Object(W.kb)(this._delegate,t):Object(W.kb)(this._delegate,t,e,...n)}catch(t){throw at(t,"updateDoc()","DocumentReference.update()")}}delete(){return Object(W.B)(this._delegate)}onSnapshot(...t){const e=ut(t),n=lt(t,t=>new ct(this.firestore,new W.e(this.firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,this._delegate.converter)));return Object(W.X)(this._delegate,e,n)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?Object(W.N)(this._delegate):"server"===(null==t?void 0:t.source)?Object(W.O)(this._delegate):Object(W.M)(this._delegate),e.then(t=>new ct(this.firestore,new W.e(this.firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,this._delegate.converter)))}withConverter(t){return new ot(this.firestore,t?this._delegate.withConverter(st.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}function at(t,e,n){return t.message=t.message.replace(e,n),t}function ut(t){for(const e of t)if("object"==typeof e&&!$(e))return e;return{}}function lt(t,e){var n,i;let r;return r=$(t[0])?t[0]:$(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:t=>{r.next&&r.next(e(t))},error:null===(n=r.error)||void 0===n?void 0:n.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class ct{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new ot(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return Object(W.hb)(this._delegate,t._delegate)}}class ht extends ct{data(t){const e=this._delegate.data(t);return Object(W.q)(void 0!==e,"Document in a QueryDocumentSnapshot should exist"),e}}class At{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new nt(t)}where(t,e,n){try{return new At(this.firestore,Object(W.ab)(this._delegate,Object(W.mb)(t,e,n)))}catch(t){throw at(t,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new At(this.firestore,Object(W.ab)(this._delegate,Object(W.Z)(t,e)))}catch(t){throw at(t,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new At(this.firestore,Object(W.ab)(this._delegate,Object(W.T)(t)))}catch(t){throw at(t,"limit()","Query.limit()")}}limitToLast(t){try{return new At(this.firestore,Object(W.ab)(this._delegate,Object(W.U)(t)))}catch(t){throw at(t,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new At(this.firestore,Object(W.ab)(this._delegate,Object(W.jb)(...t)))}catch(t){throw at(t,"startAt()","Query.startAt()")}}startAfter(...t){try{return new At(this.firestore,Object(W.ab)(this._delegate,Object(W.ib)(...t)))}catch(t){throw at(t,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new At(this.firestore,Object(W.ab)(this._delegate,Object(W.J)(...t)))}catch(t){throw at(t,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new At(this.firestore,Object(W.ab)(this._delegate,Object(W.I)(...t)))}catch(t){throw at(t,"endAt()","Query.endAt()")}}isEqual(t){return Object(W.bb)(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?Object(W.Q)(this._delegate):"server"===(null==t?void 0:t.source)?Object(W.R)(this._delegate):Object(W.P)(this._delegate),e.then(t=>new mt(this.firestore,new W.j(this.firestore._delegate,this._userDataWriter,this._delegate,t._snapshot)))}onSnapshot(...t){const e=ut(t),n=lt(t,t=>new mt(this.firestore,new W.j(this.firestore._delegate,this._userDataWriter,this._delegate,t._snapshot)));return Object(W.X)(this._delegate,e,n)}withConverter(t){return new At(this.firestore,t?this._delegate.withConverter(st.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}class dt{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new ht(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class mt{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new At(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new ht(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(t=>new dt(this._firestore,t))}forEach(t,e){this._delegate.forEach(n=>{t.call(e,new ht(this._firestore,n))})}isEqual(t){return Object(W.hb)(this._delegate,t._delegate)}}class pt extends At{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new ot(this.firestore,t):null}doc(t){try{return new ot(this.firestore,void 0===t?Object(W.E)(this._delegate):Object(W.E)(this._delegate,t))}catch(t){throw at(t,"doc()","CollectionReference.doc()")}}add(t){return Object(W.u)(this._delegate,t).then(t=>new ot(this.firestore,t))}isEqual(t){return Object(W.cb)(this._delegate,t._delegate)}withConverter(t){return new pt(this.firestore,t?this._delegate.withConverter(st.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}function ft(t){return Object(W.p)(t,W.d)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(...t){this._delegate=new W.f(...t)}static documentId(){return new gt(W.o.keyField().canonicalString())}isEqual(t){return(t=Object(k.l)(t))instanceof W.f&&this._delegate._internalPath.isEqual(t._internalPath)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this._delegate=t}static serverTimestamp(){const t=Object(W.eb)();return t._methodName="FieldValue.serverTimestamp",new yt(t)}static delete(){const t=Object(W.C)();return t._methodName="FieldValue.delete",new yt(t)}static arrayUnion(...t){const e=Object(W.w)(...t);return e._methodName="FieldValue.arrayUnion",new yt(e)}static arrayRemove(...t){const e=Object(W.v)(...t);return e._methodName="FieldValue.arrayRemove",new yt(e)}static increment(t){const e=Object(W.S)(t);return e._methodName="FieldValue.increment",new yt(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et={Firestore:et,GeoPoint:W.h,Timestamp:W.k,Blob:X,Transaction:it,WriteBatch:rt,DocumentReference:ot,DocumentSnapshot:ct,Query:At,QueryDocumentSnapshot:ht,QuerySnapshot:mt,CollectionReference:pt,FieldPath:gt,FieldValue:yt,setLogLevel:function(t){Object(W.gb)(t)},CACHE_SIZE_UNLIMITED:W.c};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var wt,bt;bt=(t,e)=>new et(t,e,new tt),(wt=V).INTERNAL.registerComponent(new B.a("firestore-compat",t=>{const e=t.getProvider("app-compat").getImmediate(),n=t.getProvider("firestore").getImmediate();return bt(e,n)},"PUBLIC").setServiceProps(Object.assign({},Et))),wt.registerVersion("@firebase/firestore-compat","0.3.0");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class It extends k.c{constructor(t,e,n=0){super(Ct(t),`Firebase Storage: ${e} (${Ct(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,It.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Ct(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}function Ct(t){return"storage/"+t}function vt(){return new It("unknown","An unknown error occurred, please check the error payload for server response.")}function qt(){return new It("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Dt(){return new It("canceled","User canceled the upload/download.")}function St(){return new It("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Ut(t){return new It("invalid-argument",t)}function Tt(){return new It("app-deleted","The Firebase app was deleted.")}function jt(t){return new It("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lt(t,e){return new It("invalid-format","String does not match format '"+t+"': "+e)}function _t(t){throw new It("internal-error","Internal error: "+t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let n;try{n=xt.makeFromUrl(t,e)}catch(e){return new xt(t,"")}if(""===n.path)return n;throw new It("invalid-default-bucket","Invalid default bucket '"+t+"'.")}static makeFromUrl(t,e){let n=null;const i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function r(t){t.path_=decodeURIComponent(t.path)}const s=e.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${s}/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:r},{regex:new RegExp(`^https?://${"firebasestorage.googleapis.com"===e?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/([A-Za-z0-9.\\-_]+)/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:r}];for(let e=0;e<o.length;e++){const i=o[e],r=i.regex.exec(t);if(r){const t=r[i.indices.bucket];let e=r[i.indices.path];e||(e=""),n=new xt(t,e),i.postModify(n);break}}if(null==n)throw function(t){return new It("invalid-url","Invalid URL '"+t+"'.")}(t);return n}}class Ot{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t){return"string"==typeof t||t instanceof String}function Rt(t){return kt()&&t instanceof Blob}function kt(){return"undefined"!=typeof Blob&&!Object(k.p)()}function Bt(t,e,n,i){if(i<e)throw Ut(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Ut(`Invalid value for '${t}'. Expected ${n} or less.`)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t,e,n){let i=e;return null==n&&(i="https://"+e),`${n}://${i}/v0${t}`}function Qt(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){n=n+(e(i)+"="+e(t[i]))+"&"}return n=n.slice(0,-1),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Gt(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),r=-1!==e.indexOf(t);return n||i||r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(Mt||(Mt={}));class Kt{constructor(t,e,n,i,r,s,o,a,u,l,c,h=!0){this.url_=t,this.method_=e,this.headers_=n,this.body_=i,this.successCodes_=r,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=u,this.progressCallback_=l,this.connectionFactory_=c,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((t,e)=>{this.resolve_=t,this.reject_=e,this.start_()})}start_(){const t=(t,e)=>{if(e)return void t(!1,new Pt(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const i=t=>{const e=t.loaded,n=t.lengthComputable?t.total:-1;null!==this.progressCallback_&&this.progressCallback_(e,n)};null!==this.progressCallback_&&n.addUploadProgressListener(i),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(i),this.pendingConnection_=null;const e=n.getErrorCode()===Mt.NO_ERROR,r=n.getStatus();if((!e||Gt(r,this.additionalRetryCodes_))&&this.retry){const e=n.getErrorCode()===Mt.ABORT;return void t(!1,new Pt(!1,null,e))}const s=-1!==this.successCodes_.indexOf(r);t(!0,new Pt(s,n))})},e=(t,e)=>{const n=this.resolve_,i=this.reject_,r=e.connection;if(e.wasSuccessCode)try{const t=this.callback_(r,r.getResponse());!
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){return void 0!==t}(t)?n():n(t)}catch(t){i(t)}else if(null!==r){const t=vt();t.serverResponse=r.getErrorText(),this.errorCallback_?i(this.errorCallback_(r,t)):i(t)}else if(e.canceled){i(this.appDelete_?Tt():Dt())}else{i(qt())}};this.canceled_?e(0,new Pt(!1,null,!0)):this.backoffId_=function(t,e,n){let i=1,r=null,s=null,o=!1,a=0;function u(){return 2===a}let l=!1;function c(...t){l||(l=!0,e.apply(null,t))}function h(e){r=setTimeout(()=>{r=null,t(d,u())},e)}function A(){s&&clearTimeout(s)}function d(t,...e){if(l)return void A();if(t)return A(),void c.call(null,t,...e);if(u()||o)return A(),void c.call(null,t,...e);let n;i<64&&(i*=2),1===a?(a=2,n=0):n=1e3*(i+Math.random()),h(n)}let m=!1;function p(t){m||(m=!0,A(),l||(null!==r?(t||(a=2),clearTimeout(r),h(0)):t||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,p(!0)},n),p}(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Pt{constructor(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Jt(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Vt(...t){const e=Jt();if(void 0!==e){const n=new e;for(let e=0;e<t.length;e++)n.append(t[e]);return n.getBlob()}if(kt())return new Blob(t);throw new It("unsupported-environment","This browser doesn't seem to support creating Blobs")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ht(t){if("undefined"==typeof atob)throw new It("unsupported-environment","base-64"+" is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.");return atob(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Yt{constructor(t,e){this.data=t,this.contentType=e||null}}function zt(t,e){switch(t){case Wt.RAW:return new Yt(Zt(e));case Wt.BASE64:case Wt.BASE64URL:return new Yt(Xt(t,e));case Wt.DATA_URL:return new Yt(function(t){const e=new $t(t);return e.base64?Xt(Wt.BASE64,e.rest):function(t){let e;try{e=decodeURIComponent(t)}catch(t){throw Lt(Wt.DATA_URL,"Malformed data URL.")}return Zt(e)}(e.rest)}(e),new $t(e).contentType)}throw vt()}function Zt(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|63&i);else if(55296==(64512&i)){if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){i=65536|(1023&i)<<10|1023&t.charCodeAt(++n),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)}else e.push(239,191,189)}else 56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function Xt(t,e){switch(t){case Wt.BASE64:{const n=-1!==e.indexOf("-"),i=-1!==e.indexOf("_");if(n||i){throw Lt(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Wt.BASE64URL:{const n=-1!==e.indexOf("+"),i=-1!==e.indexOf("/");if(n||i){throw Lt(t,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Ht(e)}catch(e){if(e.message.includes("polyfill"))throw e;throw Lt(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let t=0;t<n.length;t++)i[t]=n.charCodeAt(t);return i}class $t{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw Lt(Wt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=e[1]||null;null!=n&&(this.base64=function(t,e){if(!(t.length>=e.length))return!1;return t.substring(t.length-e.length)===e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1)}}class te{constructor(t,e){let n=0,i="";Rt(t)?(this.data_=t,n=t.size,i=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,e){if(Rt(this.data_)){const n=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,t,e);return null===n?null:new te(n)}{const n=new Uint8Array(this.data_.buffer,t,e-t);return new te(n,!0)}}static getBlob(...t){if(kt()){const e=t.map(t=>t instanceof te?t.data_:t);return new te(Vt.apply(null,e))}{const e=t.map(t=>Nt(t)?zt(Wt.RAW,t).data:t.data_);let n=0;e.forEach(t=>{n+=t.byteLength});const i=new Uint8Array(n);let r=0;return e.forEach(t=>{for(let e=0;e<t.length;e++)i[r++]=t[e]}),new te(i,!0)}}uploadData(){return this.data_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t){let e;try{e=JSON.parse(t)}catch(t){return null}return function(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t,e){return e}class re{constructor(t,e,n,i){this.server=t,this.local=e||t,this.writable=!!n,this.xform=i||ie}}let se=null;function oe(){if(se)return se;const t=[];t.push(new re("bucket")),t.push(new re("generation")),t.push(new re("metageneration")),t.push(new re("name","fullPath",!0));const e=new re("name");e.xform=function(t,e){return function(t){return!Nt(t)||t.length<2?t:ne(t)}(e)},t.push(e);const n=new re("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new re("timeCreated")),t.push(new re("updated")),t.push(new re("md5Hash",null,!0)),t.push(new re("cacheControl",null,!0)),t.push(new re("contentDisposition",null,!0)),t.push(new re("contentEncoding",null,!0)),t.push(new re("contentLanguage",null,!0)),t.push(new re("contentType",null,!0)),t.push(new re("metadata","customMetadata",!0)),se=t,se}function ae(t,e,n){const i={type:"file"},r=n.length;for(let t=0;t<r;t++){const r=n[t];i[r.local]=r.xform(i,e[r.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){const n=t.bucket,i=t.fullPath,r=new xt(n,i);return e._makeStorageReference(r)}})}(i,t),i}function ue(t,e,n){const i=ee(e);if(null===i)return null;return ae(t,i,n)}function le(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const i=e[r];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t,e,n){const i=ee(n);if(null===i)return null;return function(t,e,n){const i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(const r of n.prefixes){const n=r.replace(/\/$/,""),s=t._makeStorageReference(new xt(e,n));i.prefixes.push(s)}if(n.items)for(const r of n.items){const n=t._makeStorageReference(new xt(e,r.name));i.items.push(n)}return i}(t,e,i)}class he{constructor(t,e,n,i){this.url=t,this.method=e,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t){if(!t)throw vt()}function de(t,e){return function(n,i){const r=ue(t,i,e);return Ae(null!==r),r}}function me(t,e){return function(n,i){const r=ue(t,i,e);return Ae(null!==r),function(t,e,n,i){const r=ee(e);if(null===r)return null;if(!Nt(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(e=>{const r=t.bucket,s=t.fullPath;return Ft("/b/"+o(r)+"/o/"+o(s),n,i)+Qt({alt:"media",token:e})})[0]}(r,i,t.host,t._protocol)}}function pe(t){return function(e,n){let i;var r,s;return 401===e.getStatus()?i=e.getErrorText().includes("Firebase App Check token is invalid")?new It("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new It("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(s=t.bucket,i=new It("quota-exceeded","Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(r=t.path,i=new It("unauthorized","User does not have permission to access '"+r+"'.")):i=n,i.status=e.getStatus(),i.serverResponse=n.serverResponse,i}}function fe(t){const e=pe(t);return function(n,i){let r=e(n,i);var s;return 404===n.getStatus()&&(s=t.path,r=new It("object-not-found","Object '"+s+"' does not exist.")),r.serverResponse=i.serverResponse,r}}function ge(t,e,n){const i=Ft(e.fullServerUrl(),t.host,t._protocol),r=t.maxOperationRetryTime,s=new he(i,"GET",de(t,n),r);return s.errorHandler=fe(e),s}function ye(t,e,n,i,r){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),i&&(s.pageToken=i),r&&(s.maxResults=r);const o=Ft(e.bucketOnlyServerUrl(),t.host,t._protocol),a=t.maxOperationRetryTime,u=new he(o,"GET",function(t,e){return function(n,i){const r=ce(t,e,i);return Ae(null!==r),r}}(t,e.bucket),a);return u.urlParams=s,u.errorHandler=pe(e),u}function Ee(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}function we(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let t="";for(let e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+a;const u=Ee(e,i,r),l="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+le(u,n)+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",c="\r\n--"+a+"--",h=te.getBlob(l,i,c);if(null===h)throw St();const A={name:u.fullPath},d=Ft(s,t.host,t._protocol),m=t.maxUploadRetryTime,p=new he(d,"POST",de(t,n),m);return p.urlParams=A,p.headers=o,p.body=h.uploadData(),p.errorHandler=pe(e),p}class be{constructor(t,e,n,i){this.current=t,this.total=e,this.finalized=!!n,this.metadata=i||null}}function Ie(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){Ae(!1)}return Ae(!!n&&-1!==(e||["active"]).indexOf(n)),n}function Ce(t,e,n,i,r,s,o,a){const u=new be(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=i.size()),i.size()!==u.total)throw new It("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const l=u.total-u.current;let c=l;r>0&&(c=Math.min(c,r));const h=u.current,A=h+c;let d="";d=0===c?"finalize":l===c?"upload, finalize":"upload";const m={"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":""+u.current},p=i.slice(h,A);if(null===p)throw St();const f=e.maxUploadRetryTime,g=new he(n,"POST",(function(t,n){const r=Ie(t,["active","final"]),o=u.current+c,a=i.size();let l;return l="final"===r?de(e,s)(t,n):null,new be(o,a,"final"===r,l)}),f);return g.headers=m,g.body=p.uploadData(),g.progressCallback=a||null,g.errorHandler=pe(t),g}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve={STATE_CHANGED:"state_changed"},qe={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function De(t){switch(t){case"running":case"pausing":case"canceling":return qe.RUNNING;case"paused":return qe.PAUSED;case"success":return qe.SUCCESS;case"canceled":return qe.CANCELED;case"error":default:return qe.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(t,e,n){if(function(t){return"function"==typeof t}(t)||null!=e||null!=n)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=n?n:void 0;else{const e=t;this.next=e.next,this.error=e.error,this.complete=e.complete}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Mt.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Mt.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Mt.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,n,i){if(this.sent_)throw _t("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==i)for(const t in i)i.hasOwnProperty(t)&&this.xhr_.setRequestHeader(t,i[t].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _t("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _t("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw _t("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _t("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class je extends Te{initXhr(){this.xhr_.responseType="text"}}function Le(){return new je}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class _e{constructor(t,e,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=oe(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=t=>{if(this._request=void 0,this._chunkMultiplier=1,t._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const e=this.isExponentialBackoffExpired();if(Gt(t.status,[])){if(!e)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();t=qt()}this._error=t,this._transition("error")}},this._metadataErrorHandler=t=>{this._request=void 0,t._codeEquals("canceled")?this.completeTransitions_():(this._error=t,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((t,e)=>{this._resolve=t,this._reject=e,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,n])=>{switch(this._state){case"running":t(e,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const n=function(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),o=Ee(e,i,r),a={name:o.fullPath},u=Ft(s,t.host,t._protocol),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+i.size(),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},c=le(o,n),h=t.maxUploadRetryTime,A=new he(u,"POST",(function(t){let e;Ie(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){Ae(!1)}return Ae(Nt(e)),e}),h);return A.urlParams=a,A.headers=l,A.body=c,A.errorHandler=pe(e),A}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,Le,t,e);this._request=i,i.getPromise().then(t=>{this._request=void 0,this._uploadUrl=t,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,n)=>{const i=function(t,e,n,i){const r=t.maxUploadRetryTime,s=new he(n,"POST",(function(t){const e=Ie(t,["active","final"]);let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){Ae(!1)}n||Ae(!1);const r=Number(n);return Ae(!isNaN(r)),new be(r,i.size(),"final"===e)}),r);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=pe(e),s}(this._ref.storage,this._ref._location,t,this._blob),r=this._ref.storage._makeRequest(i,Le,e,n);this._request=r,r.getPromise().then(t=>{t=t,this._request=void 0,this._updateProgress(t.current),this._needToFetchStatus=!1,t.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new be(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((i,r)=>{let s;try{s=Ce(this._ref._location,this._ref.storage,n,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(t){return this._error=t,void this._transition("error")}const o=this._ref.storage._makeRequest(s,Le,i,r,!1);this._request=o,o.getPromise().then(t=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(t.current),t.finalized?(this._metadata=t.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){2*(262144*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const n=ge(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(n,Le,t,e);this._request=i,i.getPromise().then(t=>{this._request=void 0,this._metadata=t,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const n=we(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,Le,t,e);this._request=i,i.getPromise().then(t=>{this._request=void 0,this._metadata=t,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Dt(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=De(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,n,i){const r=new Se(e||void 0,n||void 0,i||void 0);return this._addObserver(r),()=>{this._removeObserver(r)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(De(this._state)){case qe.SUCCESS:Ue(this._resolve.bind(null,this.snapshot))();break;case qe.CANCELED:case qe.ERROR:Ue(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(De(this._state)){case qe.RUNNING:case qe.PAUSED:t.next&&Ue(t.next.bind(t,this.snapshot))();break;case qe.SUCCESS:t.complete&&Ue(t.complete.bind(t))();break;case qe.CANCELED:case qe.ERROR:t.error&&Ue(t.error.bind(t,this._error))();break;default:t.error&&Ue(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t,e){this._service=t,this._location=e instanceof xt?e:xt.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new xe(t,e)}get root(){const t=new xt(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ne(this._location.path)}get storage(){return this._service}get parent(){const t=function(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===t)return null;const e=new xt(this._location.bucket,t);return new xe(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw jt(t)}}function Oe(t){const e={prefixes:[],items:[]};return async function t(e,n,i){const r={pageToken:i},s=await Ne(e,r);n.prefixes.push(...s.prefixes),n.items.push(...s.items),null!=s.nextPageToken&&await t(e,n,s.nextPageToken)}(t,e).then(()=>e)}function Ne(t,e){null!=e&&"number"==typeof e.maxResults&&Bt("options.maxResults",1,1e3,e.maxResults);const n=e||{},i=ye(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(i,Le)}function Re(t,e){t._throwIfRoot("updateMetadata");const n=function(t,e,n,i){const r=Ft(e.fullServerUrl(),t.host,t._protocol),s=le(n,i),o=t.maxOperationRetryTime,a=new he(r,"PATCH",de(t,i),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=fe(e),a}(t.storage,t._location,e,oe());return t.storage.makeRequestWithTokens(n,Le)}function ke(t){t._throwIfRoot("getDownloadURL");const e=function(t,e,n){const i=Ft(e.fullServerUrl(),t.host,t._protocol),r=t.maxOperationRetryTime,s=new he(i,"GET",me(t,n),r);return s.errorHandler=fe(e),s}(t.storage,t._location,oe());return t.storage.makeRequestWithTokens(e,Le).then(t=>{if(null===t)throw new It("no-download-url","The given file does not have any download URLs.");return t})}function Be(t){t._throwIfRoot("deleteObject");const e=function(t,e){const n=Ft(e.fullServerUrl(),t.host,t._protocol),i=t.maxOperationRetryTime,r=new he(n,"DELETE",(function(t,e){}),i);return r.successCodes=[200,204],r.errorHandler=fe(e),r}(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Le)}function Fe(t,e){const n=function(t,e){const n=e.split("/").filter(t=>t.length>0).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),i=new xt(t._location.bucket,n);return new xe(t.storage,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t,e){if(t instanceof Ke){const n=t;if(null==n._bucket)throw new It("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");const i=new xe(n,n._bucket);return null!=e?Qe(i,e):i}return void 0!==e?Fe(t,e):t}function Me(t,e){if(e&&/^[A-Za-z]+:\/\//.test(e)){if(t instanceof Ke)return new xe(t,e);throw Ut("To use ref(service, url), the first argument must be a Storage instance.")}return Qe(t,e)}function Ge(t,e){const n=null==e?void 0:e.storageBucket;return null==n?null:xt.makeFromBucketSpec(n,t)}class Ke{constructor(t,e,n,i,r){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._url=i,this._firebaseVersion=r,this._bucket=null,this._host="firebasestorage.googleapis.com",this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?xt.makeFromBucketSpec(i,this._host):Ge(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,null!=this._url?this._bucket=xt.makeFromBucketSpec(this._url,t):this._bucket=Ge(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Bt("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Bt("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(null!==e)return e.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});if(t){return(await t.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new xe(this,t)}_makeRequest(t,e,n,i,r=!0){if(this._deleted)return new Ot(Tt());{const s=function(t,e,n,i,r,s,o=!0){const a=Qt(t.urlParams),u=t.url+a,l=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(l,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(l,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(l,s),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(l,i),new Kt(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o)}(t,this._appId,n,i,e,this._firebaseVersion,r);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,e){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,n,i).getPromise()}}function Pe(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new _e(t,new te(e),n)}(t=Object(k.l)(t),e,n)}function Je(t){return function(t){t._throwIfRoot("getMetadata");const e=ge(t.storage,t._location,oe());return t.storage.makeRequestWithTokens(e,Le)}(t=Object(k.l)(t))}function Ve(t,e){return Me(t=Object(k.l)(t),e)}function He(t,e,n,i={}){!function(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken="string"==typeof r?r:Object(k.f)(r,t.app.options.projectId))}(t,e,n,i)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new Ke(n,i,r,e,F.SDK_VERSION)}Object(F._registerComponent)(new B.a("storage",We,"PUBLIC").setMultipleInstances(!0)),Object(F.registerVersion)("@firebase/storage","0.10.0",""),Object(F.registerVersion)("@firebase/storage","0.10.0","esm2017");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ye{constructor(t,e,n){this._delegate=t,this.task=e,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ye(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(e=>{if(t)return t(new Ye(e,this,this._ref))},e)}on(t,e,n,i){let r=void 0;return e&&(r="function"==typeof e?t=>e(new Ye(t,this,this._ref)):{next:e.next?t=>e.next(new Ye(t,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,r,n||void 0,i||void 0)}}class Ze{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Xe(t,this._service))}get items(){return this._delegate.items.map(t=>new Xe(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function(t,e){return Fe(t,e)}(this._delegate,t);return new Xe(e,this.storage)}get root(){return new Xe(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Xe(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new ze(Pe(this._delegate,t,e),this)}putString(t,e=Wt.RAW,n){this._throwIfRoot("putString");const i=zt(e,t),r=Object.assign({},n);return null==r.contentType&&null!=i.contentType&&(r.contentType=i.contentType),new ze(new _e(this._delegate,new te(i.data,!0),r),this)}listAll(){return(t=this._delegate,Oe(t=Object(k.l)(t))).then(t=>new Ze(t,this.storage));var t}list(t){return function(t,e){return Ne(t=Object(k.l)(t),e)}(this._delegate,t||void 0).then(t=>new Ze(t,this.storage))}getMetadata(){return Je(this._delegate)}updateMetadata(t){return function(t,e){return Re(t=Object(k.l)(t),e)}(this._delegate,t)}getDownloadURL(){return t=this._delegate,ke(t=Object(k.l)(t));var t}delete(){return this._throwIfRoot("delete"),t=this._delegate,Be(t=Object(k.l)(t));var t}_throwIfRoot(t){if(""===this._delegate._location.path)throw jt(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(tn(t))throw Ut("ref() expected a child path but got a URL, use refFromURL instead.");return new Xe(Ve(this._delegate,t),this)}refFromURL(t){if(!tn(t))throw Ut("refFromURL() expected a full URL but got a child path, use ref() instead.");try{xt.makeFromUrl(t,this._delegate.host)}catch(t){throw Ut("refFromUrl() expected a valid full URL but got an invalid one.")}return new Xe(Ve(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,n={}){He(this._delegate,t,e,n)}}function tn(t){return/^[A-Za-z]+:\/\//.test(t)}function en(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),i=t.getProvider("storage").getImmediate({identifier:e});return new $e(n,i)}!function(t){const e={TaskState:qe,TaskEvent:ve,StringFormat:Wt,Storage:$e,Reference:Xe};t.INTERNAL.registerComponent(new B.a("storage-compat",en,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage-compat","0.2.0")}(V);V.initializeApp({apiKey:"AIzaSyAkNK-ByqyzgufHhELPFh6e4TsoSuHvPYE",authDomain:"truesight-7c04e.firebaseapp.com",projectId:"truesight-7c04e",storageBucket:"truesight-7c04e.appspot.com",messagingSenderId:"123067060171",appId:"1:123067060171:web:abe3ee3e5109c97f97304e",measurementId:"G-91YL89DDY9"});var nn={data:V.firestore(),files:V.storage()};function rn(t){if(null!=t&&""!=t){if(11==t.length)return t;var e=t.match(/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/);if(null!=e){var n=e[0];if(null!=n){var i=n.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return i&&11==i[7].length?i[7]:void 0}}}}function sn(t){var e=(t.match(/t=([^&]*)/)||[])[1];if(null!=e&&(e=parseInt(e),!isNaN(e)))return e*=1e3}function on(t){if(null!=t.currentTime)return t.currentTime;if(null!=t.startTime){var e=Date.now()-t.startTime;return e=Math.max(0,e)}return 0}nn.data.collection("art").orderBy("timestamp","desc").limit(25).onSnapshot((function(t){0!=t.exists&&(an.art=[],t.forEach((function(t,e){an.art.push(t.data())})))})),nn.data.collection("campaigns").doc("theros").onSnapshot((function(t){if(0!=t.exists&&(an.prevcampaign=an.campaign,an.campaign=t.data(),an.campaign.musics=an.campaign.musics||[],null!=an.campaign.music&&null!=window.youtubePlayer)){var e=an.campaign,n=an.prevcampaign;if(console.log(e.music),e.music.youtubeId!=n.music.youtubeId||e.music.runkey!=n.music.runkey||e.music.key!=n.music.key)return window.youtubePlayer.loadVideoById({videoId:e.music.youtubeId,startSeconds:Math.floor(on(e.music)/1e3)||1});e.music.startTime!=n.music.startTime&&window.youtubePlayer.seekTo(Math.floor(on(e.music)/1e3)||1),e.music.state!=n.music.state&&("paused"==an.campaign.music.state?window.youtubePlayer.pauseVideo():"paused"!=an.campaign.music.state&&window.youtubePlayer.playVideo())}}));var an={},un=an;function ln(t){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,s=void 0,s=function(t,e){if("object"!==ln(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==ln(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===ln(s)?s:String(s)),i)}var r,s}function hn(t,e,n){return e&&cn(t.prototype,e),n&&cn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function An(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dn(t,e){if(e&&("object"===ln(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function mn(t){var e="function"==typeof Map?new Map:void 0;return(mn=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return pn(t,arguments,yn(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),gn(i,t)})(t)}function pn(t,e,n){return(pn=fn()?Reflect.construct.bind():function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&gn(r,n.prototype),r}).apply(null,arguments)}function fn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function gn(t,e){return(gn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yn(t){return(yn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}window.truesight=window.truesight||{},window.truesight.data=an,"undefined"!=typeof window&&(window.setTimeout((function(){wn.run(window.location.hash)})),window.addEventListener("hashchange",(function(t){wn.run(window.location.hash)})));var En=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gn(t,e)}(r,t);var e,n,i=(e=r,n=fn(),function(){var t,i=yn(e);if(n){var r=yn(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return dn(this,t)});function r(){return An(this,r),i.apply(this,arguments)}return hn(r)}(mn(Error)),wn=new(function(){function t(){An(this,t),this.routes=[],this.state={screen:"SplashScreen"}}return hn(t,[{key:"go",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";window.location.hash=t}},{key:"run",value:function(t){"/"==(t="#"==(t=decodeURIComponent(t))[0]?t.substring(1):t).charAt(t.length-1)&&(t=t.substring(0,t.length-1));var e={path:t=t||"/"};for(var n in this.routes){var i=this.routes[n],r=e.path.match(i.path);if(null!=r){e.wildcards=r.groups;try{var s=i.func(e);if(null!=s)return void(this.state=s)}catch(t){throw e.error=t,this.state=t instanceof En?this.onUserError(e):this.onError(e),t}}}}},{key:"on",value:function(t,e){if(t instanceof Error==1)return this.routes[t]={path:t,func:e};this.routes.push({path:this.convertStringToRegex(t),func:e})}},{key:"convertStringToRegex",value:function(t){if(t instanceof RegExp==1)return t;var e=(t=t.replace(/\*/g,"(.*)")).match(/\:[a-zA-Z]+/g);return null!=e&&e.forEach((function(e){t=t.replace(e,"(?<"+e.substring(1)+">.*)")})),new RegExp("^"+t+"$","i")}}]),t}());wn.on("/",(function(t){return{screen:"SplashScreen"}})),wn.on("/edit",(function(t){return{screen:"EditScreen"}})),wn.on("/play",(function(t){return{screen:"PlayScreen"}})),wn.on("/play/debug",(function(t){return{screen:"PlayScreen",isDebug:!0}})),wn.on("/*",(function(t){throw new En("Could not find "+t.path)})),wn.onUserError=function(t){return{screen:"ErrorScreen",message:t.error.message}},wn.onError=function(t){return{screen:"ErrorScreen",message:"Something went wrong!!"}},window.truesight=window.truesight||{},window.truesight.navigation=window.truesight.navigation||wn;var bn=wn;function In(t){return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,s=void 0,s=function(t,e){if("object"!==In(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==In(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===In(s)?s:String(s)),i)}var r,s}var vn=Math.ceil(3*Math.random()),qn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,(n=[{key:"render",value:function(){return d("div",{class:"SplashScreen",onClick:this.onClick},d("div",{class:"Background",random:vn}),d("div",{class:"Prompt"},d("div",{class:"Text"},"Welcome to",d("br",null),"Bardic Inspiration"),d("div",{class:"Icon"},d("div",{class:"fill"}),d("div",{class:"shape material-icons"},"smart_display"))))}},{key:"onClick",value:function(){bn.run("/play")}}])&&Cn(e.prototype,n),i&&Cn(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Dn=n(7),Sn=n.n(Dn),Un=n(6),Tn=n.n(Un),jn=n(8),Ln=n.n(jn);function _n(t){return(_n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,s=void 0,s=function(t,e){if("object"!==_n(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==_n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===_n(s)?s:String(s)),i)}var r,s}var On=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,(n=[{key:"onLoad",value:function(){null==window.youtubePlayer&&(window.youtubePlayer=new YT.Player("youtuber",{width:"300",height:"200",videoId:un.campaign.music.youtubeId,playerVars:{fs:0,rel:0,controls:1,disablekb:1,modestbranding:1,start:on(un.campaign.music)/1e3||1,autoplay:!0},events:{onReady:function(t){window.youtubePlayer.seekTo(on(un.campaign.music)/1e3||1),"paused"==un.campaign.music.state?window.youtubePlayer.pauseVideo():"paused"!=un.campaign.music.state&&window.youtubePlayer.playVideo()},onStateChange:function(t){if(t.data==YT.PlayerState.PAUSED&&"paused"!=un.campaign.music.state)return window.youtubePlayer.seekTo(on(un.campaign.music)/1e3||1),void t.target.playVideo();if(t.data==YT.PlayerState.PLAYING&&"playing"!=un.campaign.music.state)return window.youtubePlayer.seekTo(on(un.campaign.music)/1e3||1),void t.target.pauseVideo();if(t.data==YT.PlayerState.ENDED){if(null==un.campaign.musics)return;if(0==un.campaign.musics.length)return;var e=un.campaign.musics.find((function(t){return un.campaign.music.key==t.key})),n=un.campaign.musics.indexOf(e)+1,i=un.campaign.musics[n];if(null==i)return;nn.data.collection("campaigns").doc("theros").update({music:{key:i.key,runkey:i.key,youtubeId:i.youtubeId,startTime:Date.now()+500-(i.embeddedStartTime||0),state:"playing"}})}},onError:function(t){console.log("onError",t)}}}))}},{key:"pauseplay",value:function(){"paused"!=un.campaign.music.state?nn.data.collection("campaigns").doc("theros").update({music:{key:un.campaign.music.key,runkey:un.campaign.music.runkey,youtubeId:un.campaign.music.youtubeId,currentTime:Date.now()-un.campaign.music.startTime,state:"paused"}}):"paused"==un.campaign.music.state&&nn.data.collection("campaigns").doc("theros").update({music:{key:un.campaign.music.key,runkey:un.campaign.music.runkey,youtubeId:un.campaign.music.youtubeId,startTime:Date.now()-un.campaign.music.currentTime,state:"playing"}})}}])&&xn(e.prototype,n),i&&xn(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}());function Nn(t){return(Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,s=void 0,s=function(t,e){if("object"!==Nn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Nn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Nn(s)?s:String(s)),i)}var r,s}function Bn(t,e,n){return e&&kn(t.prototype,e),n&&kn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Fn=function(){function t(){Rn(this,t)}return Bn(t,[{key:"render",value:function(){return d("div",{class:"Controls"},d(Qn,null),d("div",{class:"Gradient"}),d("div",{class:"Panel"},d("div",{class:"PlayButton",onClick:this.onClickPlayButton},d("span",{class:"material-icons"},"paused"==un.campaign.music.state?"play_arrow":"pause")),d("div",{class:"VolumeButton",onClick:this.onClickVolumeButton},d("span",{class:"material-icons"},this.getVolumeIcon())),d("div",{class:"VolumeBar",id:"volume",onMouseMove:this.onClickVolumeBar},d("div",{class:"Bar"}),d("div",{class:"Dot",style:{left:100*this.getVolumeRelativePosition()+"%"}})),d("div",{class:"Time"},this.getCurrentTimeText()," / ",this.getTotalTimeText())))}},{key:"onClickVolumeBar",value:function(){if(0!=Ln.a.isPressed()&&null!=document.getElementById("volume")){var t=document.getElementById("volume").getBoundingClientRect(),e=(Ln.a.position.x-t.x)/t.width*100;e<5&&(e=0),e>95&&(e=100),window.youtubePlayer.setVolume(e)}}},{key:"onClickVolumeButton",value:function(){null!=window.youtubePlayer&&window.youtubePlayer.isMuted instanceof Function!=0&&window.youtubePlayer.unMute instanceof Function!=0&&window.youtubePlayer.mute instanceof Function!=0&&(window.youtubePlayer.isMuted()?window.youtubePlayer.unMute():window.youtubePlayer.mute())}},{key:"getVolumeRelativePosition",value:function(){if(null!=window.youtubePlayer&&null!=window.youtubePlayer.getVolume)return window.youtubePlayer.getVolume()/100}},{key:"getVolumeIcon",value:function(){if(null!=window.youtubePlayer&&window.youtubePlayer.isMuted instanceof Function!=0&&window.youtubePlayer.getVolume instanceof Function!=0){if(window.youtubePlayer.isMuted())return"volume_off";var t=window.youtubePlayer.getVolume();return t<=0?"volume_off":t>=50?"volume_up":"volume_down"}}},{key:"onClickPlayButton",value:function(){On.pauseplay()}},{key:"getCurrentTimeText",value:function(){var t=this.getCurrentTime();return t=Math.min(t,this.getTotalTime()),isNaN(t)&&(t=0),Sn()(t)}},{key:"getTotalTimeText",value:function(){var t=this.getTotalTime();return isNaN(t)&&(t=0),Sn()(t)}},{key:"getCurrentTime",value:function(){var t;return null==(null==un||null===(t=un.campaign)||void 0===t?void 0:t.music)?0:on(un.campaign.music)}},{key:"getTotalTime",value:function(){var t;return null==(null===(t=window.youtubePlayer)||void 0===t?void 0:t.getDuration)?0:1e3*window.youtubePlayer.getDuration()}}]),t}(),Qn=function(){function t(){Rn(this,t)}return Bn(t,[{key:"render",value:function(){return d("div",{class:"Timeline",id:"timeline",onClick:this.onClick},d("div",{class:"CurrentTime",style:this.getCurrentTimeStyle()},d("div",{class:"Dot"})),d("div",{class:"HoveredTime",style:this.getHoveredTimeStyle()},d("div",{class:"Timestamp"},d("span",null,this.getHoveredTimeText()))),d("div",{class:"TotalTime"}))}},{key:"onClick",get:function(){var t=this;return function(e){var n=t.getHoveredTime();nn.data.collection("campaigns").doc("theros").update({music:{key:un.campaign.music.key,runkey:un.campaign.music.runkey,youtubeId:un.campaign.music.youtubeId,startTime:Date.now()-n,state:"playing"}})}}},{key:"getHoveredTimeText",value:function(){var t=this.getHoveredTime();return isNaN(t)&&(t=0),Sn()(t)}},{key:"getCurrentTimeStyle",value:function(){return{width:this.getCurrentTime()/this.getTotalTime()*100+"%"}}},{key:"getHoveredTimeStyle",value:function(){return{width:100*this.getHoveredRelativePosition()+"%"}}},{key:"getCurrentTime",value:function(){var t=on(un.campaign.music);return t=Math.min(t,this.getTotalTime()),isNaN(t)&&(t=0),t}},{key:"getTotalTime",value:function(){var t;return null==(null===(t=window.youtubePlayer)||void 0===t?void 0:t.getDuration)?0:1e3*window.youtubePlayer.getDuration()}},{key:"getHoveredRelativePosition",value:function(){if(null==document.getElementById("timeline"))return 0;var t=document.getElementById("timeline").getBoundingClientRect();return(Ln.a.position.x-t.x)/t.width}},{key:"getHoveredTime",value:function(){return this.getHoveredRelativePosition()*this.getTotalTime()}}]),t}();function Mn(t){return(Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,s=void 0,s=function(t,e){if("object"!==Mn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Mn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Mn(s)?s:String(s)),i)}var r,s}function Pn(t,e,n){return e&&Kn(t.prototype,e),n&&Kn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Jn=function(){function t(){Gn(this,t)}return Pn(t,[{key:"render",value:function(){if(null!=un.campaign)return On.onLoad(),d("div",{class:"PlayScreen"},d(Vn,null),d(Fn,null))}}]),t}(),Vn=function(){function t(){Gn(this,t)}return Pn(t,[{key:"render",value:function(){if(null!=un.campaign)return d("div",{class:"Screenshot",onClick:this.onClick,style:{"background-image":"url("+un.campaign.art.url+")"}})}},{key:"onClick",value:function(){On.pauseplay()}}]),t}(),Hn=n(23);function Wn(t){return(Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yn(t){return function(t){if(Array.isArray(t))return zn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return zn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zn(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Zn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,s=void 0,s=function(t,e){if("object"!==Wn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Wn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Wn(s)?s:String(s)),i)}var r,s}var Xn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,(n=[{key:"render",value:function(){return d("div",{className:"DragAndDrop",onDrop:this.onDrop,onDragOver:this.onDragOver,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave},d("div",{class:"UploadZone",isDragAndDropping:window.isDragAndDropping>0}),this.props.children)}},{key:"onDragEnter",value:function(t){window.isDragAndDropping=window.isDragAndDropping||0,window.isDragAndDropping+=1}},{key:"onDragLeave",value:function(t){window.isDragAndDropping=window.isDragAndDropping||0,window.isDragAndDropping-=1}},{key:"onDragOver",value:function(t){t.preventDefault()}},{key:"onDrop",value:function(t){t.preventDefault(),window.isDragAndDropping=!1;var e=Yn(t.dataTransfer.files);t.dataTransfer.items&&(e=Yn(t.dataTransfer.items).map((function(t){if("file"==t.kind)return t.getAsFile()}))),e.forEach((function(t,e){null!=t&&function(t){return new Promise((function(e,n){var i=Tn.a.generate(),r="art/"+i+t.name.match(/\.[0-9a-z]+$/i);nn.files.ref(r).put(t).on("state_changed",(function(t){var e=t.bytesTransferred/t.totalBytes*100;console.log("uploading... ",e+"%")}),(function(t){n(t)}),(function(n){nn.files.ref(r).getDownloadURL().then((function(n){var s={url:n,docid:i,fileref:r,timestamp:Date.now(),oldfilename:t.name};nn.data.collection("art").doc(i).set(s),e(s)}))}))}))}(t).then((function(t){0==e&&nn.data.collection("campaigns").doc("theros").update({art:t})}))}))}}])&&Zn(e.prototype,n),i&&Zn(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function $n(t){return function(t){if(Array.isArray(t))return ti(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return ti(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ti(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ti(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function ei(t){return(ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ni(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ii(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,s=void 0,s=function(t,e){if("object"!==ei(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==ei(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===ei(s)?s:String(s)),i)}var r,s}function ri(t,e,n){return e&&ii(t.prototype,e),n&&ii(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var si=function(){function t(){ni(this,t)}return ri(t,[{key:"render",value:function(){if(null!=un.campaign)return On.onLoad(),d(Xn,null,d("div",{class:"EditScreen"},d("div",{class:"PlayingPanel"},d("div",{class:"PlayBox"},d("div",{class:"YoutubeScreenshot",onClick:function(){return On.pauseplay()},style:{"background-image":"url(https://img.youtube.com/vi/"+un.campaign.music.youtubeId+"/default.jpg)"}}),d(Fn,null)),d(ai,null)),d("div",{class:"SearchPanel"},d(oi,null),d("div",{class:"Playlists"},Hn.map((function(t){return d("div",{class:"Playlist"},d("a",{class:"PlaylistName",href:"https://www.youtube.com/playlist?list="+t.id,target:"_blank"},t.title),d("div",{class:"Musics"},t.musics.map((function(t){return d("div",{class:"Music",onClick:function(){nn.data.collection("campaigns").doc("theros").update({musics:un.campaign.musics.concat({key:Tn.a.generate(),youtubeId:t.youtubeId,title:t.title})})}},d("div",{class:"YoutubeScreenshot",style:{"background-image":"url(https://img.youtube.com/vi/"+t.youtubeId+"/default.jpg)"}}),d("div",{class:"Text"},t.title||t.youtubeId))}))))}))))))}}]),t}(),oi=function(){function t(){ni(this,t)}return ri(t,[{key:"render",value:function(){return d("form",{class:"SubmissionForm",onSubmit:this.onSubmit},d("input",{name:"youtube",type:"text",placeholder:"put your youtube url here"}),d("input",{type:"submit"}))}},{key:"onSubmit",value:function(t){t.preventDefault();var e=t.target.children.youtube.value,n=(e=(e=e.split(",")).map((function(t){return t.trim()}))).map((function(t){return{key:Tn.a.generate(),youtubeId:rn(t),embeddedStartTime:sn(t)}}));(n=n.filter((function(t){return null!=t.youtubeId}))).forEach((function(t){Object.keys(t).forEach((function(e){null==t[e]&&delete t[e]}))})),n.length<=0||(null!=un.campaign.musics&&(n=un.campaign.musics.concat(n)),nn.data.collection("campaigns").doc("theros").update({musics:n}))}}]),t}(),ai=function(){function t(){ni(this,t)}return ri(t,[{key:"render",value:function(){if(null!=un.campaign&&null!=un.campaign.musics)return d("div",{class:"Queue"},un.campaign.musics.map((function(t){return d(ui,{music:t})})),d("div",{class:"ClearAll",onClick:function(){nn.data.collection("campaigns").doc("theros").update({musics:[]})}},"Clear all?"))}}]),t}(),ui=function(){function t(){ni(this,t)}return ri(t,[{key:"render",value:function(){return d("div",{class:"QueuedItem",onClick:this.onClickContent,isOnDeck:this.isOnDeck},d("div",{class:"YoutubeScreenshot",style:{"background-image":"url(https://img.youtube.com/vi/"+this.props.music.youtubeId+"/default.jpg)"}}),d("div",{class:"Text"},this.props.music.title||this.props.music.youtubeId),d("div",{class:"DeleteButton",onClick:this.onClickButton},d("span",{class:"material-icons"},"delete")))}},{key:"isOnDeck",get:function(){return un.campaign.music.key==this.props.music.key}},{key:"onClickContent",get:function(){var t=this;return function(e){nn.data.collection("campaigns").doc("theros").update({music:{key:t.props.music.key,runkey:Tn.a.generate(),youtubeId:t.props.music.youtubeId,startTime:Date.now(),state:"playing"}})}}},{key:"onClickButton",get:function(){var t=this;return function(e){e.stopPropagation(),nn.data.collection("campaigns").doc("theros").update({musics:li(un.campaign.musics,t.props.music)})}}}]),t}();function li(t,e){var n=t.indexOf(e);return-1==n?t:[].concat($n(t.slice(0,n)),$n(t.slice(n+1)))}n(33),n(35),n(40),n(42),n(44);function ci(t){return(ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hi(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,s=void 0,s=function(t,e){if("object"!==ci(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==ci(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===ci(s)?s:String(s)),i)}var r,s}var Ai=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,(n=[{key:"render",value:function(){if(null!=un.campaign)return d("div",{className:"Mount"},this.title,this.screen)}},{key:"title",get:function(){return d("title",null,"Bardic Inspiration")}},{key:"screen",get:function(){return"SplashScreen"==bn.state.screen?d(qn,null):"PlayScreen"==bn.state.screen?d(Jn,null):"EditScreen"==bn.state.screen?d(si,null):void 0}}])&&hi(e.prototype,n),i&&hi(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();new R.a((function(t){this.mount=O(d(Ai,null),document.body,this.mount)}))}]);
//# sourceMappingURL=index.js.map